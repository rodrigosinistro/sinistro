const _0x4a0509=_0x3e0e;(function(_0x3579d5,_0x46c18a){const _0xb58a0a=_0x3e0e,_0x14a396=_0x3579d5();while(!![]){try{const _0x272bb2=parseInt(_0xb58a0a(0x1ff))/0x1*(parseInt(_0xb58a0a(0x1ca))/0x2)+parseInt(_0xb58a0a(0x143))/0x3*(parseInt(_0xb58a0a(0x170))/0x4)+parseInt(_0xb58a0a(0x1c7))/0x5*(-parseInt(_0xb58a0a(0x1a5))/0x6)+parseInt(_0xb58a0a(0x152))/0x7+-parseInt(_0xb58a0a(0x1b2))/0x8+-parseInt(_0xb58a0a(0x110))/0x9*(-parseInt(_0xb58a0a(0x1a9))/0xa)+-parseInt(_0xb58a0a(0x162))/0xb*(parseInt(_0xb58a0a(0x161))/0xc);if(_0x272bb2===_0x46c18a)break;else _0x14a396['push'](_0x14a396['shift']());}catch(_0x48896d){_0x14a396['push'](_0x14a396['shift']());}}}(_0x50c4,0x37f61));import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{UtilActors}from'./UtilActors.js';import{Consts}from'./Consts.js';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{UtilDataConverter}from'./UtilDataConverter.js';class PageFilterClassesFoundry extends PageFilterClassesRaw{static['_handleReferenceError'](_0x4f3c17){const _0xc63763=_0x3e0e;console[_0xc63763(0x149)](...LGT,_0x4f3c17),ui[_0xc63763(0x201)]['error'](_0x4f3c17);}static[_0x4a0509(0x14e)]({it:_0x546e33,path:_0x549952,references:_0x3a549c,actor:_0x2955e2,isIgnoredLookup:_0x399f5a,..._0x30843a}){const _0x23f40c=_0x4a0509,_0x4ad25a=super[_0x23f40c(0x14e)]({'it':_0x546e33,'path':_0x549952,'references':_0x3a549c,'actor':_0x2955e2,..._0x30843a});if(_0x4ad25a!=null)return _0x4ad25a;const _0x45ccab=this[_0x23f40c(0xf4)]({'it':_0x546e33}),_0x4f1f40=this[_0x23f40c(0x146)]({'it':_0x546e33,'isIgnoredLookup':_0x399f5a});if(_0x4f1f40)return null;const {name:_0x378c2b,source:_0x3a755c}=_0x45ccab;return{'type':_0x23f40c(0x1bd),'wrapped':_0x2955e2?_0x23f40c(0x199)+_0x2955e2['id']+']['+_0x378c2b+']':_0x23f40c(0x213)+_0x378c2b+']','source':_0x3a755c,'data':{'isFvttSyntheticFeatureLink':!![]}};}static[_0x4a0509(0xf4)]({it:_0x4de003}){const _0x3c937e=_0x4a0509;switch(_0x4de003[_0x3c937e(0x1d4)]){case'refClassFeature':return DataUtil[_0x3c937e(0x1b1)][_0x3c937e(0x11f)](_0x4de003[_0x3c937e(0x1cf)]);case'refSubclassFeature':return DataUtil['class'][_0x3c937e(0x1ab)](_0x4de003[_0x3c937e(0x1e3)]);case'refOptionalfeature':return DataUtil[_0x3c937e(0x1b1)][_0x3c937e(0x1ab)](_0x4de003[_0x3c937e(0x206)]);default:throw new Error(_0x3c937e(0x205)+_0x4de003['type']+'\x22');}}static['_pLoadSubEntries_getMappedWalkerArrayEntry_isIgnored']({it:_0x1276fa,isIgnoredLookup:_0x3cd92a}){const _0x4bf85d=_0x4a0509;if(!_0x3cd92a)return![];switch(_0x1276fa[_0x4bf85d(0x1d4)]){case _0x4bf85d(0x164):return _0x3cd92a[(_0x1276fa[_0x4bf85d(0x1cf)]||'')[_0x4bf85d(0x1cb)]()];case'refSubclassFeature':return _0x3cd92a[(_0x1276fa[_0x4bf85d(0x1e3)]||'')['toLowerCase']()];default:return![];}}}class Charactermancer_Class_Util{static[_0x4a0509(0x1f2)](_0x449812){const _0x4da095=_0x4a0509;let _0x3d595a=[];const _0x3f48ff=new Set(),_0x55fa61=_0x449812['classFeatures'][_0x4da095(0x1ba)](_0x4266f1=>_0x4266f1[_0x4da095(0x1cd)])['map'](_0x4bbd7d=>_0x4bbd7d[_0x4da095(0x17a)]??DataUtil[_0x4da095(0x1b1)]['unpackUidClassFeature'](_0x4bbd7d[_0x4da095(0x1cf)]||_0x4bbd7d)[_0x4da095(0x17a)]);return _0x449812[_0x4da095(0x204)]['forEach'](_0x3ba217=>{const _0x42da15=_0x4da095;_0x3d595a['push'](_0x3ba217);if(_0x3ba217[_0x42da15(0x1cd)]){const _0xc1edb3=_0x3ba217['level']??DataUtil['class'][_0x42da15(0x11f)](_0x3ba217[_0x42da15(0x1cf)]||_0x3ba217)[_0x42da15(0x17a)],_0x4c7f1b=_0x55fa61[_0x42da15(0x1fd)](_0xc1edb3)?_0x55fa61[_0x55fa61[_0x42da15(0x12f)](_0xc1edb3)+0x1]:null;_0x449812[_0x42da15(0x138)][_0x42da15(0x140)](_0x4a4ff4=>{const _0x19f573=_0x42da15;_0x4a4ff4['subclassFeatures'][_0x19f573(0x1ba)](_0x31630e=>{const _0x5eb7b9=_0x19f573,_0x279d8e=_0x31630e[_0x5eb7b9(0x17d)]??DataUtil[_0x5eb7b9(0x1b1)]['unpackUidSubclassFeature'](_0x31630e[_0x5eb7b9(0x1e3)]||_0x31630e)['hash'],_0x1d4ea9=_0x31630e[_0x5eb7b9(0x17a)]??DataUtil[_0x5eb7b9(0x1b1)]['unpackUidSubclassFeature'](_0x31630e[_0x5eb7b9(0x1e3)]||_0x31630e)['level'];if(_0x3f48ff[_0x5eb7b9(0x13c)](_0x279d8e))return![];if(_0x31630e[_0x5eb7b9(0x217)]){if(_0xc1edb3===_0x55fa61[0x0]&&_0x1d4ea9<=_0xc1edb3)return!![];if(_0x1d4ea9<=_0xc1edb3&&(_0x4c7f1b==null||_0x1d4ea9<_0x4c7f1b))return!![];return![];}return _0x1d4ea9===_0xc1edb3;})['forEach'](_0xdbc9c0=>{const _0x26997e=_0x19f573,_0x577e42=_0xdbc9c0[_0x26997e(0x17d)]??DataUtil[_0x26997e(0x1b1)][_0x26997e(0x1ab)](_0xdbc9c0[_0x26997e(0x1e3)]||_0xdbc9c0)[_0x26997e(0x17d)];_0x3f48ff[_0x26997e(0x1de)](_0x577e42),_0xdbc9c0[_0x26997e(0x17a)]=_0xc1edb3,_0x3d595a['push'](_0xdbc9c0);});});}}),MiscUtil[_0x4da095(0x224)](_0x3d595a);}static['getFilteredEntries'](_0x1935cd,_0xe9977d,_0x45a138){const _0x2b13bd=_0x4a0509,_0x451afc=_0x3076e4=>{const _0xc0c0e7=_0x3e0e;if(!_0x3076e4[_0xc0c0e7(0x14a)])return!![];return _0xe9977d[_0xc0c0e7(0x19b)]['toDisplay'](_0x45a138,_0x3076e4[_0xc0c0e7(0x14a)]);},_0x36d711=_0x3eb2cf=>{const _0x427bd7=_0x3e0e;if(_0x3eb2cf==null)return _0x3eb2cf;if(typeof _0x3eb2cf===_0x427bd7(0x1f0))return _0x3eb2cf instanceof Array?(_0x3eb2cf=_0x3eb2cf['filter'](_0x1138c3=>_0x451afc(_0x1138c3)),_0x3eb2cf[_0x427bd7(0x1b3)](_0x4e33be=>_0x36d711(_0x4e33be))):(Object[_0x427bd7(0x13a)](_0x3eb2cf)[_0x427bd7(0x140)](_0x5bf907=>{if(_0x3eb2cf[_0x5bf907]instanceof Array){_0x3eb2cf[_0x5bf907]=_0x36d711(_0x3eb2cf[_0x5bf907]);if(!_0x3eb2cf[_0x5bf907]['length'])delete _0x3eb2cf[_0x5bf907];}else _0x3eb2cf[_0x5bf907]=_0x36d711(_0x3eb2cf[_0x5bf907]);}),_0x3eb2cf);else return _0x3eb2cf;};return _0x1935cd=MiscUtil[_0x2b13bd(0x224)](_0x1935cd),_0x36d711(_0x1935cd);}static async['pGetPreparableSpells'](_0x1db97a,_0x2c0f8f,_0x18fab9,_0x44f3e5){const _0xfe46cf=_0x4a0509,_0x2cc9be=await BrewUtil2['pGetBrewProcessed']();return Renderer['spell']['populateHomebrewLookup'](_0x2cc9be,{'isForce':!![]}),_0x1db97a[_0xfe46cf(0x1ba)](_0x572ccf=>{const _0x3a713c=_0xfe46cf;if(!(_0x572ccf[_0x3a713c(0x17a)]>0x0&&_0x572ccf['level']>=_0x18fab9&&_0x572ccf[_0x3a713c(0x17a)]<=_0x44f3e5))return![];Renderer[_0x3a713c(0x163)]['initClasses'](_0x572ccf);const _0x357d1a=Renderer['spell'][_0x3a713c(0x1af)](_0x572ccf,_0x3a713c(0x124));return _0x357d1a[_0x3a713c(0x147)](_0x205082=>(_0x205082[_0x3a713c(0x1d3)]||'')[_0x3a713c(0x1cb)]()===_0x2c0f8f[_0x3a713c(0x1d3)][_0x3a713c(0x1cb)]()&&(_0x205082[_0x3a713c(0x14a)]||SRC_PHB)[_0x3a713c(0x1cb)]()===_0x2c0f8f[_0x3a713c(0x14a)]['toLowerCase']());});}static[_0x4a0509(0x118)](_0x2306a9,_0x37b7e1,{targetLevel:_0x52e68e,otherExistingClassItems:otherExistingClassItems=null,otherExistingSubclassItems:otherExistingSubclassItems=null}){const _0x2d9d88=_0x4a0509;otherExistingClassItems=otherExistingClassItems||[],otherExistingSubclassItems=otherExistingSubclassItems||[];const _0x52bbc4=[...otherExistingClassItems[_0x2d9d88(0x1ba)](_0x1c70db=>_0x1c70db[_0x2d9d88(0x197)]?.['data']?.[_0x2d9d88(0x218)]&&_0x1c70db[_0x2d9d88(0x197)]?.[_0x2d9d88(0x197)]?.[_0x2d9d88(0x218)]!==_0x2d9d88(0x1a6)),...otherExistingSubclassItems[_0x2d9d88(0x1ba)](_0x4614d5=>_0x4614d5[_0x2d9d88(0x197)]?.[_0x2d9d88(0x197)]?.['spellcasting']&&_0x4614d5[_0x2d9d88(0x197)]?.[_0x2d9d88(0x197)]?.[_0x2d9d88(0x218)]!==_0x2d9d88(0x1a6)),_0x2306a9['casterProgression']!=null||_0x37b7e1?.['casterProgression']!=null][_0x2d9d88(0x1ba)](Boolean)[_0x2d9d88(0xfa)]>0x1;let {totalSpellcastingLevels:_0x11fe4e,casterClassCount:_0x25936d,maxPactCasterLevel:_0x7e9989}=UtilActors[_0x2d9d88(0x10a)]({'sheetItems':[...otherExistingClassItems,...otherExistingSubclassItems],'isForceSpellcastingMulticlass':_0x52bbc4});_0x7e9989=Math[_0x2d9d88(0x186)](_0x7e9989,_0x52e68e);const _0x165254=_0x37b7e1?.[_0x2d9d88(0x180)]||_0x2306a9[_0x2d9d88(0x180)],_0x549218=_0x37b7e1?.[_0x2d9d88(0x1be)]||_0x2306a9[_0x2d9d88(0x1be)];if(_0x165254){const _0x334e1e=_0x25936d?Math['floor']:Math['ceil'];switch(_0x165254){case _0x2d9d88(0x15f):_0x11fe4e+=_0x52e68e;break;case _0x2d9d88(0x19c):_0x11fe4e+=_0x334e1e(_0x52e68e/0x2);break;case _0x2d9d88(0x115):_0x11fe4e+=_0x334e1e(_0x52e68e/0x3);break;}}return{'casterProgression':_0x165254,'spellAbility':_0x549218,'totalSpellcastingLevels':_0x11fe4e,'maxPactCasterLevel':_0x7e9989};}static[_0x4a0509(0x1df)]({cls:cls=null,targetLevel:targetLevel=0x0,otherExistingClassItems:otherExistingClassItems=null,otherExistingSubclassItems:otherExistingSubclassItems=null}){const _0x2e80aa=_0x4a0509;otherExistingClassItems=otherExistingClassItems||[],otherExistingSubclassItems=otherExistingSubclassItems||[];let _0x19d7b2=0x0;if(cls?.['name']===_0x2e80aa(0x130)&&cls?.['source']===SRC_UATMC)_0x19d7b2+=targetLevel;return otherExistingClassItems&&(_0x19d7b2+=otherExistingClassItems[_0x2e80aa(0x1ba)](_0x20066c=>_0x20066c[_0x2e80aa(0x1d3)][_0x2e80aa(0x1cb)]()[_0x2e80aa(0x20d)]()===_0x2e80aa(0x10d))[_0x2e80aa(0x1b3)](_0x238193=>_0x238193[_0x2e80aa(0x197)][_0x2e80aa(0x141)])[_0x2e80aa(0x21d)]()),{'totalMysticLevels':_0x19d7b2};}static[_0x4a0509(0x181)](_0x3ad4b6,_0x345cab){const _0x428ad3=_0x4a0509;for(const _0x20850b of _0x3ad4b6){if(_0x20850b['classFeatures']&&_0x20850b[_0x428ad3(0x20e)]?.[_0x428ad3(0xfa)])for(const _0x5dfb63 of _0x20850b[_0x428ad3(0x20e)]){this['_addFauxOptionalFeatureFeatures_handleClassProgression'](_0x345cab,_0x20850b,null,_0x5dfb63);}for(const _0x49b522 of _0x20850b[_0x428ad3(0x138)]){if(_0x49b522[_0x428ad3(0x15e)]&&_0x49b522[_0x428ad3(0x20e)]?.[_0x428ad3(0xfa)])for(const _0x4d6612 of _0x49b522[_0x428ad3(0x20e)]){this['_addFauxOptionalFeatureFeatures_handleClassProgression'](_0x345cab,_0x20850b,_0x49b522,_0x4d6612);}}}}static['_addFauxOptionalFeatureFeatures_handleClassProgression'](_0x2c302d,_0x28a522,_0x9856c4,_0x3a29e8){const _0x56b289=_0x4a0509,_0x30a0c2=this[_0x56b289(0x219)](_0x2c302d,_0x28a522,_0x3a29e8);let _0x4ab3cf=_0x3a29e8[_0x56b289(0x15d)];if(!(_0x4ab3cf instanceof Array)){_0x4ab3cf['*']&&(_0x4ab3cf=MiscUtil[_0x56b289(0x224)](_0x4ab3cf),_0x4ab3cf[0x1]=_0x4ab3cf['*']);const _0x56eba9=new Set(Object['keys'](_0x4ab3cf)[_0x56b289(0x1b3)](_0x4f1e47=>Number(_0x4f1e47))['sort'](SortUtil['ascSort'])),_0x7d416d=[],_0x19c603=Math[_0x56b289(0x186)](..._0x56eba9,Consts[_0x56b289(0x173)]);for(let _0x39512d=0x0;_0x39512d<_0x19c603;++_0x39512d){_0x7d416d[_0x39512d]=_0x56eba9['has'](_0x39512d+0x1)?_0x4ab3cf[_0x39512d+0x1]:_0x7d416d['length']?_0x7d416d[_0x56b289(0x148)]():0x0;}_0x4ab3cf=_0x7d416d;}let _0x590934=_0x3a29e8['required'];if(_0x590934&&!(_0x590934 instanceof Array)){const _0x37fdc4=new Set(Object[_0x56b289(0x13a)](_0x590934)[_0x56b289(0x1b3)](_0x395072=>Number(_0x395072))[_0x56b289(0x18f)](SortUtil[_0x56b289(0x227)])),_0x47b3ab=[],_0x54a7c8=Math[_0x56b289(0x186)](..._0x37fdc4,Consts[_0x56b289(0x173)]);for(let _0x17f4ef=0x0;_0x17f4ef<_0x54a7c8;++_0x17f4ef){_0x47b3ab[_0x17f4ef]=_0x37fdc4[_0x56b289(0x13c)](_0x17f4ef+0x1)?_0x590934[_0x17f4ef+0x1]:[];}_0x590934=_0x47b3ab;}const _0x3e0d23=_0x9856c4?'subclassFeatures':_0x56b289(0x204),_0x4b15d4=_0x9856c4?_0x56b289(0x1e3):_0x56b289(0x1cf),_0x140688=_0x9856c4?DataUtil[_0x56b289(0x1b1)]['unpackUidSubclassFeature']:DataUtil[_0x56b289(0x1b1)][_0x56b289(0x11f)];let _0x331437=0x0;_0x4ab3cf[_0x56b289(0x140)]((_0xb0aa9b,_0x3cd1eb)=>{const _0x2cd8d8=_0x56b289;if(_0xb0aa9b===_0x331437)return;const _0x3a8ab6=_0xb0aa9b-_0x331437;if(!~_0x3a8ab6)return;const _0x3b2ba7=_0x3cd1eb+0x1,_0x538461=(_0x590934?.[_0x3cd1eb]||[])['map'](_0x16d546=>DataUtil[_0x2cd8d8(0x11b)][_0x2cd8d8(0x212)](_0x2cd8d8(0x206),_0x16d546,_0x2cd8d8(0x16e),{'isLower':!![]})),_0x24601e=this[_0x2cd8d8(0x172)](_0x28a522,_0x9856c4,_0x3a29e8,_0x3b2ba7,_0x30a0c2,_0x3a8ab6,_0x538461),_0x3f373b=(_0x9856c4||_0x28a522)[_0x3e0d23]['findIndex'](_0xbca90=>{const _0x5cd579=_0x2cd8d8;return(_0xbca90[_0x5cd579(0x17a)]||_0x140688(_0xbca90[_0x4b15d4]||_0xbca90)['level'])>_0x3b2ba7;});if(~_0x3f373b)(_0x9856c4||_0x28a522)[_0x3e0d23][_0x2cd8d8(0x1d9)](_0x3f373b,0x0,_0x24601e);else(_0x9856c4||_0x28a522)[_0x3e0d23]['push'](_0x24601e);_0x331437=_0xb0aa9b;});}static[_0x4a0509(0x219)](_0x3b14e2,_0x1599e5,_0xa7e590){const _0x2f73e9=_0x4a0509,_0x33345b=_0x3b14e2[_0x2f73e9(0x1ba)](_0x31b1fb=>_0xa7e590[_0x2f73e9(0x104)]instanceof Array&&(_0xa7e590['featureType']||[])[_0x2f73e9(0x147)](_0x4fc4a8=>_0x31b1fb[_0x2f73e9(0x104)][_0x2f73e9(0x1fd)](_0x4fc4a8))),_0x34af4c={'setId':CryptUtil[_0x2f73e9(0x1b5)](),'name':_0xa7e590[_0x2f73e9(0x1d3)]};return _0x33345b['map'](_0x24435a=>{const _0x1a9bf0=_0x2f73e9;return{'type':_0x1a9bf0(0x206),'entry':_0x1a9bf0(0x12a)+_0x24435a[_0x1a9bf0(0x1d3)]+'|'+_0x24435a[_0x1a9bf0(0x14a)]+'}','entity':MiscUtil[_0x1a9bf0(0x224)](_0x24435a),'optionsMeta':_0x34af4c,'page':UrlUtil[_0x1a9bf0(0x191)],'source':_0x24435a[_0x1a9bf0(0x14a)],'hash':UrlUtil[_0x1a9bf0(0x16b)][UrlUtil[_0x1a9bf0(0x191)]](_0x24435a),'isRequiredOption':![]};});}static[_0x4a0509(0x172)](_0x311a20,_0x2d9949,_0x443855,_0x4161f5,_0x5e9fb6,_0x3e0440,_0x218679){const _0xae083a=_0x4a0509,_0x58d6e6=MiscUtil[_0xae083a(0x224)](_0x5e9fb6);_0x58d6e6[_0xae083a(0x140)](_0xbbd91a=>{const _0x46f040=_0xae083a;_0xbbd91a[_0x46f040(0x142)]=_0x218679[_0x46f040(0x147)](_0x30e6be=>_0x30e6be[_0x46f040(0x1d3)]===_0xbbd91a[_0x46f040(0x21c)]['name'][_0x46f040(0x1cb)]()&&_0x30e6be[_0x46f040(0x14a)]===_0xbbd91a[_0x46f040(0x21c)][_0x46f040(0x14a)][_0x46f040(0x1cb)]()),_0xbbd91a[_0x46f040(0x157)][_0x46f040(0x101)]=_0x3e0440,PageFilterClassesFoundry[_0x46f040(0x1aa)]({'entity':_0xbbd91a[_0x46f040(0x21c)],'ancestorClassName':_0x311a20[_0x46f040(0x1d3)],'ancestorSubclassName':_0x2d9949?.[_0x46f040(0x1d3)],'level':_0x4161f5,'ancestorType':'optionalfeature','displayName':_0x443855[_0x46f040(0x1d3)]+':\x20'+_0xbbd91a['entity'][_0x46f040(0x1d3)],'foundryData':{'requirements':''+_0x311a20['name']+(_0x2d9949?'\x20('+_0x2d9949['name']+')':'')+'\x20'+_0x4161f5}});});const _0x2d7f1c={'name':_0x443855[_0xae083a(0x1d3)],'level':_0x4161f5,'loadeds':_0x58d6e6};return _0x2d9949?Object[_0xae083a(0x203)](_0x2d7f1c,{'source':_0x2d9949[_0xae083a(0x14a)],'subclassFeature':_0x443855['name']+'|'+_0x311a20[_0xae083a(0x1d3)]+'|'+_0x311a20[_0xae083a(0x14a)]+'|'+_0x2d9949[_0xae083a(0x14d)]+'|'+_0x2d9949[_0xae083a(0x14a)]+'|'+_0x4161f5+'|'+SRC_5ETOOLS_TMP,'hash':UrlUtil[_0xae083a(0x16b)]['subclassFeature']({'name':_0x443855['name'],'subclassName':_0x2d9949[_0xae083a(0x1d3)],'subclassSource':_0x2d9949[_0xae083a(0x14a)],'className':_0x311a20[_0xae083a(0x1d3)],'classSource':_0x311a20[_0xae083a(0x14a)],'level':_0x4161f5,'source':SRC_5ETOOLS_TMP})}):Object[_0xae083a(0x203)](_0x2d7f1c,{'source':_0x311a20[_0xae083a(0x14a)],'classFeature':_0x443855[_0xae083a(0x1d3)]+'|'+_0x311a20[_0xae083a(0x1d3)]+'|'+_0x311a20[_0xae083a(0x14a)]+'|'+_0x4161f5+'|'+SRC_5ETOOLS_TMP,'hash':UrlUtil['URL_TO_HASH_BUILDER']['classFeature']({'name':_0x443855['name'],'className':_0x311a20[_0xae083a(0x1d3)],'classSource':_0x311a20[_0xae083a(0x14a)],'level':_0x4161f5,'source':SRC_5ETOOLS_TMP})}),_0x2d7f1c;}static[_0x4a0509(0x183)](_0x19df31,_0x98db17){const _0x4d434d=_0x4a0509;if(!_0x98db17)return[];return _0x19df31['items'][_0x4d434d(0x1ba)](_0x2e27bf=>_0x2e27bf['type']===_0x4d434d(0x1b1)&&(_0x2e27bf[_0x4d434d(0x1d3)]||'')[_0x4d434d(0x1cb)]()[_0x4d434d(0x20d)]()===_0x98db17['name']['toLowerCase']()[_0x4d434d(0x20d)]()&&(!Config[_0x4d434d(0x200)]('import','isStrictMatching')||(UtilDataConverter[_0x4d434d(0x1c1)](_0x2e27bf)[_0x4d434d(0x14a)]||'')['toLowerCase']()===Parser[_0x4d434d(0x211)](_0x98db17[_0x4d434d(0x14a)])['toLowerCase']()));}static['getExistingSubclassItems'](_0x5e8d30,_0x5cd18f,_0x475316){const _0x4974df=_0x4a0509;if(!_0x5cd18f||!_0x475316)return[];return _0x5e8d30[_0x4974df(0x175)]['filter'](_0x146fda=>_0x146fda[_0x4974df(0x1d4)]===_0x4974df(0x184)&&(_0x146fda[_0x4974df(0x1d3)]||'')[_0x4974df(0x1cb)]()[_0x4974df(0x20d)]()===_0x475316['name'][_0x4974df(0x1cb)]()['trim']()&&(!Config[_0x4974df(0x200)](_0x4974df(0x1bc),_0x4974df(0x179))||(UtilDataConverter['getItemSource'](_0x146fda)[_0x4974df(0x14a)]||'')[_0x4974df(0x1cb)]()===Parser[_0x4974df(0x211)](_0x475316[_0x4974df(0x14a)])[_0x4974df(0x1cb)]()));}static[_0x4a0509(0x1bb)](_0x536136,_0x13a1b2){const _0x14181a=_0x4a0509;if(!_0x536136||_0x536136[_0x14181a(0x1d4)]!==_0x14181a(0x1b1)||!_0x13a1b2?.[_0x14181a(0xfa)])return null;return _0x13a1b2=[..._0x13a1b2][_0x14181a(0x18f)](this[_0x14181a(0x1e7)][_0x14181a(0x109)](this)),_0x13a1b2['find'](_0x2a5d85=>_0x2a5d85['name'][_0x14181a(0x1cb)]()[_0x14181a(0x20d)]()===_0x536136[_0x14181a(0x1d3)][_0x14181a(0x1cb)]()['trim']()&&(!Config[_0x14181a(0x200)](_0x14181a(0x1bc),'isStrictMatching')||(UtilDataConverter[_0x14181a(0x1c1)](_0x536136)[_0x14181a(0x14a)]||'')[_0x14181a(0x1cb)]()===Parser[_0x14181a(0x211)](_0x2a5d85['source'])[_0x14181a(0x1cb)]()));}static[_0x4a0509(0x13f)](_0x474cd1,_0x428814,_0x1dac33){const _0x2b0930=_0x4a0509;if(!_0x474cd1||_0x474cd1[_0x2b0930(0x1d4)]!==_0x2b0930(0x184)||!_0x1dac33?.['length'])return null;return _0x1dac33=_0x1dac33[_0x2b0930(0x1ba)](_0x30ffa1=>_0x30ffa1[_0x2b0930(0x1f6)]===_0x428814[_0x2b0930(0x1d3)]&&_0x30ffa1[_0x2b0930(0x1a3)]===_0x428814['source']),_0x1dac33=[..._0x1dac33]['sort'](this[_0x2b0930(0x1e7)]['bind'](this)),_0x1dac33[_0x2b0930(0x1b7)](_0x34ac92=>_0x34ac92['name']['toLowerCase']()[_0x2b0930(0x20d)]()===_0x474cd1[_0x2b0930(0x1d3)][_0x2b0930(0x1cb)]()[_0x2b0930(0x20d)]()||_0x34ac92[_0x2b0930(0x14d)]['toLowerCase']()[_0x2b0930(0x20d)]()===_0x474cd1[_0x2b0930(0x1d3)][_0x2b0930(0x1cb)]()[_0x2b0930(0x20d)]());}static[_0x4a0509(0x1e7)](_0x1b9447,_0x539982){const _0x5969b5=_0x4a0509,_0xfbb019=SourceUtil[_0x5969b5(0x189)](_0x1b9447[_0x5969b5(0x14a)]),_0x5c9f90=SourceUtil[_0x5969b5(0x189)](_0x539982['source']);if(_0xfbb019===_0x5c9f90)return SortUtil[_0x5969b5(0x102)](Parser[_0x5969b5(0x1e0)](_0x1b9447[_0x5969b5(0x14a)]),Parser[_0x5969b5(0x1e0)](_0x539982[_0x5969b5(0x14a)]))||SortUtil[_0x5969b5(0x171)](_0x1b9447['name'],_0x539982['name']);return _0xfbb019?0x1:-0x1;}static[_0x4a0509(0x193)](_0x26642f){const _0x1cb064=_0x4a0509,_0x110087=[];return MiscUtil[_0x1cb064(0x154)]({'isNoModification':!![]})[_0x1cb064(0x106)](_0x26642f,{'object':_0x525df9=>{const _0x2bcf78=_0x1cb064;if(!['refClassFeature',_0x2bcf78(0x19f)]['includes'](_0x525df9[_0x2bcf78(0x1d4)]))return;_0x110087[_0x2bcf78(0x221)](MiscUtil[_0x2bcf78(0x224)](_0x525df9));}}),_0x110087;}static[_0x4a0509(0x19a)]({classItems:_0x2d398b,subclassItems:_0x55601e}){const _0x52361e=_0x4a0509;if(!_0x2d398b?.[_0x52361e(0xfa)])return[];return _0x55601e=_0x55601e||[],_0x2d398b[_0x52361e(0x1b3)](_0xdda817=>({'classItem':_0xdda817,'subclassItem':_0x55601e[_0x52361e(0x1b7)](_0x189f24=>_0x189f24['data'][_0x52361e(0x197)][_0x52361e(0xf5)]===_0xdda817[_0x52361e(0x197)][_0x52361e(0x197)][_0x52361e(0x13d)])}));}}Charactermancer_Class_Util[_0x4a0509(0x1da)]=class{constructor(_0x34cf4e){const _0x4b080a=_0x4a0509;this[_0x4b080a(0x182)]=_0x34cf4e,this[_0x4b080a(0x187)]={},this[_0x4b080a(0x19d)]={},_0x34cf4e[_0x4b080a(0x175)][_0x4b080a(0x1ba)](_0x1a5e0b=>_0x1a5e0b[_0x4b080a(0x1d4)]===_0x4b080a(0x14f))[_0x4b080a(0x140)](_0x537185=>{const _0x9a8a5b=_0x4b080a,_0x5efd6a=(UtilDataConverter[_0x9a8a5b(0x1c1)](_0x537185)[_0x9a8a5b(0x14a)]||'')[_0x9a8a5b(0x20d)]()[_0x9a8a5b(0x1cb)]();Charactermancer_Class_Util[_0x9a8a5b(0x1da)][_0x9a8a5b(0x1b4)](_0x537185[_0x9a8a5b(0x1d3)])['forEach'](_0x18a244=>this['_existingSheetFeatures'][_0x18a244]=_0x5efd6a);const {page:_0x4c5b79,source:_0x32015f,hash:_0x45b33f}=_0x537185[_0x9a8a5b(0x197)][_0x9a8a5b(0x155)]?.[SharedConsts['MODULE_NAME_FAKE']]||{};if(_0x4c5b79&&_0x32015f&&_0x45b33f)this[_0x9a8a5b(0x1ae)](_0x4c5b79,_0x32015f,_0x45b33f);});}static[_0x4a0509(0x1b4)](_0x1a593f){const _0x4bbd98=_0x4a0509,_0x1b93d0=_0x1a593f[_0x4bbd98(0x20d)]()[_0x4bbd98(0x1cb)](),_0x6701f=[_0x1b93d0],_0x523f9c=/^(.*?)\(.*\)$/['exec'](_0x1b93d0);if(_0x523f9c)_0x6701f[_0x4bbd98(0x221)](_0x523f9c[0x1][_0x4bbd98(0x20d)]());if(_0x1b93d0[_0x4bbd98(0x1fd)](':\x20')){const _0x4e5899=_0x1b93d0[_0x4bbd98(0x210)](':')['slice'](0x1)[_0x4bbd98(0x1f9)](':')['trim']();_0x6701f[_0x4bbd98(0x221)](_0x4e5899);const _0x197998=/^(.*?)\(.*\)$/[_0x4bbd98(0x17b)](_0x4e5899);if(_0x197998)_0x6701f[_0x4bbd98(0x221)](_0x197998[0x1][_0x4bbd98(0x20d)]());}return _0x6701f;}[_0x4a0509(0x165)](_0xfc5683,_0x46b68b,_0x1c07c5,_0x9b359c){const _0x1e59eb=_0x4a0509;if(MiscUtil[_0x1e59eb(0x200)](this[_0x1e59eb(0x19d)],_0x46b68b,_0x1c07c5,_0x9b359c))return!![];const _0x2d56b6=Charactermancer_Class_Util[_0x1e59eb(0x1da)]['_getNameAliases'](_0xfc5683);if(!_0x2d56b6[_0x1e59eb(0x147)](_0x4858b9=>this[_0x1e59eb(0x187)][_0x4858b9]))return![];if(!Config[_0x1e59eb(0x200)]('import','isStrictMatching'))return!![];const _0x1a4c4b=Parser[_0x1e59eb(0x211)](_0x1c07c5)['trim']()[_0x1e59eb(0x1cb)]();return _0x2d56b6[_0x1e59eb(0x147)](_0x5d2190=>this[_0x1e59eb(0x187)][_0x5d2190]===_0x1a4c4b);}[_0x4a0509(0x1ae)](_0x23d2a5,_0x5676a9,_0x281f1c){const _0x53d3c2=_0x4a0509;MiscUtil[_0x53d3c2(0x216)](this['_existingImportFeatures'],_0x23d2a5,_0x5676a9,_0x281f1c,!![]);}};class Charactermancer_Class_LevelSelect extends BaseComponent{static async[_0x4a0509(0x14c)](_0x4e4601){const _0x1583ef=_0x4a0509;return UtilApplications[_0x1583ef(0x107)]({'comp':new this(_0x4e4601),'isUnskippable':!![],'fnGetInvalidMeta':_0x20fcb0=>{const _0x2554e8=_0x1583ef;if(_0x20fcb0[_0x2554e8(0x197)][_0x2554e8(0xfa)]===0x0)return{'type':_0x2554e8(0x149),'message':_0x2554e8(0x1f5)};},'isAutoResize':!![],'width':0x280});}constructor(_0x590eb3){const _0x496285=_0x4a0509;super(),this['_isSubclass']=!!_0x590eb3[_0x496285(0x1ef)],this['_isRadio']=!!_0x590eb3[_0x496285(0x185)],this[_0x496285(0x139)]=!!_0x590eb3[_0x496285(0x1e1)],this[_0x496285(0x220)]=this[_0x496285(0x195)]['_getLevelGroupedFeatures'](_0x590eb3['features'],this[_0x496285(0x1c9)]),this[_0x496285(0x1db)]=_0x590eb3['maxPreviousLevel']||0x0,this[_0x496285(0x134)]=null,this[_0x496285(0x1ad)]=[];}get['modalTitle'](){const _0x35dd73=_0x4a0509;return'Select\x20'+(this[_0x35dd73(0x1c9)]?_0x35dd73(0x12d):_0x35dd73(0x12e))+_0x35dd73(0x1d5);}['onchange'](_0x102019){const _0x286de5=_0x4a0509;this[_0x286de5(0x1ad)]['push'](_0x102019);}[_0x4a0509(0xfb)](){const _0x2ed7ce=_0x4a0509;this['_fnsOnChange'][_0x2ed7ce(0x140)](_0x34d503=>_0x34d503());}[_0x4a0509(0x1fa)](_0x1d696a){const _0xadf4f=_0x4a0509;this[_0xadf4f(0x220)]=this[_0xadf4f(0x195)][_0xadf4f(0x1dd)](_0x1d696a,this[_0xadf4f(0x1c9)]),this[_0xadf4f(0x134)]['items'][_0xadf4f(0x140)](_0x36f26b=>_0x36f26b['data'][_0xadf4f(0x209)]());}[_0x4a0509(0x160)](_0x2c8e01){const _0x6f09c6=_0x4a0509,_0x186e89=this[_0x6f09c6(0x10f)]?null:$(_0x6f09c6(0x13e)),_0x175cd8=$(_0x6f09c6(0x144));this[_0x6f09c6(0x134)]=new List({'$wrpList':_0x175cd8,'fnSort':null,'isUseJquery':!![]});for(let _0x316d1a=0x0;_0x316d1a<this[_0x6f09c6(0x220)][_0x6f09c6(0xfa)];++_0x316d1a){const _0x45858e=this[_0x6f09c6(0x114)](_0x316d1a),_0xc7c053=$(_0x6f09c6(0x113)),_0x5cdbd5=()=>_0xc7c053['text'](this['constructor']['_getRowText'](this['_featureArr'][_0x316d1a]));_0x5cdbd5();const _0x493a70=$$`<label class="w-100 ve-flex veapp__list-row veapp__list-row-hoverable ${this[_0x6f09c6(0x10f)]&&this[_0x6f09c6(0x139)]&&_0x316d1a<=this[_0x6f09c6(0x1db)]?_0x6f09c6(0x1ee):''} ${_0x316d1a<this[_0x6f09c6(0x1db)]?_0x6f09c6(0x1c2):''}">
				<span class="col-1 ve-flex-vh-center">${_0x45858e}</span>
				<span class="col-1-5 text-center">${_0x316d1a+0x1}</span>
				${_0xc7c053}
			</label>`[_0x6f09c6(0xf6)](_0x5e1d38=>{this['_handleSelectClick'](_0xc5c5b2,_0x5e1d38);}),_0xc5c5b2=new ListItem(_0x316d1a,_0x493a70,'',{},{'cbSel':_0x45858e[0x0],'fnUpdateRowText':_0x5cdbd5});this[_0x6f09c6(0x134)][_0x6f09c6(0xf7)](_0xc5c5b2);}if(!this[_0x6f09c6(0x10f)])ListUiUtil[_0x6f09c6(0x1d6)](_0x186e89,this[_0x6f09c6(0x134)]);this[_0x6f09c6(0x134)]['init'](),$$`<div class="ve-flex-col min-h-0">
			<div class="ve-flex-v-stretch input-group mb-1 no-shrink">
				<label class="btn btn-5et col-1 px-1 ve-flex-vh-center">${_0x186e89}</label>
				<button class="btn-5et col-1-5">Level</button>
				<button class="btn-5et col-9-5">Features</button>
			</div>

			${_0x175cd8}
		</div>`[_0x6f09c6(0x20b)](_0x2c8e01);}['_render_$getCbRow'](_0xe5d06e){const _0x1d5e89=_0x4a0509;if(!this[_0x1d5e89(0x10f)])return $(_0x1d5e89(0x131));const _0x8d3392=$(_0x1d5e89(0x1c6));if(_0xe5d06e===this[_0x1d5e89(0x1db)]&&this[_0x1d5e89(0x139)])_0x8d3392[_0x1d5e89(0x177)](_0x1d5e89(0x1bf),!![]);else{if(_0xe5d06e<this[_0x1d5e89(0x1db)])_0x8d3392[_0x1d5e89(0x177)](_0x1d5e89(0x188),!![]);}return _0x8d3392;}[_0x4a0509(0x169)](_0x2d41e9,_0x39e22f){const _0x32e903=_0x4a0509;if(!this[_0x32e903(0x10f)])return ListUiUtil[_0x32e903(0x11d)](this['_list'],_0x2d41e9,_0x39e22f);const _0x44f399=_0x2d41e9[_0x32e903(0x197)][_0x32e903(0x112)][_0x32e903(0x1bf)],_0x49287b=this[_0x32e903(0x14b)](this[_0x32e903(0x134)],_0x2d41e9,_0x39e22f);if(_0x49287b)return;const _0x4e9b89=_0x2d41e9[_0x32e903(0x197)]['cbSel'][_0x32e903(0x1bf)];if(_0x44f399!==_0x4e9b89)this[_0x32e903(0xfb)]();}[_0x4a0509(0x14b)](_0x49603c,_0x51e58d,_0x44be0d){const _0x2d6d77=_0x4a0509;_0x44be0d[_0x2d6d77(0x15b)](),_0x44be0d[_0x2d6d77(0x1d1)]();if(_0x51e58d[_0x2d6d77(0x197)][_0x2d6d77(0x112)][_0x2d6d77(0x188)])return!![];_0x49603c[_0x2d6d77(0x175)][_0x2d6d77(0x140)](_0x4fb986=>{const _0x10d34a=_0x2d6d77;if(_0x4fb986===_0x51e58d){if(_0x4fb986[_0x10d34a(0x197)]['cbSel'][_0x10d34a(0x1bf)]&&!this['_isForceSelect']){_0x4fb986[_0x10d34a(0x197)][_0x10d34a(0x112)][_0x10d34a(0x1bf)]=![],_0x4fb986['ele'][_0x10d34a(0x20a)](_0x10d34a(0x1ee));return;}_0x4fb986[_0x10d34a(0x197)][_0x10d34a(0x112)][_0x10d34a(0x1bf)]=!![],_0x4fb986['ele'][_0x10d34a(0x21a)]('list-multi-selected');}else{_0x4fb986[_0x10d34a(0x197)][_0x10d34a(0x112)][_0x10d34a(0x1bf)]=![];if(_0x4fb986['ix']<_0x51e58d['ix'])_0x4fb986[_0x10d34a(0x100)]['addClass'](_0x10d34a(0x1ee));else _0x4fb986[_0x10d34a(0x100)][_0x10d34a(0x20a)](_0x10d34a(0x1ee));}});}[_0x4a0509(0xfd)](){const _0x5b4c27=_0x4a0509;let _0x1b3f97=this['_list'][_0x5b4c27(0x175)][_0x5b4c27(0x1ba)](_0x12b3f6=>_0x12b3f6[_0x5b4c27(0x197)][_0x5b4c27(0x112)][_0x5b4c27(0x1bf)])['map'](_0x1d1fc3=>_0x1d1fc3['ix']);if(this[_0x5b4c27(0x10f)]&&_0x1b3f97['length']){const _0x38ab7c=_0x1b3f97[0x0]+0x1;_0x1b3f97=[];for(let _0x8889c6=this[_0x5b4c27(0x1db)];_0x8889c6<_0x38ab7c;++_0x8889c6)_0x1b3f97['push'](_0x8889c6);}return{'isFormComplete':!!_0x1b3f97[_0x5b4c27(0xfa)],'data':_0x1b3f97};}[_0x4a0509(0x129)](){if(this['_maxPreviousLevel'])return this['_maxPreviousLevel'];return 0x0;}[_0x4a0509(0x168)](){const _0x267924=_0x4a0509,_0x262300=this[_0x267924(0x134)][_0x267924(0x175)][_0x267924(0x1ba)](_0x5c0853=>_0x5c0853[_0x267924(0x197)][_0x267924(0x112)][_0x267924(0x1bf)])[_0x267924(0x1b3)](_0x2b76d9=>_0x2b76d9['ix']);if(!_0x262300[_0x267924(0xfa)])return null;return Math[_0x267924(0x186)](..._0x262300)+0x1;}static['_getRowText'](_0x20ce6d){const _0x458d48=_0x4a0509;return _0x20ce6d['map'](_0x32a4b0=>_0x32a4b0[_0x458d48(0x202)]||_0x32a4b0[_0x458d48(0x1d3)])[_0x458d48(0x1f9)](',\x20')||'—';}static[_0x4a0509(0x1dd)](_0x2b3237,_0x548b9e){const _0xbd5f80=_0x4a0509;_0x2b3237=MiscUtil['copy'](_0x2b3237);if(!_0x548b9e)_0x2b3237=_0x2b3237[_0xbd5f80(0x1ba)](_0x209995=>_0x209995[_0xbd5f80(0x1cf)]);const _0x4fddf6=[];let _0x3d51c4=0x1,_0x1eec7b=[];const _0x4b1d0b=()=>{const _0x520fbf=_0xbd5f80;_0x4fddf6[_0x520fbf(0x221)](_0x1eec7b),_0x1eec7b=[];};_0x2b3237[_0xbd5f80(0x140)](_0x414e2b=>{const _0x43f541=_0xbd5f80;while(_0x3d51c4<_0x414e2b['level']){_0x4b1d0b(),_0x3d51c4++;}_0x1eec7b[_0x43f541(0x221)](_0x414e2b),_0x3d51c4=_0x414e2b['level'];}),_0x4b1d0b();while(_0x3d51c4<Consts['CHAR_MAX_LEVEL']){_0x4b1d0b(),_0x3d51c4++;}return _0x4fddf6;}}class Charactermancer_Class_HpIncreaseModeSelect extends BaseComponent{static async['pGetUserInput'](){const _0xad66df=_0x4a0509;return UtilApplications[_0xad66df(0x107)]({'comp':new this(),'isAutoResize':!![]});}static[_0x4a0509(0x156)](_0x72425c){const _0x1c3d27=_0x4a0509;return _0x72425c['hd']&&_0x72425c['hd'][_0x1c3d27(0x1ec)]&&!isNaN(_0x72425c['hd'][_0x1c3d27(0x1ec)])&&_0x72425c['hd'][_0x1c3d27(0x123)]&&!isNaN(_0x72425c['hd'][_0x1c3d27(0x123)]);}[_0x4a0509(0xfd)](){const _0x1ae5ca=_0x4a0509;return{'isFormComplete':!![],'data':this[_0x1ae5ca(0x190)][_0x1ae5ca(0x12b)]};}get[_0x4a0509(0x1dc)](){const _0x5620e8=_0x4a0509;return _0x5620e8(0x150);}['render'](_0x29525d){const _0x8f4f71=_0x4a0509,_0x39668e=ComponentUiUtil[_0x8f4f71(0x1c8)](this,'mode',{'values':[Charactermancer_Class_HpIncreaseModeSelect['MODE_TAKE_AVERAGE'],Charactermancer_Class_HpIncreaseModeSelect[_0x8f4f71(0x10b)],Charactermancer_Class_HpIncreaseModeSelect[_0x8f4f71(0x215)]],'fnDisplay':_0x21099c=>Charactermancer_Class_HpIncreaseModeSelect[_0x8f4f71(0x196)][_0x21099c]});$$`<div class="ve-flex-col min-h-0">
			${_0x39668e}
		</div>`['appendTo'](_0x29525d);}['_getDefaultState'](){return{'mode':Charactermancer_Class_HpIncreaseModeSelect['MODE_TAKE_AVERAGE']};}}Charactermancer_Class_HpIncreaseModeSelect['MODE_TAKE_AVERAGE']=0x0,Charactermancer_Class_HpIncreaseModeSelect[_0x4a0509(0x10b)]=0x1,Charactermancer_Class_HpIncreaseModeSelect[_0x4a0509(0x215)]=0x2,Charactermancer_Class_HpIncreaseModeSelect[_0x4a0509(0x196)]={[Charactermancer_Class_HpIncreaseModeSelect[_0x4a0509(0xfc)]]:_0x4a0509(0x12c),[Charactermancer_Class_HpIncreaseModeSelect[_0x4a0509(0x10b)]]:_0x4a0509(0x11a),[Charactermancer_Class_HpIncreaseModeSelect[_0x4a0509(0x215)]]:'Do\x20Not\x20Increase\x20HP'};class Charactermancer_Class_HpInfo extends BaseComponent{constructor({className:_0x47b625,hitDice:_0x1ae8cd}){const _0x4313fb=_0x4a0509;super(),this[_0x4313fb(0x1c0)]=_0x47b625,this[_0x4313fb(0x128)]=_0x1ae8cd;}['render'](_0x48db45){const _0x455ee8=_0x4a0509,_0x3e08f1=Renderer[_0x455ee8(0x1b1)][_0x455ee8(0x1eb)](this['_hitDice']);$$`<div class="ve-flex-col min-h-0 ve-small">
			<div class="block"><div class="inline-block bold mr-1">Hit Dice:</div>${Vetools['withUnpatchedDiceRendering'](()=>Renderer[_0x455ee8(0x1a7)](_0x3e08f1,_0x455ee8(0x1b8)))}</div>
			<div class="block"><div class="inline-block bold mr-1">Hit Points:</div>${Renderer[_0x455ee8(0x1b1)][_0x455ee8(0x1cc)](this[_0x455ee8(0x128)])}</div>
			<div class="block"><div class="inline-block bold mr-1">Hit Points at Higher Levels:</div>${Vetools[_0x455ee8(0x11e)](()=>Renderer[_0x455ee8(0x1b1)][_0x455ee8(0x1b0)](this[_0x455ee8(0x1c0)],this[_0x455ee8(0x128)],_0x3e08f1))}</div>
		</div>`[_0x455ee8(0x20b)](_0x48db45);}}function _0x3e0e(_0x5134c5,_0x3f4d5a){const _0x50c468=_0x50c4();return _0x3e0e=function(_0x3e0eee,_0x395cc8){_0x3e0eee=_0x3e0eee-0xf3;let _0x577527=_0x50c468[_0x3e0eee];return _0x577527;},_0x3e0e(_0x5134c5,_0x3f4d5a);}class Charactermancer_Class_ProficiencyImportModeSelect extends BaseComponent{static async[_0x4a0509(0x14c)](){const _0x5ee51b=_0x4a0509;return UtilApplications[_0x5ee51b(0x107)]({'comp':new this(),'isUnskippable':!![],'isAutoResize':!![]});}[_0x4a0509(0xfd)](){const _0x1bd6a3=_0x4a0509;return{'isFormComplete':!![],'data':this['_state'][_0x1bd6a3(0x12b)]};}get[_0x4a0509(0x1dc)](){return'Select\x20Class\x20Proficiency\x20Import\x20Mode';}[_0x4a0509(0x160)](_0x830c0e){const _0x699db0=_0x4a0509,_0x25eeb5=ComponentUiUtil['$getSelEnum'](this,'mode',{'values':[Charactermancer_Class_ProficiencyImportModeSelect[_0x699db0(0x1f8)],Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY'],Charactermancer_Class_ProficiencyImportModeSelect[_0x699db0(0x1e9)]],'fnDisplay':_0x11aaf8=>Charactermancer_Class_ProficiencyImportModeSelect[_0x699db0(0x196)][_0x11aaf8]});$$`<div class="ve-flex-col min-h-0">
			${_0x25eeb5}
		</div>`[_0x699db0(0x20b)](_0x830c0e);}[_0x4a0509(0x1a1)](){return{'mode':Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS']};}}function _0x50c4(){const _0xbb3c4c=['subclassFeatures','full','render','1274916UGzITZ','33LtczWn','spell','refClassFeature','isExistingFeature','_getUid','getUnmappedWeaponProficiency','getTargetLevel','_handleSelectClick','pulseWeaponProficiencies','URL_TO_HASH_BUILDER','\x20weapons','weapons','optfeature','_existingProficienciesFvttWeapons','12jNspyC','ascSortLower','_addFauxOptionalFeatureFeatures_getFauxFeature','CHAR_MAX_LEVEL','tools','items','Weapons','prop','_addHookBase','isStrictMatching','level','exec','existingProficienciesArmor','hash','toolProficiencies','replace','casterProgression','addFauxOptionalFeatureFeatures','_actor','getExistingClassItems','subclass','isRadio','max','_existingSheetFeatures','disabled','isNonstandardSource','attAbvToFull','\x22></i>)','martial','mergeMap','getUnmappedTool','sort','_state','PG_OPT_FEATURES','_applyFormDataToActorUpdate_applyProfList','getClassSubclassFeatureReferences','_getFormData','constructor','DISPLAY_MODES','data','_getStateTrackerData','@ActorEmbeddedItem[','getClassSubclassItemTuples','sourceFilter','1/2','_existingImportFeatures','getItemUIdFromToolProficiency','refSubclassFeature','_getCleanVetProfs_getMappedItemTags','_getDefaultState','Add\x20base\x20class\x20proficiencies\x20and\x20equipment\x20(this\x20is\x20my\x20first\x20class)','classSource','getMappedArmorProficiency','1278blQruV','none','getEntryDice','stripTags','390QMTYPY','populateEntityTempData','unpackUidSubclassFeature','_getCleanVetProfs','_fnsOnChange','addImportFeature','getCombinedClasses','getHitPointsAtHigherLevels','class','3024016azAbNe','map','_getNameAliases','uid','Add\x20multiclass\x20proficiencies\x20(this\x20is\x20my\x20second+\x20class)','find','Hit\x20die','toggleClass','filter','getClassFromExistingClassItem','import','wrapper','spellcastingAbility','checked','_className','getItemSource','ve-muted','toolProf','getMappedWeaponProficiency','existingProficienciesTools','<input\x20type=\x22radio\x22\x20class=\x22no-events\x22>','590ztwhlJ','$getSelEnum','_isSubclass','128tgrxkp','toLowerCase','getHitPointsAtFirstLevel','gainSubclassFeature','<div\x20class=\x22ve-small\x20veapp__msg-warning\x20inline-block\x22></div>','classFeature','Proficient\x20from\x20Another\x20Source','stopPropagation','existingProficienciesWeapons','name','type','\x20Levels','bindSelectAllCheckbox','light','getStatesForKey','splice','ExistingFeatureChecker','_maxPreviousLevel','modalTitle','_getLevelGroupedFeatures','add','getMysticProgression','sourceJsonToDate','isForceSelect','entries','subclassFeature','_render_profType','_existingProficienciesCustomWeapons','_getExistingProficienciesVet_','_sortByOfficialAndRecent','_featureSourceTracker','MODE_NONE','custom','getHitDiceEntry','number','getOrSet','list-multi-selected','isSubclass','object','<div\x20class=\x22ve-flex-col\x20min-h-0\x20ve-small\x22></div>','getAllFeatures','proficient','simple','Please\x20select\x20some\x20levels\x20first!','className','_applyFormDataToActorUpdate_addIfNotExists','MODE_MULTICLASS','join','setFeatures','pulseSavingThrowProficiencies','value','includes','_existingProficienciesVetTools','3283YCOODR','get','notifications','tableDisplayName','assign','classFeatures','Unhandled\x20reference\x20type\x20\x22','optionalfeature','heavy','armorProficiencies','fnUpdateRowText','removeClass','appendTo','splitTagByPipe','trim','optionalfeatureProgression','armor','split','sourceJsonToAbv','unpackUid','@Item[','existingDataFvtt','MODE_DO_NOT_INCREASE','set','isGainAtNextFeatureLevel','spellcasting','_addFauxOptionalFeatureFeatures_getLoadeds','addClass','_existingProficienciesCustomTools','entity','sum','Saving\x20Throws','MODE_PRIMARY','_featureArr','push','{@item\x20','_multiclassProficiencies','copy','_existingProficienciesFvttArmor','html','ascSort','armorProf','_pLoadSubEntries_getMappedWalkerArrayEntry_getMeta','classIdentifier','click','addItem','getItemUIdFromWeaponProficiency','addHook','length','_doRunFnsOnchange','MODE_TAKE_AVERAGE','pGetFormData','proficiency','_savingThrowsProficiencies','ele','count','ascSortDateString','pulseArmorProficiencies','featureType','PROF_TO_ICON_CLASS','walk','pGetImportCompApplicationFormData','Armor','bind','getActorSpellcastingInfo','MODE_ROLL','_existingProficienciesCustomArmor','mystic','{@item','_isRadio','17973bthxet','setState','cbSel','<span\x20class=\x22col-9-5\x22></span>','_render_$getCbRow','1/3','_unlock','medium','getCasterProgression','_existingProficienciesFvttSavingThrows','Roll','proxy','savingThrows','handleSelectClick','withUnpatchedDiceRendering','unpackUidClassFeature','getUnmappedArmorProficiency','Do\x20not\x20add\x20proficiencies\x20or\x20equipment','Tools','faces','fromClassList','_getExistingProficienciesVet','_primaryProficiencies','slice','_hitDice','getCurLevel','{@optfeature\x20','mode','Take\x20Average','Subclass','Class','indexOf','Mystic','<input\x20type=\x22checkbox\x22\x20class=\x22no-events\x22>','_existingProficienciesFvttTools','weaponProf','_list','empty','traits','_existingProficienciesVetArmor','subclasses','_isForceSelect','keys','weaponProficiencies','has','identifier','<input\x20type=\x22checkbox\x22\x20name=\x22cb-select-all\x22>','getSubclassFromExistingSubclassItem','forEach','levels','isRequiredOption','343029XUJNuy','<div\x20class=\x22veapp__list\x20mb-1\x22></div>','abilities','_pLoadSubEntries_getMappedWalkerArrayEntry_isIgnored','some','last','error','source','_handleSelectClickRadio','pGetUserInput','shortName','_pLoadSubEntries_getMappedWalkerArrayEntry','feat','Select\x20Hit\x20Points\x20Increase\x20Mode','_existingProficienciesVetSavingThrows','2240406bkGysK','pulseToolProficiencies','getWalker','flags','isHpAvailable','optionsMeta','updateExisting','ml-1','_existingProficienciesVetWeapons','preventDefault','mr-1','progression'];_0x50c4=function(){return _0xbb3c4c;};return _0x50c4();}Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS']=0x0,Charactermancer_Class_ProficiencyImportModeSelect[_0x4a0509(0x21f)]=0x1,Charactermancer_Class_ProficiencyImportModeSelect[_0x4a0509(0x1e9)]=0x2,Charactermancer_Class_ProficiencyImportModeSelect[_0x4a0509(0x196)]={[Charactermancer_Class_HpIncreaseModeSelect[_0x4a0509(0xfc)]]:_0x4a0509(0x1b6),[Charactermancer_Class_HpIncreaseModeSelect[_0x4a0509(0x10b)]]:_0x4a0509(0x1a2),[Charactermancer_Class_HpIncreaseModeSelect['MODE_DO_NOT_INCREASE']]:_0x4a0509(0x121)};class Charactermancer_Class_StartingProficiencies extends BaseComponent{static['get']({featureSourceTracker:_0x495bb5,primaryProficiencies:_0x1af9da,multiclassProficiencies:_0x235757,savingThrowsProficiencies:_0x4d7e7b,mode:_0xb17b5d,existingProficienciesFvttArmor:_0x599dac,existingProficienciesFvttWeapons:_0x41684b,existingProficienciesFvttTools:_0x46f76e,existingProficienciesFvttSavingThrows:_0x3737a0}={}){const _0x4c6320=_0x4a0509,{existingProficienciesVetArmor:_0x296189,existingProficienciesCustomArmor:_0x1492f8,existingProficienciesVetWeapons:_0x313686,existingProficienciesCustomWeapons:_0x537917,existingProficienciesVetTools:_0x148a47,existingProficienciesCustomTools:_0x2e8fc8,existingProficienciesVetSavingThrows:_0x3b77ba}=this[_0x4c6320(0x125)]({'existingProficienciesFvttArmor':_0x599dac,'existingProficienciesFvttWeapons':_0x41684b,'existingProficienciesFvttTools':_0x46f76e,'existingProficienciesFvttSavingThrows':_0x3737a0}),_0x24dda0=new this({'featureSourceTracker':_0x495bb5,'primaryProficiencies':_0x1af9da,'multiclassProficiencies':_0x235757,'savingThrowsProficiencies':_0x4d7e7b,'existingProficienciesVetArmor':_0x296189,'existingProficienciesVetWeapons':_0x313686,'existingProficienciesVetTools':_0x148a47,'existingProficienciesVetSavingThrows':_0x3b77ba,'existingProficienciesCustomArmor':_0x1492f8,'existingProficienciesCustomWeapons':_0x537917,'existingProficienciesCustomTools':_0x2e8fc8,'existingProficienciesFvttArmor':_0x599dac,'existingProficienciesFvttWeapons':_0x41684b,'existingProficienciesFvttTools':_0x46f76e,'existingProficienciesFvttSavingThrows':_0x3737a0});if(_0xb17b5d!=null)_0x24dda0[_0x4c6320(0x12b)]=_0xb17b5d;return _0x24dda0;}static async[_0x4a0509(0x14c)]({featureSourceTracker:_0x15ebdc,primaryProficiencies:_0x3781ba,multiclassProficiencies:_0x2b2960,savingThrowsProficiencies:_0x16198b,mode:_0x144b90,existingProficienciesFvttArmor:_0x34d952,existingProficienciesFvttWeapons:_0x43c7d0,existingProficienciesFvttTools:_0x6dd454,existingProficienciesFvttSavingThrows:_0x44db04}={}){const _0x3958ca=_0x4a0509;return this[_0x3958ca(0x200)]({'featureSourceTracker':_0x15ebdc,'primaryProficiencies':_0x3781ba,'multiclassProficiencies':_0x2b2960,'savingThrowsProficiencies':_0x16198b,'mode':_0x144b90,'existingProficienciesFvttArmor':_0x34d952,'existingProficienciesFvttWeapons':_0x43c7d0,'existingProficienciesFvttTools':_0x6dd454,'existingProficienciesFvttSavingThrows':_0x44db04})[_0x3958ca(0xfd)]();}static['applyFormDataToActorUpdate'](_0x333a24,_0x1c40a7){const _0x1ad790=_0x4a0509;MiscUtil[_0x1ad790(0x1ed)](_0x333a24,_0x1ad790(0x197),_0x1ad790(0x136),{}),this[_0x1ad790(0x192)]({'actUpdate':_0x333a24,'profList':_0x1c40a7?.['data']?.[_0x1ad790(0x20f)]||[],'profsExisting':_0x1c40a7?.['existingDataFvtt']?.[_0x1ad790(0x17c)]||{},'propTrait':_0x1ad790(0xf3),'fnGetMapped':UtilActors[_0x1ad790(0x1a4)][_0x1ad790(0x109)](UtilActors)}),this[_0x1ad790(0x192)]({'actUpdate':_0x333a24,'profList':_0x1c40a7[_0x1ad790(0x197)]?.[_0x1ad790(0x16d)]||[],'profsExisting':_0x1c40a7?.[_0x1ad790(0x214)]?.[_0x1ad790(0x1d2)]||{},'propTrait':_0x1ad790(0x133),'fnGetMapped':UtilActors[_0x1ad790(0x1c4)][_0x1ad790(0x109)](UtilActors),'fnGetPreMapped':UtilActors['getItemUIdFromWeaponProficiency'][_0x1ad790(0x109)](UtilActors)}),this[_0x1ad790(0x192)]({'actUpdate':_0x333a24,'profList':_0x1c40a7[_0x1ad790(0x197)]?.[_0x1ad790(0x174)]||[],'profsExisting':_0x1c40a7?.['existingDataFvtt']?.[_0x1ad790(0x1c5)]||{},'propTrait':_0x1ad790(0x1c3),'fnGetMapped':UtilActors['getMappedTool']['bind'](UtilActors),'fnGetPreMapped':UtilActors[_0x1ad790(0x19e)][_0x1ad790(0x109)](UtilActors)});const _0x57bf2c=MiscUtil[_0x1ad790(0x1ed)](_0x333a24,'data',_0x1ad790(0x145),{});[..._0x1c40a7['data']?.[_0x1ad790(0x11c)]||[],..._0x1c40a7[_0x1ad790(0x214)]?.['savingThrows']||[]][_0x1ad790(0x140)](_0x49333e=>(_0x57bf2c[_0x49333e]=_0x57bf2c[_0x49333e]||{})[_0x1ad790(0x1f3)]=0x1);}static[_0x4a0509(0x1f7)](_0x1cb5cd,_0x2190b2){const _0x16a46c=_0x4a0509;if(!_0x1cb5cd['some'](_0x330cc2=>_0x330cc2['toLowerCase']()[_0x16a46c(0x20d)]()===_0x2190b2[_0x16a46c(0x1cb)]()[_0x16a46c(0x20d)]()))_0x1cb5cd['push'](_0x2190b2);}static[_0x4a0509(0x192)]({actUpdate:_0x4fe8ff,profList:_0x3f750b,profsExisting:_0xd7ca25,propTrait:_0x1eea74,fnGetMapped:_0x5c90ab,fnGetPreMapped:_0x961674}){const _0x1d5b29=_0x4a0509;if(!_0x3f750b?.[_0x1d5b29(0xfa)])return;const _0xb0623a=MiscUtil['getOrSet'](_0x4fe8ff,'data',_0x1d5b29(0x136),_0x1eea74,{});_0xb0623a['value']=_0xb0623a[_0x1d5b29(0x1fc)]||[],_0xb0623a[_0x1d5b29(0x1ea)]=_0xb0623a[_0x1d5b29(0x1ea)]||'';const _0x122a1d=_0xb0623a[_0x1d5b29(0x1ea)][_0x1d5b29(0x210)](';')[_0x1d5b29(0x1b3)](_0x3e206f=>_0x3e206f[_0x1d5b29(0x20d)]())['filter'](Boolean);(_0xd7ca25[_0x1d5b29(0x1fc)]||[])[_0x1d5b29(0x140)](_0x4d04c8=>this['_applyFormDataToActorUpdate_addIfNotExists'](_0xb0623a[_0x1d5b29(0x1fc)],_0x4d04c8)),(_0xd7ca25[_0x1d5b29(0x1ea)]||'')[_0x1d5b29(0x210)](';')['map'](_0x472f93=>_0x472f93['trim']())['filter'](Boolean)['forEach'](_0x43ddb5=>this[_0x1d5b29(0x1f7)](_0x122a1d,_0x43ddb5)),_0x3f750b[_0x1d5b29(0x140)](_0x35dfe9=>{const _0x37fa7c=_0x1d5b29,_0x38a384=(_0x961674?_0x961674(_0x35dfe9):null)??Renderer[_0x37fa7c(0x1a8)](_0x35dfe9)['toLowerCase'](),_0x60db39=_0x5c90ab(_0x38a384);if(_0x60db39)return this[_0x37fa7c(0x1f7)](_0xb0623a[_0x37fa7c(0x1fc)],_0x60db39);const [_0x4a1cbd]=/{@item [^}]+}/i[_0x37fa7c(0x17b)](_0x35dfe9)||[];if(_0x4a1cbd){const _0xf41e5c=_0x5c90ab(Renderer[_0x37fa7c(0x1a8)](_0x4a1cbd));if(_0xf41e5c)return this['_applyFormDataToActorUpdate_addIfNotExists'](_0xb0623a['value'],_0xf41e5c);}this[_0x37fa7c(0x1f7)](_0x122a1d,Renderer[_0x37fa7c(0x1a8)](_0x35dfe9));}),_0xb0623a[_0x1d5b29(0x1ea)]=_0x122a1d[_0x1d5b29(0x1f9)](';\x20');}static['getExistingProficienciesFvttSavingThrows'](_0x16fca3){const _0x182213=_0x4a0509;return Object[_0x182213(0x1e2)](MiscUtil[_0x182213(0x200)](_0x16fca3,'data',_0x182213(0x197),_0x182213(0x145))||{})['filter'](([,_0x462e0e])=>_0x462e0e[_0x182213(0x1f3)])[_0x182213(0x1b3)](([_0x114ef6])=>_0x114ef6);}static[_0x4a0509(0x125)]({existingProficienciesFvttArmor:_0x158696,existingProficienciesFvttWeapons:_0x521324,existingProficienciesFvttTools:_0xf7677d,existingProficienciesFvttSavingThrows:_0x4c036e}){const _0x3f58ed=_0x4a0509,_0x30e8e2=new Set(),_0x3fbcad=new Set(),_0x9dfe4a=new Set(),_0x334da1=new Set(),_0x24da97=new Set(),_0x513a75=new Set();return this[_0x3f58ed(0x1e6)]({'existingFvtt':_0x521324,'fnGetUnmapped':UtilActors[_0x3f58ed(0x167)][_0x3f58ed(0x109)](UtilActors),'fnCheckUnmappedAlt':UtilActors[_0x3f58ed(0xf8)][_0x3f58ed(0x109)](UtilActors),'vetValidSet':_0x30e8e2,'customSet':_0x3fbcad}),this[_0x3f58ed(0x1e6)]({'existingFvtt':_0x158696,'fnGetUnmapped':UtilActors[_0x3f58ed(0x120)][_0x3f58ed(0x109)](UtilActors),'vetValidSet':_0x9dfe4a,'customSet':_0x334da1}),this[_0x3f58ed(0x1e6)]({'existingFvtt':_0xf7677d,'fnGetUnmapped':UtilActors[_0x3f58ed(0x18e)][_0x3f58ed(0x109)](UtilActors),'fnCheckUnmappedAlt':UtilActors[_0x3f58ed(0x19e)][_0x3f58ed(0x109)](UtilActors),'vetValidSet':_0x24da97,'customSet':_0x513a75}),{'existingProficienciesVetWeapons':[..._0x30e8e2],'existingProficienciesCustomWeapons':[..._0x3fbcad],'existingProficienciesVetArmor':[..._0x9dfe4a],'existingProficienciesCustomArmor':[..._0x334da1],'existingProficienciesVetTools':[..._0x24da97],'existingProficienciesCustomTools':[..._0x513a75],'existingProficienciesVetSavingThrows':_0x4c036e};}static[_0x4a0509(0x1e6)]({existingFvtt:_0x3e1370,vetValidSet:_0x20671f,customSet:_0x28c00d,fnGetUnmapped:_0x44786b,fnCheckUnmappedAlt:_0x2eaf00}){const _0x4c3b19=_0x4a0509;(_0x3e1370?.['value']||[])[_0x4c3b19(0x140)](_0xe5857d=>{const _0x5bb2b5=_0x4c3b19,_0x18147e=_0x44786b(_0xe5857d);if(_0x18147e)_0x20671f[_0x5bb2b5(0x1de)](_0x18147e);else{if(_0x2eaf00){const _0x42212d=_0x2eaf00(_0xe5857d);if(_0x42212d)_0x20671f['add'](_0xe5857d);else _0x28c00d[_0x5bb2b5(0x1de)](_0xe5857d);}else _0x28c00d['add'](_0xe5857d);}}),(_0x3e1370?.['custom']||'')[_0x4c3b19(0x20d)]()[_0x4c3b19(0x210)](';')[_0x4c3b19(0x1b3)](_0x23a22f=>_0x23a22f['trim']())[_0x4c3b19(0x1ba)](Boolean)[_0x4c3b19(0x140)](_0x4b6732=>{const _0x3d8936=_0x4c3b19,_0x39c7ae=_0x4b6732['toLowerCase'](),_0x53e851=_0x44786b(_0x39c7ae);if(_0x53e851)_0x20671f[_0x3d8936(0x1de)](_0x53e851);else{if(_0x2eaf00){const _0x46e7d8=_0x2eaf00(_0x39c7ae);if(_0x46e7d8)_0x20671f[_0x3d8936(0x1de)](_0x39c7ae);else _0x28c00d['add'](_0x4b6732);}else _0x28c00d['add'](_0x4b6732);}});}static[_0x4a0509(0x1ac)](_0x5c0891){const _0x10a5da=_0x4a0509;if(!_0x5c0891)return{};const _0x3921b8={};if(_0x5c0891[_0x10a5da(0x20f)])_0x3921b8[_0x10a5da(0x20f)]=this['_getCleanVetProfs_getMappedItemTags'](_0x5c0891['armor'][_0x10a5da(0x1b3)](_0x3c6582=>_0x3c6582['proficiency']||_0x3c6582));if(_0x5c0891['weapons'])_0x3921b8['weapons']=this[_0x10a5da(0x1a0)](_0x5c0891['weapons']['map'](_0x29dc97=>(_0x29dc97[_0x10a5da(0xfe)]||_0x29dc97)[_0x10a5da(0x1cb)]()['trim']()));if(_0x5c0891['tools'])_0x3921b8[_0x10a5da(0x174)]=this['_getCleanVetProfs_getMappedItemTags'](_0x5c0891['tools'][_0x10a5da(0x1b3)](_0x404258=>(_0x404258[_0x10a5da(0xfe)]||_0x404258)[_0x10a5da(0x1cb)]()[_0x10a5da(0x20d)]()));return _0x3921b8;}static[_0x4a0509(0x1a0)](_0x2fce5f){const _0x319789=_0x4a0509;return _0x2fce5f[_0x319789(0x1b3)](_0xb21a69=>_0xb21a69[_0x319789(0x17f)](/^{@item ([^}]+)}$/g,(..._0x138719)=>{const _0x3eea85=_0x319789,[_0x9dd08b,_0x1b5db6]=Renderer[_0x3eea85(0x20c)](_0x138719[0x1]);return(_0x9dd08b+'|'+(_0x1b5db6||SRC_DMG))[_0x3eea85(0x1cb)]();}));}constructor({featureSourceTracker:_0x229e8e,primaryProficiencies:_0x4e0bcb,multiclassProficiencies:_0x4828dc,savingThrowsProficiencies:_0x274bc5,existingProficienciesVetArmor:_0x1ec73f,existingProficienciesVetWeapons:_0x240ac9,existingProficienciesVetTools:_0x5c4af9,existingProficienciesVetSavingThrows:_0x467e50,existingProficienciesFvttArmor:_0x5e74c1,existingProficienciesFvttWeapons:_0x51346f,existingProficienciesFvttTools:_0x3a5d54,existingProficienciesFvttSavingThrows:_0x147668,existingProficienciesCustomArmor:_0x426c4e,existingProficienciesCustomWeapons:_0x164a44,existingProficienciesCustomTools:_0x906c6}={}){const _0x5f4a95=_0x4a0509;super(),this[_0x5f4a95(0x1e8)]=_0x229e8e,this[_0x5f4a95(0x126)]=Charactermancer_Class_StartingProficiencies[_0x5f4a95(0x1ac)](_0x4e0bcb),this['_multiclassProficiencies']=Charactermancer_Class_StartingProficiencies['_getCleanVetProfs'](_0x4828dc),this[_0x5f4a95(0xff)]=_0x274bc5,this[_0x5f4a95(0x137)]=_0x1ec73f,this[_0x5f4a95(0x15a)]=_0x240ac9,this[_0x5f4a95(0x1fe)]=_0x5c4af9,this[_0x5f4a95(0x151)]=_0x467e50,this[_0x5f4a95(0x10c)]=_0x426c4e,this['_existingProficienciesCustomWeapons']=_0x164a44,this[_0x5f4a95(0x21b)]=_0x906c6,this[_0x5f4a95(0x225)]=_0x5e74c1?MiscUtil[_0x5f4a95(0x224)](_0x5e74c1):null,this[_0x5f4a95(0x16f)]=_0x51346f?MiscUtil[_0x5f4a95(0x224)](_0x51346f):null,this[_0x5f4a95(0x132)]=_0x3a5d54?MiscUtil[_0x5f4a95(0x224)](_0x3a5d54):null,this[_0x5f4a95(0x119)]=_0x147668?MiscUtil['copy'](_0x147668):null;}set['mode'](_0x41b4dd){const _0xd8b065=_0x4a0509;this[_0xd8b065(0x190)][_0xd8b065(0x12b)]=_0x41b4dd;}[_0x4a0509(0x194)](){const _0x182b1c=_0x4a0509,_0x59ab5f=this[_0x182b1c(0x190)][_0x182b1c(0x12b)]===Charactermancer_Class_ProficiencyImportModeSelect[_0x182b1c(0x21f)],_0x1b1af2=_0x59ab5f?this[_0x182b1c(0x126)]:this[_0x182b1c(0x223)];if(!_0x1b1af2)return{'isFormComplete':!![],'data':{},'existingData':{}};return{'isFormComplete':!![],'data':{'armor':_0x1b1af2[_0x182b1c(0x20f)]||[],'weapons':_0x1b1af2[_0x182b1c(0x16d)]||[],'tools':_0x1b1af2[_0x182b1c(0x174)]||[],'savingThrows':_0x59ab5f?this[_0x182b1c(0xff)]||[]:[]},'existingDataFvtt':{'existingProficienciesArmor':this['_existingProficienciesFvttArmor'],'existingProficienciesWeapons':this[_0x182b1c(0x16f)],'existingProficienciesTools':this['_existingProficienciesFvttTools'],'existingProficienciesSavingThrows':this[_0x182b1c(0x119)]}};}[_0x4a0509(0xfd)](){const _0x3f11a2=_0x4a0509;return this[_0x3f11a2(0x194)]();}[_0x4a0509(0x160)](_0xf7355c){const _0x20e186=_0x4a0509,_0x1d1fff=$(_0x20e186(0x1f1))[_0x20e186(0x20b)](_0xf7355c),_0x311144=[],_0x2f5f57=()=>{const _0x284af4=_0x20e186;_0x311144['forEach'](_0x334ba6=>_0x334ba6()),_0x311144[_0x284af4(0x1d9)](0x0,_0x311144[_0x284af4(0xfa)]),_0x1d1fff[_0x284af4(0x135)]();const _0x12e2b3=this['_state']['mode']===Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY'],_0x5d899a=_0x12e2b3?this[_0x284af4(0x126)]:this[_0x284af4(0x223)];_0x5d899a&&(this[_0x284af4(0x1e4)]({'profList':_0x5d899a[_0x284af4(0x20f)],'title':_0x284af4(0x108),'$wrpDisplay':_0x1d1fff,'propTracker':_0x284af4(0x208),'propTrackerPulse':_0x284af4(0x103),'fnsCleanup':_0x311144,'existing':this['_existingProficienciesVetArmor'],'existingProficienciesCustom':this[_0x284af4(0x10c)],'fnDisplay':_0x2e48da=>[_0x284af4(0x1d7),_0x284af4(0x117),_0x284af4(0x207)][_0x284af4(0x1fd)](_0x2e48da)?_0x2e48da+'\x20armor':_0x2e48da[_0x284af4(0x1fd)]('|')?_0x284af4(0x222)+_0x2e48da+'}':_0x2e48da}),this[_0x284af4(0x1e4)]({'profList':_0x5d899a[_0x284af4(0x16d)],'title':_0x284af4(0x176),'$wrpDisplay':_0x1d1fff,'propTracker':_0x284af4(0x13b),'propTrackerPulse':_0x284af4(0x16a),'fnsCleanup':_0x311144,'existing':this[_0x284af4(0x15a)],'existingProficienciesCustom':this[_0x284af4(0x1e5)],'fnDisplay':_0x5d43f2=>[_0x284af4(0x1f4),_0x284af4(0x18c)][_0x284af4(0x1fd)](_0x5d43f2)?_0x5d43f2+_0x284af4(0x16c):_0x5d43f2['includes']('|')?_0x284af4(0x222)+_0x5d43f2+'}':_0x5d43f2}),this[_0x284af4(0x1e4)]({'profList':_0x5d899a[_0x284af4(0x174)],'title':_0x284af4(0x122),'$wrpDisplay':_0x1d1fff,'propTracker':_0x284af4(0x17e),'propTrackerPulse':_0x284af4(0x153),'fnsCleanup':_0x311144,'existing':this[_0x284af4(0x1fe)],'existingProficienciesCustom':this['_existingProficienciesCustomTools'],'fnDisplay':_0x3f4d24=>_0x3f4d24[_0x284af4(0x1fd)]('{@')?_0x3f4d24:_0x284af4(0x222)+_0x3f4d24+'}'}));_0x12e2b3&&this[_0x284af4(0xff)]&&this[_0x284af4(0x1e4)]({'profList':this[_0x284af4(0xff)],'title':_0x284af4(0x21e),'$wrpDisplay':_0x1d1fff,'propTracker':'savingThrowProficiencies','propTrackerPulse':_0x284af4(0x1fb),'fnsCleanup':_0x311144,'existing':this[_0x284af4(0x151)],'fnDisplay':_0x2110be=>Parser[_0x284af4(0x18a)](_0x2110be)});if(this[_0x284af4(0x1e8)])this['_featureSourceTracker'][_0x284af4(0x111)](this,this[_0x284af4(0x198)]());};this[_0x20e186(0x178)](_0x20e186(0x12b),_0x2f5f57),_0x2f5f57();}[_0x4a0509(0x198)](){const _0x1594ba=_0x4a0509,_0x32b071=this[_0x1594ba(0x194)](),_0x12c89b=_0x25a2fc=>_0x25a2fc[_0x1594ba(0x1b3)](_0x559ec9=>this[_0x1594ba(0x195)][_0x1594ba(0x166)](_0x559ec9))[_0x1594ba(0x1ba)](Boolean);return{'armorProficiencies':_0x12c89b(_0x32b071[_0x1594ba(0x197)]?.[_0x1594ba(0x20f)]||[])[_0x1594ba(0x18d)](_0x48dea9=>({[_0x48dea9]:!![]})),'weaponProficiencies':_0x12c89b(_0x32b071[_0x1594ba(0x197)]?.[_0x1594ba(0x16d)]||[])[_0x1594ba(0x18d)](_0x5843fa=>({[_0x5843fa]:!![]})),'toolProficiencies':_0x12c89b(_0x32b071[_0x1594ba(0x197)]?.[_0x1594ba(0x174)]||[])[_0x1594ba(0x18d)](_0x7e4cd1=>({[_0x7e4cd1]:!![]}))};}static['_getUid'](_0x17aeaf){const _0x4a70d0=_0x4a0509;if(!_0x17aeaf['startsWith'](_0x4a70d0(0x10e)))return _0x17aeaf;let [_0x77cc22,_0x1cc248]=Renderer[_0x4a70d0(0x20c)]((Renderer['splitFirstSpace'](_0x17aeaf[_0x4a70d0(0x127)](0x1,-0x1))[0x1]||'')[_0x4a70d0(0x1cb)]());_0x1cc248=_0x1cc248||SRC_DMG[_0x4a70d0(0x1cb)]();if(!_0x77cc22)return null;return _0x77cc22+'|'+_0x1cc248;}[_0x4a0509(0x1e4)]({profList:_0x1f8e12,title:_0x4fdd51,$wrpDisplay:_0x1790dd,propTracker:_0xec8065,propTrackerPulse:_0x10b143,fnsCleanup:_0x1e3b12,existing:_0x4a0731,existingProficienciesCustom:_0x3bd192,fnDisplay:_0x1cf768}){const _0x1e0eb3=_0x4a0509;if(!_0x1f8e12?.[_0x1e0eb3(0xfa)])return;const _0x33d800=_0x1f8e12['map'](_0x1c5c05=>this['constructor']['_getUid'](_0x1c5c05)),_0x3d7aa5={},_0x53845d=_0x1f8e12[_0x1e0eb3(0x1b3)]((_0x3f34d1,_0x1dcc55)=>{const _0xaf575f=_0x1e0eb3,_0xcb91cd=$(_0xaf575f(0x1ce)),_0x34d874=_0x33d800[_0x1dcc55];_0x3d7aa5[_0x34d874]=_0xcb91cd;const _0x3a888d=_0x1dcc55<_0x1f8e12[_0xaf575f(0xfa)]-0x1;return $$`<div class="inline-block ${_0x3a888d?_0xaf575f(0x15c):''}">${Renderer['get']()[_0xaf575f(0x160)](_0x1cf768?_0x1cf768(_0x3f34d1):_0x3f34d1)}${_0xcb91cd}${_0x3a888d?',':''}</div>`;});$$`<div class="block">
			<div class="mr-1 bold inline-block">${_0x4fdd51}:</div>${_0x53845d}
		</div>`[_0x1e0eb3(0x20b)](_0x1790dd);const _0xed5650=async()=>{const _0x38f2ef=_0x1e0eb3;try{await this['_pLock'](_0x38f2ef(0x158)),await _0x7335ec();}finally{this[_0x38f2ef(0x116)](_0x38f2ef(0x158));}},_0x7335ec=async()=>{const _0x3d1749=_0x1e0eb3,_0x4cceb8=this[_0x3d1749(0x1e8)]?this[_0x3d1749(0x1e8)][_0x3d1749(0x1d8)](_0xec8065,{'ignore':this}):null;for(const _0x5e6c12 of _0x33d800){if(!_0x3d7aa5[_0x5e6c12])return;const _0x3d893b=await UtilDataConverter['pGetItemWeaponType'](_0x5e6c12);let _0x20bcf1=(_0x4a0731||[])[_0x3d1749(0x1fd)](_0x5e6c12)||_0x3d893b&&(_0x4a0731||[])[_0x3d1749(0x1fd)](_0x3d893b)||(_0x3bd192||[])[_0x3d1749(0x1fd)](_0x5e6c12)||_0x3d893b&&(_0x3bd192||[])['includes'](_0x3d893b);_0x20bcf1=_0x20bcf1||(_0x4cceb8||[])[_0x3d1749(0x147)](_0x4ddaad=>!!_0x4ddaad[_0x5e6c12]||_0x3d893b&&!!_0x4ddaad[_0x3d893b]),_0x3d7aa5[_0x5e6c12]['title'](_0x20bcf1?_0x3d1749(0x1d0):'')[_0x3d1749(0x1b9)](_0x3d1749(0x159),_0x20bcf1)[_0x3d1749(0x226)](_0x20bcf1?'(<i\x20class=\x22fas\x20fa-fw\x20'+UtilActors[_0x3d1749(0x105)][0x1]+_0x3d1749(0x18b):'');}};this['_featureSourceTracker']&&(this[_0x1e0eb3(0x1e8)][_0x1e0eb3(0xf9)](this,_0x10b143,_0xed5650),_0x1e3b12[_0x1e0eb3(0x221)](()=>this[_0x1e0eb3(0x1e8)]['removeHook'](this,_0x10b143,_0xed5650))),_0xed5650();}[_0x4a0509(0x1a1)](){const _0x18a175=_0x4a0509;return{'mode':Charactermancer_Class_ProficiencyImportModeSelect[_0x18a175(0x21f)]};}}export{PageFilterClassesFoundry,Charactermancer_Class_Util,Charactermancer_Class_LevelSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_HpInfo,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies};