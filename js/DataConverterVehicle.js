const _0x1b3405=_0x3de6;(function(_0x4bf74d,_0xeb6976){const _0x3e20bd=_0x3de6,_0x4445a0=_0x4bf74d();while(!![]){try{const _0xcd48cf=parseInt(_0x3e20bd(0xd1))/0x1+parseInt(_0x3e20bd(0xf4))/0x2+parseInt(_0x3e20bd(0x94))/0x3*(-parseInt(_0x3e20bd(0xa9))/0x4)+parseInt(_0x3e20bd(0xa4))/0x5*(-parseInt(_0x3e20bd(0xaf))/0x6)+parseInt(_0x3e20bd(0xc7))/0x7*(-parseInt(_0x3e20bd(0xe8))/0x8)+parseInt(_0x3e20bd(0xa0))/0x9*(-parseInt(_0x3e20bd(0x81))/0xa)+parseInt(_0x3e20bd(0xf6))/0xb;if(_0xcd48cf===_0xeb6976)break;else _0x4445a0['push'](_0x4445a0['shift']());}catch(_0x3cfa1d){_0x4445a0['push'](_0x4445a0['shift']());}}}(_0x273d,0x48e5c));import{DataConverter}from'./DataConverter.js';import{SharedConsts}from'../shared/SharedConsts.js';function _0x273d(){const _0x3baf2a=['vehicleWeapon','max','units','\x20per\x20hour\x20(','exec','split','_pGetFlagsSideLoaded','pGetShipOtherItem','findIndex','Unhandled\x20vehicle\x20type\x20\x22','162412BpbOjV','pOptionallySaveImageToServerAndGetUrl','3790974hpeqPd','entry','air','description','get','ship','Unknown\x20cover\x20type\x20\x22\x22','getMetricNumberDistance','vehicle','trim','condition','1270ytflrW','fly','getParsedWeaponEntryData','</div>','item','conditions','action','Unhandled\x20locomotion\x20mode\x20\x22','pSerialAwaitMap','_getVehicleSpeed_infwar','foundryVehicle','modules/','setFirstSection','unshift','source','_getVehicleSpeed_ship','land','srd','bind','1024869DYFCRL','pace','map','movement','WALKER_READONLY_GENERIC','locomotion','_pGetEffectsSideLoaded','crew','_SIDE_LOAD_OPTS_WEAPON','hover','pGetShipEquipmentItem','/media/icon/gears.svg','8244FWkZgu','filter','<div>','_getSpeedTypeFromMovementMode','10YeIvzM','vehicleName','foundryVehicleWeapon','getDamagePartsAndOtherFormula','value','4mvKFWX','importVehicle','ft.','\x20per\x20day)','walk','/media/icon/pirate-cannon.svg','566418NvRzcs','type','items','replace','equipment','list','entries','_getSpeedMetas','MODULE_NAME','_pGetDataSideLoaded','includes','name','getMetricUnitDistance','copy','length','pGetEntryDescription','terrain','spell','(hover)','hpNote','data','/media/icon/ship-wheel.svg','siege','keys','10276UkQLTO','test','string','render','join','INFWAR','flat','count','pGetVehicleSideData','getSourceWithPagePart','563549kMSndi','push','vehicleType','Unhandled\x20terrain\x20type\x20\x22','grants\x20total\x20cover','_getShipMovement_ship','pGetInfWarActionItem','swim','_getMovementTypeFromTerrain','_doPopulateMovementToSpeedMap','_getLocomotionMetas','getLocomotionEntries','speed','SHIP','feat','getSpeedEntries','forEach','_getFauxVehicleWeapon','grants\x20half\x20cover','_getShipMovement_infwar','toLowerCase','pGetShipWeaponItem','getShipMovement','240sUlwda','vehicleSource'];_0x273d=function(){return _0x3baf2a;};return _0x273d();}import{UtilDataConverter}from'./UtilDataConverter.js';import{Vetools}from'./Vetools.js';import{Config}from'./Config.js';class DataConverterVehicle extends DataConverter{static ['_SIDE_LOAD_OPTS']={'propBrew':_0x1b3405(0x8b),'fnLoadJson':Vetools[_0x1b3405(0xcf)][_0x1b3405(0x93)](Vetools),'propJson':'vehicle'};static [_0x1b3405(0x9c)]={'propBrew':_0x1b3405(0xa6),'fnLoadJson':Vetools[_0x1b3405(0xcf)]['bind'](Vetools),'propJson':_0x1b3405(0xea),'propsMatch':[_0x1b3405(0xe9),_0x1b3405(0xa5),_0x1b3405(0x8f),_0x1b3405(0xba)]};static['getVehicleSpeed'](_0x3a8ebe){const _0x582454=_0x1b3405;switch(_0x3a8ebe[_0x582454(0xd3)]){case'SHIP':return this[_0x582454(0x90)](_0x3a8ebe);case _0x582454(0xcc):return this[_0x582454(0x8a)](_0x3a8ebe);default:throw new Error('Unhandled\x20vehicle\x20type\x20\x22'+_0x3a8ebe['vehicleType']+'\x22');}}static[_0x1b3405(0x90)](_0x4b4053){const _0x44fc0a=_0x1b3405;if(!_0x4b4053[_0x44fc0a(0x95)])return'';const _0xa3b4f=Config['getMetricNumberDistance']({'configGroup':_0x44fc0a(0xaa),'originalValue':_0x4b4053[_0x44fc0a(0x95)],'originalUnit':UNT_MILES}),_0x1819e0=Config[_0x44fc0a(0x7d)]({'configGroup':'importVehicle','originalValue':_0x4b4053[_0x44fc0a(0x95)]*0x18,'originalUnit':UNT_MILES}),_0x30b048=Config[_0x44fc0a(0xbb)]({'configGroup':'importVehicle','originalUnit':UNT_MILES,'isShortForm':![],'isPlural':_0x4b4053[_0x44fc0a(0x95)]!==0x1});return _0xa3b4f+'\x20'+_0x30b048+_0x44fc0a(0xed)+_0x1819e0+'\x20'+_0x30b048+_0x44fc0a(0xac);}static[_0x1b3405(0x8a)](_0x364fa7){const _0x13e4ba=_0x1b3405,_0x2d134e=Config[_0x13e4ba(0x7d)]({'configGroup':_0x13e4ba(0xaa),'originalValue':_0x364fa7['speed'],'originalUnit':'ft.'}),_0x3dd008=Config[_0x13e4ba(0xbb)]({'configGroup':_0x13e4ba(0xaa),'originalUnit':_0x13e4ba(0xab)});return _0x2d134e+'\x20'+_0x3dd008;}static[_0x1b3405(0xe7)](_0x4514c2){const _0x196171=_0x1b3405;switch(_0x4514c2[_0x196171(0xd3)]){case _0x196171(0xde):return this[_0x196171(0xd6)](_0x4514c2);case _0x196171(0xcc):return this[_0x196171(0xe4)](_0x4514c2);default:throw new Error(_0x196171(0xf3)+_0x4514c2[_0x196171(0xd3)]+'\x22');}}static[_0x1b3405(0xd6)](_0x55e996){const _0x365a1a=_0x1b3405,_0x2dc0bc={};(_0x55e996[_0x365a1a(0x97)]||[])[_0x365a1a(0xe1)](_0x2fc6e4=>{const _0x161002=_0x365a1a;this[_0x161002(0xda)](_0x2fc6e4,_0x161002(0x99),_0x2dc0bc),this[_0x161002(0xda)](_0x2fc6e4,_0x161002(0xdd),_0x2dc0bc);});!Object[_0x365a1a(0xc6)](_0x2dc0bc)[_0x365a1a(0xbd)]&&_0x55e996[_0x365a1a(0x95)]&&_0x55e996[_0x365a1a(0xbf)]?.[_0x365a1a(0xbd)]&&(_0x55e996[_0x365a1a(0xbf)][_0x365a1a(0xe1)](_0x613457=>{const _0x6c4386=_0x365a1a,_0x233e25=this[_0x6c4386(0xd9)](_0x613457);_0x2dc0bc[_0x233e25]=Config[_0x6c4386(0x7d)]({'configGroup':_0x6c4386(0xaa),'originalUnit':UNT_MILES,'originalValue':_0x55e996[_0x6c4386(0x95)]});}),_0x2dc0bc[_0x365a1a(0xec)]=Config[_0x365a1a(0xbb)]({'configGroup':_0x365a1a(0xaa),'originalUnit':'mi'}));if(!_0x2dc0bc[_0x365a1a(0xad)])_0x2dc0bc[_0x365a1a(0xad)]=0x0;return _0x2dc0bc;}static[_0x1b3405(0xd9)](_0x3c4726){const _0x50a35d=_0x1b3405;switch(_0x3c4726){case _0x50a35d(0xf8):return _0x50a35d(0x82);case _0x50a35d(0x91):return _0x50a35d(0xad);case'sea':return'swim';default:throw new Error(_0x50a35d(0xd4)+_0x3c4726+'\x22');}}static[_0x1b3405(0xda)](_0x22dcde,_0x81e0b2,_0x51de2a){const _0x497bfa=_0x1b3405;if(!_0x22dcde[_0x81e0b2])return;_0x22dcde[_0x81e0b2][_0x497bfa(0xe1)](_0x2c5345=>{const _0x49aa86=_0x497bfa;if(!_0x2c5345[_0x49aa86(0xb5)]||!_0x2c5345[_0x49aa86(0xb5)]['length'])return;const _0x24e765=this[_0x49aa86(0xa3)](_0x2c5345['mode']);if(_0x24e765==null){UtilDataConverter[_0x49aa86(0x98)][_0x49aa86(0xad)](_0x2c5345[_0x49aa86(0xb5)],{'string':_0xce08f4=>{const _0x47ca=_0x49aa86;_0xce08f4[_0x47ca(0xef)](',')[_0x47ca(0x96)](_0xcdfb2e=>_0xcdfb2e[_0x47ca(0x7f)]())[_0x47ca(0xa1)](Boolean)[_0x47ca(0xe1)](_0x5c32f0=>{const _0x38ac4f=_0x47ca;_0x5c32f0[_0x38ac4f(0xb2)](/^(?:(burrow|climb|swim|fly) )?(\d+) ft\./g,(..._0x3213ae)=>{const _0x5c96db=_0x38ac4f,_0x43868c=_0x3213ae[0x1][_0x5c96db(0xe5)]()[_0x5c96db(0x7f)](),_0x23d60b=Config[_0x5c96db(0x7d)]({'configGroup':_0x5c96db(0xaa),'originalUnit':UNT_FEET,'originalValue':Number(_0x3213ae[0x2])});_0x51de2a[_0x43868c]=Math[_0x5c96db(0xeb)](_0x23d60b,_0x51de2a[_0x43868c]||0x0);});});if(_0xce08f4[_0x47ca(0xe5)]()[_0x47ca(0xb9)](_0x47ca(0xc1)))_0x51de2a[_0x47ca(0x9d)]=!![];}});return;}UtilDataConverter[_0x49aa86(0x98)]['walk'](_0x2c5345[_0x49aa86(0xb5)],{'string':_0x233cea=>{const _0x5869b6=_0x49aa86;_0x233cea[_0x5869b6(0xb2)](/speed (\d+) ft\./g,(..._0x3c26f8)=>{const _0xa79b6f=_0x5869b6,_0xa9b8ed=Config[_0xa79b6f(0x7d)]({'configGroup':_0xa79b6f(0xaa),'originalUnit':UNT_FEET,'originalValue':Number(_0x3c26f8[0x1])});_0x51de2a[_0x24e765]=Math[_0xa79b6f(0xeb)](_0xa9b8ed,_0x51de2a[_0x24e765]||0x0);});if(_0x233cea[_0x5869b6(0xe5)]()[_0x5869b6(0xb9)](_0x5869b6(0xc1)))_0x51de2a[_0x5869b6(0x9d)]=!![];}});});}static[_0x1b3405(0xa3)](_0x4f825e){const _0x2fbfd1=_0x1b3405;switch(_0x4f825e){case'air':return _0x2fbfd1(0x82);case'water':return _0x2fbfd1(0xd8);case'magical':return null;default:throw new Error(_0x2fbfd1(0x88)+_0x4f825e+'\x22');}}static[_0x1b3405(0xe4)](_0x161a80){const _0x5edf26=_0x1b3405,_0x83f90={};return _0x161a80[_0x5edf26(0xdd)]&&(_0x83f90[_0x5edf26(0xad)]=Config[_0x5edf26(0x7d)]({'configGroup':_0x5edf26(0xaa),'originalUnit':UNT_FEET,'originalValue':_0x161a80['speed']}),_0x83f90[_0x5edf26(0xec)]=Config[_0x5edf26(0xbb)]({'configGroup':_0x5edf26(0xaa),'originalUnit':'ft'})),_0x83f90;}static async[_0x1b3405(0x9e)](_0x34c9f8,_0x286ae1,_0x8f9459){const _0x30c576=_0x1b3405;let _0x43500a=await DataConverter['pGetEntryDescription'](_0x286ae1);if(_0x8f9459===_0x30c576(0x97)){if(_0x286ae1[_0x30c576(0xdd)]){const _0x2d1106=_0x286ae1[_0x30c576(0xdd)][_0x30c576(0x96)](_0x1a0ad8=>Renderer[_0x30c576(0x7e)][_0x30c576(0x7b)][_0x30c576(0xe0)](_0x1a0ad8))['map'](_0x2dcb25=>_0x30c576(0xa2)+Renderer[_0x30c576(0xfa)]()[_0x30c576(0x8d)](!![])['render'](_0x2dcb25)+_0x30c576(0x84));_0x43500a+=_0x2d1106[_0x30c576(0xcb)]('');}if(_0x286ae1[_0x30c576(0x99)]){const _0x31aead=_0x286ae1[_0x30c576(0x99)][_0x30c576(0x96)](_0x556172=>Renderer['vehicle'][_0x30c576(0x7b)][_0x30c576(0xdc)](_0x556172))[_0x30c576(0x96)](_0x88b7c6=>_0x30c576(0xa2)+Renderer[_0x30c576(0xfa)]()[_0x30c576(0x8d)](!![])[_0x30c576(0xca)](_0x88b7c6)+_0x30c576(0x84));_0x43500a+=_0x31aead[_0x30c576(0xcb)]('');}}const _0x176988={'name':_0x286ae1[_0x30c576(0xba)],'type':_0x30c576(0xb3),'data':{'description':{'value':_0x43500a,'chat':'','unidentified':''},'source':UtilDataConverter[_0x30c576(0xd0)](_0x34c9f8),'quantity':0x1,'weight':0x0,'price':0x0,'attuned':![],'equipped':!![],'rarity':'','identified':!![],'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x30c576(0xc0)},'armor':{'value':_0x286ae1['ac']||0x0,'type':'vehicle','dex':null},'hp':{'value':_0x286ae1['hp']||0x0,'max':_0x286ae1['hp']||0x0,'dt':_0x286ae1['dt'],'conditions':_0x286ae1[_0x30c576(0xc2)]||''},'speed':{'value':null,'conditions':''},'strength':0x0,'stealth':![],'proficient':!![]},'flags':{},'img':await Vetools[_0x30c576(0xf5)](_0x30c576(0x8c)+SharedConsts['MODULE_NAME']+_0x30c576(0xc4))};if(_0x8f9459===_0x30c576(0x97)){if(_0x286ae1['speed']){const _0x58b3a3=this[_0x30c576(0xb6)](_0x286ae1);if(_0x58b3a3[_0x30c576(0xbd)]){const _0x4ee3e7=_0x58b3a3[0x0];_0x176988[_0x30c576(0xc3)][_0x30c576(0xdd)][_0x30c576(0xa8)]=_0x4ee3e7['speed'],_0x176988[_0x30c576(0xc3)][_0x30c576(0xdd)]['conditions']=_0x4ee3e7[_0x30c576(0x80)];}}if(_0x286ae1['locomotion']){const _0x492bc8=this['_getLocomotionMetas'](_0x286ae1);if(_0x492bc8[_0x30c576(0xbd)]){const _0x31611f=_0x492bc8[0x0];_0x176988['data'][_0x30c576(0xdd)]['value']=_0x31611f[_0x30c576(0xdd)],_0x176988['data'][_0x30c576(0xdd)][_0x30c576(0x86)]=_0x31611f[_0x30c576(0x80)];}}}return _0x176988;}static[_0x1b3405(0xb6)](_0x362a00){const _0x3d36d9=_0x1b3405;if(!_0x362a00[_0x3d36d9(0xdd)]||!_0x362a00[_0x3d36d9(0xdd)][_0x3d36d9(0xbd)])return[];return _0x362a00[_0x3d36d9(0xdd)][_0x3d36d9(0x96)](_0x29243d=>{const _0x5b875e=_0x3d36d9;if(!_0x29243d[_0x5b875e(0xb5)]||!_0x29243d['entries'][_0x5b875e(0xbd)]||typeof _0x29243d[_0x5b875e(0xb5)][0x0]!==_0x5b875e(0xc9))return null;const _0x72c087=_0x29243d['entries'][0x0][_0x5b875e(0xef)](';')[_0x5b875e(0x96)](_0x455782=>_0x455782['trim']())[_0x5b875e(0xa1)](Boolean);return _0x72c087[_0x5b875e(0x96)](_0x54b378=>{const _0x45243a=_0x5b875e,_0x13d057=/^((?:fly|swim|burrow|climb) )?(\d+)\s*ft\.(.*?)$/[_0x45243a(0xee)](_0x54b378);if(!_0x13d057)return null;const _0x4c64b1={'speed':Config[_0x45243a(0x7d)]({'configGroup':_0x45243a(0xaa),'originalUnit':UNT_FEET,'originalValue':Number(_0x13d057[0x2])})};if(_0x13d057[0x3]){const _0xdff4b7=_0x13d057[0x3][_0x45243a(0x7f)]()[_0x45243a(0xb2)](/^,\s*/,'');if(_0xdff4b7)_0x4c64b1[_0x45243a(0x80)]=_0xdff4b7;}return _0x4c64b1;});})[_0x3d36d9(0xa1)](Boolean)[_0x3d36d9(0xcd)]();}static[_0x1b3405(0xdb)](_0x28b1e8){const _0x5a2325=_0x1b3405;if(!_0x28b1e8['locomotion']||!_0x28b1e8[_0x5a2325(0x99)][_0x5a2325(0xbd)])return[];return _0x28b1e8['locomotion'][_0x5a2325(0x96)](_0x2dd06d=>{const _0x5c460f=_0x5a2325;if(!_0x2dd06d['entries']||!_0x2dd06d[_0x5c460f(0xb5)][_0x5c460f(0xbd)]||typeof _0x2dd06d[_0x5c460f(0xb5)][0x0]!==_0x5c460f(0xc9))return null;const _0x2e069c=/^(.*?), speed (\d+)\s*ft\.(.*?)$/i[_0x5c460f(0xee)](_0x2dd06d['entries'][0x0]);if(!_0x2e069c)return null;let [_0x38a4d3,_0x50660c,_0x50d0a4,_0x2cace0]=_0x2e069c;_0x50660c=_0x50660c['trim'](),_0x50d0a4=_0x50d0a4[_0x5c460f(0x7f)](),_0x2cace0=_0x2cace0[_0x5c460f(0x7f)]();const _0x592f6e=_0x2cace0[_0x5c460f(0xef)](';')[_0x5c460f(0x96)](_0x4bc94e=>_0x4bc94e[_0x5c460f(0x7f)]())['filter'](Boolean),[_0x4e7946,..._0x312616]=_0x2cace0[_0x5c460f(0xb9)](';')?['',..._0x592f6e]:_0x592f6e,_0x478dd6={'speed':Config[_0x5c460f(0x7d)]({'configGroup':_0x5c460f(0xaa),'originalUnit':UNT_FEET,'originalValue':Number(_0x50d0a4)})};if(_0x4e7946)_0x478dd6[_0x5c460f(0x80)]=_0x4e7946;const _0x11bcd9=[];return _0x312616[_0x5c460f(0xe1)](_0xcdbec4=>{const _0x103a06=_0x5c460f,_0x4d4094=/^(\d+)\s*ft\.(.*?)$/['exec'](_0xcdbec4);if(!_0x4d4094)return;_0x11bcd9[_0x103a06(0xd2)]({'speed':Config[_0x103a06(0x7d)]({'configGroup':'importVehicle','originalUnit':UNT_FEET,'originalValue':Number(_0x4d4094[0x1])}),'condition':_0x4d4094[0x2]});}),[_0x478dd6,..._0x11bcd9];})[_0x5a2325(0xa1)](Boolean)[_0x5a2325(0xcd)]();}static[_0x1b3405(0xe2)](_0x411612,_0x535de5){const _0x4c825e=_0x1b3405;return{'source':_0x411612['source'],'backgroundName':_0x411612[_0x4c825e(0xba)],'backgroundSource':_0x411612[_0x4c825e(0x8f)],'srd':_0x411612[_0x4c825e(0x92)]||_0x411612['_baseSrd'],...MiscUtil[_0x4c825e(0xbc)](_0x535de5)};}static async[_0x1b3405(0xe6)](_0x4738ac,_0x3cc974){const _0x1fb17d=_0x1b3405,_0x4246a5=await DataConverter[_0x1fb17d(0xbe)](_0x3cc974),{damageTupleMetas:_0x32eacf,isAttack:_0x14ca58,rangeShort:_0x45ac81,rangeLong:_0x116e5b,actionType:_0x57f990,attackBonus:_0x5df3a2}=DataConverter['getParsedWeaponEntryData'](_0x4738ac,_0x3cc974),{damageParts:_0xd0f422,formula:_0x4f6251}=DataConverter[_0x1fb17d(0xa7)](_0x32eacf),_0x111356=await Vetools[_0x1fb17d(0xf5)](_0x1fb17d(0x8c)+SharedConsts['MODULE_NAME']+_0x1fb17d(0xae)),_0x154f2d=this[_0x1fb17d(0xe2)](_0x4738ac,_0x3cc974),_0xcd84d4=await this[_0x1fb17d(0xb8)](_0x154f2d,{'propOpts':_0x1fb17d(0x9c)}),_0x26dc1c=await this[_0x1fb17d(0xf0)](_0x154f2d,{'propOpts':_0x1fb17d(0x9c)}),_0x1e2ae8=await this[_0x1fb17d(0x9a)]({'ent':_0x154f2d,'img':_0x111356},{'propOpts':_0x1fb17d(0x9c)});return DataConverter['mutEffectsDisabledTransfer'](_0x1e2ae8,'importVehicle'),{'name':_0x3cc974[_0x1fb17d(0xba)],'type':'weapon','data':{'description':{'value':_0x4246a5,'chat':'','unidentified':''},'source':UtilDataConverter['getSourceWithPagePart'](_0x4738ac),'quantity':_0x3cc974[_0x1fb17d(0xce)]||0x1,'weight':0x0,'price':0x0,'attuned':![],'equipped':!![],'rarity':'','identified':!![],'activation':{'type':_0x14ca58?_0x1fb17d(0x87):'','cost':_0x14ca58?0x1:0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':_0x45ac81||0x0,'long':_0x116e5b||0x0,'units':'ft'},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':'','actionType':_0x57f990||'other','attackBonus':_0x5df3a2||null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':_0xd0f422||[],'versatile':''},'formula':_0x4f6251,'save':{'ability':'','dc':null,'scaling':'spell'},'armor':{'value':_0x3cc974['ac']||0x0},'hp':{'value':_0x3cc974['hp']||0x0,'max':_0x3cc974['hp']||0x0,'dt':_0x3cc974['dt'],'conditions':''},'weaponType':_0x1fb17d(0xc5),'properties':{},'proficient':!![],..._0xcd84d4},'flags':{..._0x26dc1c},'img':_0x111356,'effects':_0x1e2ae8};}static async[_0x1b3405(0xf1)](_0x2c33cd,_0x5d41c1){const _0x5f5bed=_0x1b3405,_0x20aad5=await DataConverter[_0x5f5bed(0xbe)](_0x5d41c1);if(/^Actions?$/i[_0x5f5bed(0xc8)](_0x5d41c1[_0x5f5bed(0xba)]||''))return{'name':_0x5d41c1[_0x5f5bed(0xba)],'type':'feat','data':{'description':{'value':_0x20aad5,'chat':'','unidentified':''},'source':UtilDataConverter[_0x5f5bed(0xd0)](_0x2c33cd),'activation':{'type':'crew','cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x5f5bed(0xc0)},'requirements':'','recharge':{'value':null,'charged':![]},'cover':null},'flags':{},'img':await Vetools['pOptionallySaveImageToServerAndGetUrl'](_0x5f5bed(0x8c)+SharedConsts['MODULE_NAME']+_0x5f5bed(0xc4))};return{'name':_0x5d41c1[_0x5f5bed(0xba)],'type':_0x5f5bed(0xdf),'data':{'description':{'value':_0x20aad5,'chat':'','unidentified':''},'source':UtilDataConverter[_0x5f5bed(0xd0)](_0x2c33cd),'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x5f5bed(0xc0)},'requirements':'','recharge':{'value':null,'charged':![]}},'flags':{},'img':await Vetools[_0x5f5bed(0xf5)]('modules/'+SharedConsts['MODULE_NAME']+_0x5f5bed(0xc4))};}static async['pGetShipActionItems'](_0x5ac601,_0x4394e9){const _0x459558=_0x1b3405,_0x53c2d6=_0x4394e9[_0x459558(0xf2)](_0x37aac9=>_0x37aac9[_0x459558(0xb0)]===_0x459558(0xb4)&&_0x37aac9[_0x459558(0xb1)]['every'](_0x368abd=>_0x368abd[_0x459558(0xb0)]===_0x459558(0x85))),_0x5be81b={'name':'','type':_0x459558(0xdf),'data':{'description':{'value':'','chat':'','unidentified':''},'source':UtilDataConverter[_0x459558(0xd0)](_0x5ac601),'activation':{'type':_0x459558(0x9b),'cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x459558(0xc0)},'requirements':'','recharge':{'value':null,'charged':![]},'cover':null},'flags':{},'img':await Vetools[_0x459558(0xf5)](_0x459558(0x8c)+SharedConsts[_0x459558(0xb7)]+'/media/icon/ship-wheel.svg')};if(!~_0x53c2d6)return _0x5be81b[_0x459558(0xba)]='Actions',_0x5be81b[_0x459558(0xc3)][_0x459558(0xf9)][_0x459558(0xa8)]=await DataConverter[_0x459558(0xbe)]({'entries':_0x4394e9}),[_0x5be81b];_0x4394e9=MiscUtil[_0x459558(0xbc)](_0x4394e9);const _0xefdb93=_0x4394e9[_0x53c2d6];return _0x4394e9['splice'](_0x53c2d6,0x1),_0xefdb93['items'][_0x459558(0x89)](async _0x339b9c=>{const _0x40b1b3=_0x459558,_0x248a3b=_0x339b9c[_0x40b1b3(0xba)][_0x40b1b3(0xb2)](/\.$/i,''),_0x5bc92f=MiscUtil[_0x40b1b3(0xbc)](_0x4394e9);if(typeof _0x5bc92f[0x0]===_0x40b1b3(0xc9))_0x5bc92f[0x0]=_0x5bc92f[0x0][_0x40b1b3(0xb2)](/, choosing from the options below[.:]/ig,'.');_0x5bc92f[_0x40b1b3(0x8e)]({'type':_0x40b1b3(0xb5),'name':_0x248a3b,'entries':_0x339b9c[_0x40b1b3(0xb5)]||[_0x339b9c[_0x40b1b3(0xf7)]]});const _0x45250f=await DataConverter[_0x40b1b3(0xbe)]({'entries':_0x5bc92f}),_0x11ae33=MiscUtil[_0x40b1b3(0xbc)](_0x5be81b);return _0x11ae33[_0x40b1b3(0xba)]=_0x248a3b,_0x11ae33[_0x40b1b3(0xc3)]['description'][_0x40b1b3(0xa8)]=_0x45250f,_0x11ae33;});}static async[_0x1b3405(0xd7)](_0x2a6bd4,_0x3a7ea6){const _0x48a344=_0x1b3405,_0x40875c=await DataConverter[_0x48a344(0xbe)](_0x3a7ea6),{damageTupleMetas:_0x2b1d31,isAttack:_0x423219,rangeShort:_0x7a0d60,rangeLong:_0x150b79,actionType:_0x10280a,attackBonus:_0x58ddaf}=DataConverter[_0x48a344(0x83)](_0x2a6bd4,_0x3a7ea6),{damageParts:_0x178fef,formula:_0x39c816}=DataConverter[_0x48a344(0xa7)](_0x2b1d31);let _0x2b08a4=0x0;return(_0x3a7ea6[_0x48a344(0xba)]||'')['replace'](/(Grants Half Cover|Grants Three-Quarters Cover|Grants Total Cover)/ig,(..._0x55af00)=>{const _0x111e6a=_0x48a344,_0x249fea=_0x55af00[0x1][_0x111e6a(0xe5)]()[_0x111e6a(0x7f)]();switch(_0x249fea){case _0x111e6a(0xe3):_0x2b08a4=0.5;break;case'grants\x20three-quarters\x20cover':_0x2b08a4=0.75;break;case _0x111e6a(0xd5):_0x2b08a4=0x1;break;default:throw new Error(_0x111e6a(0x7c)+_0x249fea);}}),{'name':_0x3a7ea6[_0x48a344(0xba)],'type':'feat','data':{'description':{'value':_0x40875c,'chat':'','unidentified':''},'source':UtilDataConverter['getSourceWithPagePart'](_0x2a6bd4),'activation':{'type':_0x48a344(0x9b),'cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':_0x7a0d60,'long':_0x150b79,'units':'ft'},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':'','actionType':_0x10280a||'other','attackBonus':_0x58ddaf||null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':_0x178fef||[],'versatile':''},'formula':_0x39c816,'save':{'ability':'','dc':null,'scaling':_0x48a344(0xc0)},'requirements':'','recharge':{'value':null,'charged':![]},'cover':_0x2b08a4},'flags':{},'img':await Vetools['pOptionallySaveImageToServerAndGetUrl']('modules/'+SharedConsts[_0x48a344(0xb7)]+_0x48a344(0x9f))};}}function _0x3de6(_0x4e61fd,_0x226f00){const _0x273d3b=_0x273d();return _0x3de6=function(_0x3de6a6,_0x96f68){_0x3de6a6=_0x3de6a6-0x7b;let _0x2e1fa4=_0x273d3b[_0x3de6a6];return _0x2e1fa4;},_0x3de6(_0x4e61fd,_0x226f00);}export{DataConverterVehicle};