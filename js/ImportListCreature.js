const _0x40b176=_0x574a;(function(_0x43143c,_0x3907bb){const _0x121667=_0x574a,_0x2c0f46=_0x43143c();while(!![]){try{const _0x299c8a=parseInt(_0x121667(0x238))/0x1*(-parseInt(_0x121667(0x1e0))/0x2)+-parseInt(_0x121667(0x187))/0x3*(parseInt(_0x121667(0x287))/0x4)+parseInt(_0x121667(0x2d2))/0x5+-parseInt(_0x121667(0x279))/0x6*(-parseInt(_0x121667(0x220))/0x7)+parseInt(_0x121667(0x1f6))/0x8+-parseInt(_0x121667(0x2a1))/0x9+parseInt(_0x121667(0x1f0))/0xa*(parseInt(_0x121667(0x179))/0xb);if(_0x299c8a===_0x3907bb)break;else _0x2c0f46['push'](_0x2c0f46['shift']());}catch(_0x3e345f){_0x2c0f46['push'](_0x2c0f46['shift']());}}}(_0x39bc,0xf15bd));import{ImportListActor}from'./ImportListActor.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{UtilActors}from'./UtilActors.js';import{DataConverter}from'./DataConverter.js';import{DataConverterItem}from'./DataConverterItem.js';function _0x574a(_0x35e818,_0x261c46){const _0x39bc7e=_0x39bc();return _0x574a=function(_0x574a11,_0x1959b1){_0x574a11=_0x574a11-0x15c;let _0x1cf88d=_0x39bc7e[_0x574a11];return _0x1cf88d;},_0x574a(_0x35e818,_0x261c46);}import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterCreature}from'./DataConverterCreature.js';import{UtilDataSource}from'./UtilDataSource.js';import{ConfigConsts}from'./ConfigConsts.js';import{DataConverterActor}from'./DataConverterActor.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{ImportListSpell}from'./ImportListSpell.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{ImportCustomizer}from'./ImportList.js';import{UtilDocuments}from'./UtilDocuments.js';import{UtilCompat}from'./UtilCompat.js';function _0x39bc(){const _0x1beda5=['toggleVe','biography','_isActionOtherChooseOneOrRandom','MODULE_NAME_FAKE','_initAssumedPb','_pGetRenamedMon_isSkipReplace','Failed\x20to\x20find\x20sheet\x20item\x20for\x20item\x20\x22','push','isUseTokenImageAsPortrait','SOURCE_TYP_OFFICIAL_ALL','pGetItemActorPassive','int','escapeRegexp','_getAvailableTokens','_RES_SHORTNAME_BLACKLIST','_page','_pImportEntry_pFillData_Attributes_Ac_getAcFromItems','_isOptionsList','.veapp__list','_getItemHashesFromString','_mutLegendaryActionNameAndCost','embeddedDocument','spell','Unhandled\x20lair\x20action\x20format!','activateListeners','_pImportEntry_pFillItems_pTraitsReactionsLegendaries','_WALER_RENAME','isSingletonSource_officialAdventure','_activateListeners_bindControls','legact','spellLevel','con','LEVEL_MAX','dex','generic','getVariantEntries','isEquipped','attribute','.\x20Spells\x20belonging\x20to\x20these\x20properties\x20will\x20be\x20imported\x20as\x20generic\x20\x22spell\x20list\x22\x20spells.','headerEntries','_summonedBySpell_level','atwill','postItemItemUpdates','.search','innate','_pImportEntry_pFillItems_lairActions_getLairActionEntryFromListItem','_activateListeners_initRunButtonsAdditional_genericMods','exampleSpellsUnofficial','_getCastingColorVariantSpellcastingTrait','usesMax','constant','group','PG_ITEMS','pGetLairActionImage','get','spellDc','pCacheAndGetHash','_pImportEntry_pFillItems_pInventory','npc','natural','nameTags','No\x20handling\x20defined\x20for\x20the\x20following\x20spellcasting\x20properties:\x20','includes','$cbIsNamedCreature','getDamagePartsAndOtherFormula','getRenderedVariants','class','_getLairActionName','ACTIVE_EFFECT_MODES','intToBonus','_pGetSources','bonus','hover','getDataSpells','URL_TO_HASH_BUILDER','@attributes.ac.armor\x20+\x20@attributes.ac.dex\x20','sort','18tEyfNf','absorbFnBindListenersRadio','flat','exec','doAbsorbItems','senses','_resolve','altArt','join','forEach','uid','resources.legact.value','_RE_SHORTNAME_PT_VERB','postProcessFluff','_userData','alignment','10QCPJaC','...','has','_pImportEntry_pFillItems_pActions','value','getMythicActionIntro','464096eelVII','_getPossibleMonShortName','creatureTypes','importCreature','permissions','pact','Custom\x20URL','ascSortLower','_RES_SHORTNAME','values','walk','spells','DataSourceUrl','importedSheetItems','getMetaGroup','preparationMode','</div>\x0a\x09\x09\x09','list','<div>','bind','C_CREATURE_NAMETAGS_TYPE_WITH_TAGS','getSourceWithPagePart','Lair:\x20','tags','_pImportEntry_getAcMeta_getAcVal','slice','_getData_getVariants','find','med','absorbFnBindListeners','_getFolderTypeWithTags','mon','Customize\x20Import','will','VALID_LANGUAGES','monTypeToFullObj','_pImportEntry_pFillItems_pLegendaryHeader','\x20+\x20@mod','(?:is|can|starts|has|takes|targets|exhales|fails|makes)','summonedByClass','ele','_getCasterLevelFromEntry','175rcJnud','_pPostFilterRender','Type\x20(With\x20Tags)','actors','_vCr','set','hasCastingColorVariant','The\x20','_pImportEntry_pFillItems_pSpellcasting','[name=\x22sel-variant\x22]','cha','checked','_pImportEntry_pFillFolder','isImportBioImages','sourceStyle','Regional\x20Effects','stripTags','pAddActorItems','absorbFnGetData','ImportEntryOpts','_pFnPostProcessEntries','val','_pImportEntry_pFillToken','pGetCreatureIndex','183179FadEYr','_pImportEntry_pFillItems_pLairActions','getValues','min','getSpellcasterDetailsPart','creature','ability','getMovement','_pageFilter','_plut_isLegendaryResistance','_getVariant_dragonInnateSpellcaster_mm','currency','isTokenMetric','toLowerCase','footerEntries','perm','_RE_SHORTNAME_PT_NAME','items','_displayName','\x20attacks\x20with\x20their\x20','getNameWithSourcePart','_getVariant_dragonInnateSpellcaster_ftd','MODULE_LOCATION','_pImportEntry_fillData_Currency','prepared','map','Other\x20AC\x20Bonus','wis','_pImportEntry_pFillItems_pLegendaryMythicHeader','fluff','PG_BESTIARY','ABIL_ABVS','getData','_pGetRenamedMon','isSlotSpellcaster','_initSize','Import\x20Creatures','scale','img','_getActorSheetName','[name=\x22btn-reset\x22]','environment','_pImportEntry_pFillItems_pAction','isTemp','yearly','trait','pGetEntryDescription','spellAbility','Challenge\x20Rating','_getAbsorbListItemOpts','keys','{@spell\x20','SOURCE_TYP_CUSTOM','.</p>','_pImportEntry_fillData_Traits','_versionBase_isVersion','filter','SOURCE_TYP_OFFICIAL_SINGLE','substring','SRD','_plut_legActions','sourceLong','dexterityMax','string','tokenUrl','119934kZQkaQ','_CREATURE_TYPES','split','isAddActiveEffects','getVersions','_dataList','_pImportEntry_pFillItems_pSpellcasting_recharge','consumeAmount','speed','creatures','pGetSpellcastingImage','monks-little-details','_pImportEntry_pFillItems_pVariants','_pImportEntry_pFillItems_lairActions_getListItems','66964Ykjbgu','dragonCasterVariant','_initSpellcasterData','bardingType','ImportCustomizer','Unknown\x20CR','stringify','change','spellClass','last','unpackUid','$iptRename','isAddSoundEffect','setFromValues','name','_postLoadVetools','legendaryMeta','_tmpItemId','rendered','filterBox','\x0a\x09\x09</div>','getMetricNumberDistance','startsWith','_pImportEntry_pFillItems_getSubActions','getFolderPathMeta','getAbilityModNumber','618372rkYlNj','_getItemHashesFromAcItem','_list','PRIORITY_BONUS','pGetTraitReactionLegendaryImage','_PROPS_SUB','Upload\x20File','Failed\x20to\x20import\x20spell\x20with\x20hash\x20\x22','text-center','_$btnReset','sourceJsonToColor','truesight','isSecretWrapAttacks','ritual','source','isNonstandardSource','add','init','getRenderedAltArtEntry','_getActorFlags','weekly','[name=\x22sel-token\x22]','pGetCreateActorSpellPointsItem','page','_pImportEntry_pFillItems_lairActions_getLairActionEntry','item','currentTarget','ADD','[name=\x22sel-cr\x22]','shortName','$selVariant','swarmSize','Failed\x20to\x20find\x20parent\x20sheet\x20item\x20for\x20item\x20\x22','constructor','sourceJsonToAbv','DataSourceFile','<div>\x0a\x09\x09\x09<div>','the\x20','default','actor','getMetricUnitDistance','imagevideo','fnPreProcess','_PROPS','Breath\x20Weapons:\x20','details','defaultPermission','size','flags','4078310BHNxeR','_getFolderType','copy','isNamedCreature','sourceJsonToFull','asText','lairActions','_activateListeners_initRunButtonsAdditional','_activateListeners_initList','monster','_pImportEntry_pFillBase','button[name=\x22btn-token-custom\x22]','Magic\x20Weapons','sourceShort','_pImportEntry_pFillItems_pMythicHeader','Lair\x20Actions','effects','feat','tremorsense','reaction','isUseStaticAc','pGetChooseImporterUserDataForSources','exampleSpellsFtd','pGetAllCreatures','Legendary\x20Actions','length','\x22\x20had\x20no\x20entries!','ascSort','_pTypes','race','entries','click','select[name=\x22sel-token\x22]','following\x20breath\x20weapon','chargesItemsIxs','[name=\x22ipt-rename\x22]','_titleSearch','blindsight','darkvision','replace','attributes','_isActionEyeRay','_RE_SHORTNAME__THE','action','_pImportEntry_pFillItems_pAddTextOnlyItem','_pImportEntry_pFillItems_lairActions_addLairAction','VET_SIZE_TO_ABV','pImportEntry','If\x20the\x20','_pack','_pImportEntry_getAcMeta','/media/icon/mighty-force.svg','utils','_getFolderCr','error','resources.legres.value','custom','DataSourceSpecial','C_CREATURE_NAMETAGS_TYPE','pInit','_pImportEntry_pFillData_Details','_pGetSpellHashToItemPosMapAndFillSpells','findIndex','uppercaseFirst','monCrToFull','$selSummonSpellLevel','crToNumber','crToXpNumber','_getSavingThrowData','spellPointsModeNpc','_plut_cleanName','languageTags','_pImportEntry_fillConditionsDamage','_pImportEntry_pFillItems_pRegionalEffects','getExistingItemItemIndex','permission','_RE_SHORTNAME__IF_THE','[name=\x22sel-summon-spell-level\x22]','data/bestiary/','prop','type','sourceJsonToStylePart','PG_SPELLS','pGetWithDescriptionPlugins','_configGroup','_isActionBreathWeapon','_pGetBiographyValue','_content','regionalEffects','<section\x20class=\x22secret\x20py-1\x22>','[name=\x22btn-run\x22]','pGetActorSpellItemOpts','traits','all','max','test','alignmentListToFull','level','languages','importItem','CR_CUSTOM','isMonksLittleDetailsActive','Creatures','pGetCreatureSideData','C_CREATURE_NAMETAGS_CR','_pImportEntry_fillData_Skills','getShortName','DISPLAY_NAME_TYPE_PLURAL','_getDamageTuplesWithMod','spelldc','getWalker','browse','average','_getChargesSheetItem','daily','@ActorEmbeddedItem[','_getCasterClassFromEntry','spellcasting','_pImportEntry_fillData_Resources','toTitleCase','</section>\x0a\x09\x09<p>','$selCr','lair','document','_pImportEntry_fillData_Abilities','some','pGetParsedAction','pGetFluff','_pImportEntry_pFillItems_pAddItem','mythic','fnApplyVariant','assumedPb','_getSpellCount','$selToken','MAX_SAFE_INTEGER','Customize\x20and\x20Import...','.veapp__list-row','render','Dragons\x20as\x20Innate\x20Spellcasters\x20(MM)','feet','/template/ImportListCreatureCustomizer.hbs','displayAs','every','variant','legendary','_pImportEntry_fillData_Spells','charges','always','hidden','23681174pbDUcg','from','function','chargesItem','entry','_activateListeners_absorbListItems','Innate\x20Spellcasting','Miscellaneous','[name=\x22ipt-token-custom\x22]','_pGetSourcesHomebrew','alias','modules/','$selSummonClassLevel','data','147HzaDIO','isStreamerMode','formula','summonedBySpellLevel','number','(?<name>[a-z\x20]+)','foundryMonster','warn','special','variants','mergeObject','trim'];_0x39bc=function(){return _0x1beda5;};return _0x39bc();}class ImportListCreature extends ImportListActor{static ['ID']=_0x40b176(0x282);static [_0x40b176(0x33d)]='Creatures';static ['_']=this['registerImpl'](this);constructor(_0x126619,_0x228b1c,_0x461b37,_0x1b8906){const _0x31326d=_0x40b176;_0x126619=_0x126619||{},_0x228b1c=_0x228b1c||{},_0x461b37=_0x461b37||{},_0x1b8906=_0x1b8906||{},super({'title':_0x31326d(0x25c),..._0x228b1c},_0x126619,{'props':['monster'],'dirsHomebrew':['creature'],'propsBrewAdditionalData':[_0x31326d(0x18d)],'fnLoadSideData':Vetools[_0x31326d(0x339)],'titleSearch':_0x31326d(0x282),'sidebarTab':'actors','gameProp':_0x31326d(0x223),'defaultFolderPath':[_0x31326d(0x338)],'fnListSort':PageFilterBestiary['sortMonsters'],'pageFilter':new PageFilterBestiary(),'isActorRadio':!![],'page':UrlUtil[_0x31326d(0x256)],'isPreviewable':!![],'isDedupable':!![],'configGroup':'importCreature',..._0x461b37},{'actorType':_0x31326d(0x1cd),'DataConverter':DataConverterCreature,..._0x1b8906});}async[_0x40b176(0x30d)](){await super['pInit'](),await DataUtil['monster']['pPreloadMeta']();}async[_0x40b176(0x1d9)](){const _0xe38d72=_0x40b176,_0xa89153=await Vetools[_0xe38d72(0x237)]();return[new UtilDataSource[(_0xe38d72(0x30b))](Config['get']('ui',_0xe38d72(0x188))?_0xe38d72(0x273):'5etools',async()=>(await Vetools[_0xe38d72(0x2e9)]())['monster'],{'cacheKey':'5etools-creatures','filterTypes':[UtilDataSource[_0xe38d72(0x19c)]],'isDefault':!![]}),new UtilDataSource[(_0xe38d72(0x202))](_0xe38d72(0x1fc),'',{'filterTypes':[UtilDataSource[_0xe38d72(0x26c)]]}),new UtilDataSource[(_0xe38d72(0x2c4))](_0xe38d72(0x2a7),{'filterTypes':[UtilDataSource[_0xe38d72(0x26c)]]}),...Object[_0xe38d72(0x2f0)](_0xa89153)[_0xe38d72(0x251)](([_0x38ac27,_0xe330c9])=>new UtilDataSource['DataSourceUrl'](Parser[_0xe38d72(0x2d6)](_0x38ac27),Vetools['getCreatureUrl'](_0xe330c9),{'source':_0x38ac27,'pPostLoad':ImportListCreature[_0xe38d72(0x296)][_0xe38d72(0x209)](ImportListCreature,_0x38ac27),'filterTypes':SourceUtil[_0xe38d72(0x2b0)](_0x38ac27)?[UtilDataSource['SOURCE_TYP_ARCANA']]:[UtilDataSource[_0xe38d72(0x271)]]})),...await this[_0xe38d72(0x182)]()];}static[_0x40b176(0x296)](_0x52cb6c,_0x128de2){const _0x28f41b=_0x40b176;return _0x128de2[_0x28f41b(0x270)](_0x5573e2=>_0x5573e2[_0x28f41b(0x2af)]===_0x52cb6c);}async[_0x40b176(0x2e7)](_0x5e588d){const _0x4e85e2=_0x40b176;return{'isSingletonSource_officialAdventure':_0x5e588d[_0x4e85e2(0x2eb)]===0x1&&_0x5e588d[0x0][_0x4e85e2(0x2af)]&&Parser['SOURCES_ADVENTURES'][_0x4e85e2(0x1f2)](_0x5e588d[0x0]['source'])};}async[_0x40b176(0x221)](){const _0x872404=_0x40b176;if(!this[_0x872404(0x1ee)])return;const _0x5b66a6=this[_0x872404(0x1ee)][_0x872404(0x1ae)];this[_0x872404(0x1ee)]=null;if(!_0x5b66a6)return;const _0x3b773a=_0x872404(0x180),_0xa42337=this[_0x872404(0x240)][_0x872404(0x29a)][_0x872404(0x23a)]()[_0x3b773a];this['_pageFilter'][_0x872404(0x29a)][_0x872404(0x294)]({[_0x3b773a]:{...Object[_0x872404(0x2f0)](_0xa42337)['filter'](([_0x566902])=>!_0x566902[_0x872404(0x29d)]('_'))['mergeMap'](([_0x4f8ff6,_0x318306])=>({[_0x4f8ff6]:_0x318306})),'Adventure\x20NPC':0x0}});}['getData'](){const _0xb053c9=_0x40b176;return{...super[_0xb053c9(0x258)](),'buttonsAdditional':[{'name':'btn-run-mods','text':_0xb053c9(0x16b)}],'cols':[{'name':'Name','width':0x4,'field':_0xb053c9(0x295)},{'name':'Type','width':0x5,'field':_0xb053c9(0x322)},{'name':'CR','width':0x1,'field':'cr','rowClassName':_0xb053c9(0x2a9)},{'name':'Source','width':0x1,'field':_0xb053c9(0x2af),'titleProp':_0xb053c9(0x275),'displayProp':_0xb053c9(0x2df),'classNameProp':'sourceClassName','styleProp':_0xb053c9(0x22e),'rowClassName':_0xb053c9(0x2a9)}],'rows':this[_0xb053c9(0x329)][_0xb053c9(0x251)]((_0x1ee861,_0x5c080f)=>{const _0x2a7701=_0xb053c9;return this['_pageFilter'][_0x2a7701(0x2c2)]['mutateForFilters'](_0x1ee861),_0x1ee861['_vCr']=_0x1ee861['_pCr']||'—',{'name':_0x1ee861[_0x2a7701(0x295)],'type':_0x1ee861['_pTypes'][_0x2a7701(0x2d7)][_0x2a7701(0x311)](),'cr':_0x1ee861[_0x2a7701(0x224)],'source':_0x1ee861[_0x2a7701(0x2af)],'sourceShort':Parser['sourceJsonToAbv'](_0x1ee861[_0x2a7701(0x2af)]),'sourceLong':Parser[_0x2a7701(0x2d6)](_0x1ee861[_0x2a7701(0x2af)]),'sourceClassName':Parser[_0x2a7701(0x2ab)](_0x1ee861['source']),'sourceStyle':BrewUtil2[_0x2a7701(0x323)](_0x1ee861[_0x2a7701(0x2af)]),'isVersion':!!_0x1ee861[_0x2a7701(0x26f)],'ix':_0x5c080f};})};}[_0x40b176(0x269)](){const _0x27e7b0=_0x40b176;return{'fnGetName':_0xa5a663=>_0xa5a663[_0x27e7b0(0x295)],'fnGetValues':_0x26561d=>({'source':_0x26561d['source'],'type':_0x26561d[_0x27e7b0(0x2ee)][_0x27e7b0(0x2d7)],'cr':_0x26561d['_vCr'],'group':_0x26561d[_0x27e7b0(0x1c6)]||'','alias':(_0x26561d[_0x27e7b0(0x183)]||[])['map'](_0x12685a=>'\x22'+_0x12685a+'\x22')['join'](','),'hash':UrlUtil[_0x27e7b0(0x1dd)][this[_0x27e7b0(0x1a2)]](_0x26561d)}),'fnGetData':UtilList2[_0x27e7b0(0x232)],'fnBindListeners':_0xd41188=>this['_isRadio']?UtilList2[_0x27e7b0(0x1e1)](this['_list'],_0xd41188):UtilList2[_0x27e7b0(0x213)](this[_0x27e7b0(0x2a3)],_0xd41188)};}[_0x40b176(0x17e)](){const _0x547f52=_0x40b176;this['_list'][_0x547f52(0x1e4)](this['_content'],this[_0x547f52(0x269)]());}[_0x40b176(0x29f)](){const _0x7a8b0e=_0x40b176;return{...super[_0x7a8b0e(0x29f)](),'cr':{'label':_0x7a8b0e(0x268),'getter':_0x7ec473=>this[_0x7a8b0e(0x2c2)]['_getFolderCr'](_0x7ec473)},'type':{'label':'Type','getter':_0x3a8d14=>this[_0x7a8b0e(0x2c2)][_0x7a8b0e(0x2d3)](_0x3a8d14)},'typeTags':{'label':_0x7a8b0e(0x222),'getter':_0x39de9f=>this[_0x7a8b0e(0x2c2)][_0x7a8b0e(0x214)](_0x39de9f)}};}static[_0x40b176(0x307)](_0x222bd4){const _0x3f955d=_0x40b176;return _0x222bd4['cr']?_0x222bd4['cr']['cr']||_0x222bd4['cr']:_0x3f955d(0x28c);}static[_0x40b176(0x2d3)](_0x334d1e){const _0x418b6a=_0x40b176;return Parser[_0x418b6a(0x219)](_0x334d1e[_0x418b6a(0x322)])[_0x418b6a(0x322)][_0x418b6a(0x349)]();}static['_getFolderTypeWithTags'](_0x41ff8a){const _0x5fa22e=_0x40b176;return Parser[_0x5fa22e(0x219)](_0x41ff8a[_0x5fa22e(0x322)])[_0x5fa22e(0x2d7)][_0x5fa22e(0x311)]();}[_0x40b176(0x2d9)](){const _0x352cfa=_0x40b176;this[_0x352cfa(0x1c1)]();}[_0x40b176(0x234)](_0x2aad86,{isUseMods:isUseMods=![]}={}){if(!isUseMods)return _0x2aad86;return new Promise(_0x4a4419=>{const _0x3579b5=_0x574a,_0x39f999=new ImportListCreature[(_0x3579b5(0x28b))](_0x2aad86,_0x4a4419,{'titleSearch':this[_0x3579b5(0x2f6)]});_0x39f999['render'](!![]);});}async['_pImportEntry_pGetImportMetadata'](_0x22cb7e,_0x446a40,_0xf62a54){const _0x40d4c7=_0x40b176,_0x26ad5b={},_0x888f1f=await Renderer['utils'][_0x40d4c7(0x163)]({'entity':_0x446a40,'pFnPostProcess':Renderer['monster'][_0x40d4c7(0x1ed)]['bind'](null,_0x446a40),'fluffBaseUrl':_0x40d4c7(0x320),'fluffProp':'monsterFluff'}),_0x4600ec=new ImportListCreature['ImportEntryOpts']({'actor':_0x22cb7e,'mon':_0x446a40,'fluff':_0x888f1f});await this[_0x40d4c7(0x2dc)](_0x446a40,_0x26ad5b,_0x4600ec[_0x40d4c7(0x255)],{'isUseTokenImageAsPortrait':Config[_0x40d4c7(0x1c9)](this[_0x40d4c7(0x326)],_0x40d4c7(0x19b))}),_0x26ad5b['data']={},await this[_0x40d4c7(0x22c)](_0x446a40,_0x26ad5b,_0xf62a54);if(_0xf62a54[_0x40d4c7(0x2cf)]!=null)_0x26ad5b['permission']={'default':_0xf62a54[_0x40d4c7(0x2cf)]};else _0x26ad5b[_0x40d4c7(0x31d)]={'default':Config['get'](this[_0x40d4c7(0x326)],_0x40d4c7(0x1fa))};return this[_0x40d4c7(0x160)](_0x446a40,_0x26ad5b[_0x40d4c7(0x186)],_0x4600ec),await this['_pImportEntry_pFillData_Attributes'](_0x446a40,_0x26ad5b,_0x4600ec),await this[_0x40d4c7(0x30e)](_0x446a40,_0x26ad5b[_0x40d4c7(0x186)],_0x4600ec),this[_0x40d4c7(0x33b)](_0x446a40,_0x26ad5b[_0x40d4c7(0x186)],_0x4600ec),this[_0x40d4c7(0x26e)](_0x446a40,_0x26ad5b[_0x40d4c7(0x186)],_0x4600ec),this[_0x40d4c7(0x24f)](_0x446a40,_0x26ad5b[_0x40d4c7(0x186)],_0x4600ec),this[_0x40d4c7(0x175)](_0x446a40,_0x26ad5b[_0x40d4c7(0x186)],_0x4600ec),this[_0x40d4c7(0x348)](_0x446a40,_0x26ad5b[_0x40d4c7(0x186)],_0x4600ec),await this[_0x40d4c7(0x236)]({'importable':_0x446a40,'actor':_0x26ad5b}),{'dataBuilderOpts':_0x4600ec,'actorData':_0x26ad5b};}[_0x40b176(0x25f)](_0x286d3e){const _0x291ffc=_0x40b176,_0x3e0dc8=[UtilDataConverter[_0x291ffc(0x24c)](_0x286d3e)],_0x271744=Config['get'](this[_0x291ffc(0x326)],_0x291ffc(0x1cf));return Object[_0x291ffc(0x2f0)](_0x271744)[_0x291ffc(0x270)](([,_0x5d0e99])=>_0x5d0e99)[_0x291ffc(0x1e9)](([_0x338967])=>{const _0x13f70c=_0x291ffc;switch(Number(_0x338967)){case ConfigConsts[_0x13f70c(0x33a)]:_0x3e0dc8[_0x13f70c(0x19a)]('['+this[_0x13f70c(0x2c2)][_0x13f70c(0x307)](_0x286d3e)+']');break;case ConfigConsts[_0x13f70c(0x30c)]:_0x3e0dc8['push']('['+this[_0x13f70c(0x2c2)][_0x13f70c(0x2d3)](_0x286d3e)+']');break;case ConfigConsts[_0x13f70c(0x20a)]:_0x3e0dc8[_0x13f70c(0x19a)]('['+this['constructor']['_getFolderTypeWithTags'](_0x286d3e)+']');break;}}),_0x3e0dc8[_0x291ffc(0x1e8)]('\x20');}[_0x40b176(0x2b4)](_0x58ab85){const _0x119378=_0x40b176,_0x5ea173=super[_0x119378(0x2b4)](_0x58ab85);return UtilCompat[_0x119378(0x337)]()&&Config[_0x119378(0x1c9)](_0x119378(0x1f9),_0x119378(0x293))&&_0x58ab85['soundClip']&&(_0x5ea173[_0x119378(0x284)]={'sound-effect':Renderer['utils']['getMediaUrl'](_0x58ab85,'soundClip','audio')}),_0x5ea173;}async['_pImportEntry_pFillData_Attributes'](_0x43d8b3,_0x13e195,_0x3eda6d){const _0x488d1e=_0x40b176,_0x29ff8a=_0x13e195[_0x488d1e(0x186)],_0x49d92b={},_0x1b1e8f=_0x43d8b3['ac']&&_0x43d8b3['ac'][_0x488d1e(0x2eb)]?await this[_0x488d1e(0x304)](_0x43d8b3,_0x3eda6d):null;_0x49d92b['ac']={'flat':_0x1b1e8f?.[_0x488d1e(0x1e2)],'min':0x0,'calc':_0x1b1e8f?.['calc']||_0x488d1e(0x2c7),'formula':_0x1b1e8f?.[_0x488d1e(0x189)],'value':_0x1b1e8f?.[_0x488d1e(0x1f4)]};let _0x23f0f8=0x0,_0x2de376='';if(_0x43d8b3['hp']){_0x43d8b3['hp']['special']&&_0x43d8b3['hp'][_0x488d1e(0x18f)]['replace'](/^(?<hp>\d+)\s*(?:[-+]|$)/,(..._0x8c78db)=>{_0x23f0f8=Number(_0x8c78db['last']()['hp']);});if(_0x43d8b3['hp'][_0x488d1e(0x342)])_0x23f0f8=_0x43d8b3['hp'][_0x488d1e(0x342)];if(_0x43d8b3['hp']['formula'])_0x2de376=_0x43d8b3['hp'][_0x488d1e(0x189)];}_0x49d92b['hp']={'value':_0x23f0f8,'min':0x0,'max':_0x23f0f8,'temp':0x0,'tempmax':0x0,'formula':_0x2de376},_0x49d92b[_0x488d1e(0x2b2)]={'value':0x0,'mod':0x0,'bonus':0x0,'total':Parser[_0x488d1e(0x2a0)](_0x43d8b3['dex']),'prof':0x0},_0x49d92b['prof']=_0x3eda6d['pb'],_0x49d92b['movement']=DataConverter[_0x488d1e(0x23f)](_0x43d8b3[_0x488d1e(0x281)],{'configGroup':_0x488d1e(0x1f9)}),_0x49d92b['spellcasting']=_0x3eda6d[_0x488d1e(0x267)],_0x49d92b[_0x488d1e(0x33f)]=_0x3eda6d['spellDc'],_0x49d92b[_0x488d1e(0x1e5)]={'darkvision':0x0,'blindsight':0x0,'tremorsense':0x0,'truesight':0x0,'units':Config[_0x488d1e(0x2c9)]({'configGroup':_0x488d1e(0x1f9),'configKey':_0x488d1e(0x244),'originalUnit':'ft'}),'special':''},_0x49d92b[_0x488d1e(0x1e5)][_0x488d1e(0x18f)]=(_0x43d8b3['senses']||[])[_0x488d1e(0x270)](_0x45dd2d=>{const _0x20d8e6=_0x488d1e;_0x45dd2d=_0x45dd2d[_0x20d8e6(0x2f9)](Parser['_numberCleanRegexp'],'');const _0x44be3f=/(blindsight|darkvision|tremorsense|truesight)\s*(\d+)/i[_0x20d8e6(0x1e3)](_0x45dd2d);if(!_0x44be3f)return!![];const _0x3c19d4=Config[_0x20d8e6(0x29c)]({'configGroup':_0x20d8e6(0x1f9),'configKey':_0x20d8e6(0x244),'originalValue':Number(_0x44be3f[0x2]),'originalUnit':_0x20d8e6(0x16f)});switch(_0x44be3f[0x1]){case _0x20d8e6(0x2f8):_0x49d92b[_0x20d8e6(0x1e5)][_0x20d8e6(0x2f8)]=_0x3c19d4;break;case'blindsight':_0x49d92b[_0x20d8e6(0x1e5)][_0x20d8e6(0x2f7)]=_0x3c19d4;break;case'tremorsense':_0x49d92b[_0x20d8e6(0x1e5)][_0x20d8e6(0x2e4)]=_0x3c19d4;break;case _0x20d8e6(0x2ac):_0x49d92b[_0x20d8e6(0x1e5)][_0x20d8e6(0x2ac)]=_0x3c19d4;break;}return![];})[_0x488d1e(0x1e8)](',\x20'),_0x29ff8a[_0x488d1e(0x2fa)]=_0x49d92b;}async[_0x40b176(0x304)](_0x477ff0,_0xdd220f){const _0x2f4d43=_0x40b176,_0x4589ff=_0x477ff0['ac'][0x0],_0x145f7f=this['constructor'][_0x2f4d43(0x20e)]({'ac0':_0x4589ff});if(Config[_0x2f4d43(0x1c9)](_0x2f4d43(0x1f9),_0x2f4d43(0x2e6))){const _0xe4afd7=_0x145f7f==null?0xa:_0x145f7f;return{'calc':'custom','formula':''+_0xe4afd7,'value':_0xe4afd7};}const _0x43a5bf=this[_0x2f4d43(0x2c2)][_0x2f4d43(0x2a2)](_0x4589ff);if(!_0x43a5bf[_0x2f4d43(0x2eb)]){if(_0x145f7f==null||0xa+Parser[_0x2f4d43(0x2a0)](_0x477ff0[_0x2f4d43(0x1b4)])===_0x145f7f)return{'calc':_0x2f4d43(0x2c7),'formula':null,'value':null};}const {ac:_0x37b13b,isDexIncluded:_0x4877f4,isAnyItemIncluded:_0x30c08e}=await this[_0x2f4d43(0x1a3)](_0x477ff0,_0x43a5bf);if(_0x145f7f==null)return{'calc':_0x2f4d43(0x2c7),'formula':null,'value':null};const _0x37484a=_0x145f7f-(_0x37b13b+(_0x4877f4?0x0:Parser[_0x2f4d43(0x2a0)](_0x477ff0[_0x2f4d43(0x1b4)])));if(!_0x37484a)return{'calc':_0x2f4d43(0x2c7),'formula':null,'value':null};if(!_0x30c08e){if(!Config[_0x2f4d43(0x1c9)](_0x2f4d43(0x1f9),'isUseCustomNaturalAc')&&(_0x4589ff['from']||[])['some'](_0x21c745=>/^natural armor$/i['test']((''+_0x21c745)[_0x2f4d43(0x192)]())))return{'calc':_0x2f4d43(0x1ce),'formula':null,'value':null,'flat':_0x145f7f};return{'calc':_0x2f4d43(0x30a),'formula':_0x2f4d43(0x1de)+UiUtil[_0x2f4d43(0x1d8)](_0x37484a),'value':null};}if(!Config['get']('importItem',_0x2f4d43(0x27c)))return{'calc':'custom','formula':null,'value':_0x145f7f};return _0xdd220f[_0x2f4d43(0x2e2)][_0x2f4d43(0x19a)]({'label':_0x2f4d43(0x252),'icon':_0x2f4d43(0x184)+SharedConsts['MODULE_NAME']+_0x2f4d43(0x305),'changes':[{'key':'data.attributes.ac.bonus','value':_0x37484a,'mode':CONST[_0x2f4d43(0x1d7)][_0x2f4d43(0x2bc)],'priority':UtilActiveEffects[_0x2f4d43(0x2a4)]}],'disabled':![],'duration':{'startTime':null,'seconds':null,'rounds':null,'turns':null,'startRound':null,'startTurn':null},'origin':null,'tint':'','transfer':![],'flags':{}}),{'calc':'default','formula':null,'value':null};}static[_0x40b176(0x20e)]({ac0:_0x5ecb42}){const _0x5958b8=_0x40b176;if(_0x5ecb42['ac']!=null)return _0x5ecb42['ac'];if(_0x5ecb42[_0x5958b8(0x18f)]==null)return typeof _0x5ecb42==='number'?_0x5ecb42:null;const _0x2b61d7=/^(?<number>\d+)\s*([-+]|plus|minus)/gi[_0x5958b8(0x1e3)](_0x5ecb42[_0x5958b8(0x18f)]);if(!_0x2b61d7)return null;return Number(_0x2b61d7['groups'][_0x5958b8(0x18b)]);}async[_0x40b176(0x1a3)](_0x41c8e9,_0x1e0207){const _0x8ae162=_0x40b176;let _0x3d5ea3=![],_0x1bf2bf=0xa,_0x56a19c=0x0,_0x56a9af=0x0,_0x57d2c8=![];for(const _0x9d0f2a of _0x1e0207){const _0x40a38f=await Renderer[_0x8ae162(0x1db)][_0x8ae162(0x1cb)](UrlUtil['PG_ITEMS'],_0x9d0f2a);if(!_0x40a38f)continue;let _0x391355=Number(_0x40a38f['bonusAc']||0x0);if(isNaN(_0x391355))_0x391355=0x0;switch(_0x40a38f[_0x8ae162(0x28a)]||_0x40a38f['type']){case'HA':{_0x3d5ea3=!![],_0x1bf2bf=Math['max'](_0x1bf2bf,(_0x40a38f['ac']||0xa)+_0x391355),_0x57d2c8=!![];break;}case'MA':{_0x3d5ea3=!![];const _0x276aed=_0x40a38f[_0x8ae162(0x276)]===null?Number[_0x8ae162(0x16a)]:_0x40a38f[_0x8ae162(0x276)]!=null?_0x40a38f['dexterityMax']:0x2;_0x1bf2bf=Math[_0x8ae162(0x330)](_0x1bf2bf,(_0x40a38f['ac']||0xa)+Math[_0x8ae162(0x23b)](_0x276aed,Parser[_0x8ae162(0x2a0)](_0x41c8e9[_0x8ae162(0x1b4)]||0xa))+_0x391355),_0x57d2c8=!![];break;}case'LA':{_0x3d5ea3=!![],_0x1bf2bf=Math[_0x8ae162(0x330)](_0x1bf2bf,(_0x40a38f['ac']||0xa)+Parser[_0x8ae162(0x2a0)](_0x41c8e9['dex']||0xa)+_0x391355),_0x57d2c8=!![];break;}case'S':{_0x3d5ea3=!![],_0x56a19c=Math[_0x8ae162(0x330)](_0x56a19c,0x2+_0x391355);break;}default:{Config[_0x8ae162(0x1c9)](_0x8ae162(0x335),'isAddActiveEffects')&&(_0x3d5ea3=!![],_0x56a9af+=_0x391355);}}}return{'ac':_0x1bf2bf+_0x56a19c+_0x56a9af,'isDexIncluded':_0x57d2c8,'isAnyItemIncluded':_0x3d5ea3};}async['_pImportEntry_pFillData_Details'](_0x3343c5,_0x5ca4af,_0xc408e1){const _0x43a150=_0x40b176,_0xb22502={};_0xb22502['alignment']=_0x3343c5[_0x43a150(0x1ef)]?Parser[_0x43a150(0x332)](_0x3343c5['alignment'])['toLowerCase']():'',_0xb22502[_0x43a150(0x194)]={'value':await this[_0x43a150(0x328)](_0x3343c5,_0xc408e1[_0x43a150(0x255)],{'isImportText':Config[_0x43a150(0x1c9)](this[_0x43a150(0x326)],'isImportBio'),'isImportImages':Config[_0x43a150(0x1c9)](this['_configGroup'],_0x43a150(0x22d)),'additionalHtml':Config[_0x43a150(0x1c9)](this[_0x43a150(0x326)],'isImportBioVariants')?Renderer[_0x43a150(0x2db)][_0x43a150(0x1d4)](_0x3343c5):null})};_0xc408e1['spellLevel']||_0xc408e1['spellClass']?_0xb22502[_0x43a150(0x1d5)]={'level':_0xc408e1[_0x43a150(0x1b1)],'name':_0xc408e1['spellClass']}:_0xb22502[_0x43a150(0x1d5)]={};_0xb22502[_0x43a150(0x1b1)]=_0xc408e1[_0x43a150(0x1b1)],_0xb22502[_0x43a150(0x2ef)]='',ImportListCreature[_0x43a150(0x27a)]=ImportListCreature[_0x43a150(0x27a)]||new Set(Object[_0x43a150(0x26a)](CONFIG['DND5E'][_0x43a150(0x1f8)]));const _0x59980c=Parser[_0x43a150(0x219)](_0x3343c5['type']);ImportListCreature['_CREATURE_TYPES']['has'](_0x59980c[_0x43a150(0x322)])?_0xb22502[_0x43a150(0x322)]={'value':_0x59980c['type'],'subtype':_0x59980c[_0x43a150(0x20d)][_0x43a150(0x1e8)](',\x20'),'swarm':_0x59980c[_0x43a150(0x2c0)]?UtilActors[_0x43a150(0x300)][_0x59980c[_0x43a150(0x2c0)]]:null}:_0xb22502[_0x43a150(0x322)]={'custom':Parser[_0x43a150(0x219)](_0x3343c5['type'])[_0x43a150(0x2d7)]};_0xb22502['environment']=_0x3343c5[_0x43a150(0x261)]?_0x3343c5['environment']['sort'](SortUtil[_0x43a150(0x1fd)])[_0x43a150(0x251)](_0x3322b3=>_0x3322b3[_0x43a150(0x349)]())[_0x43a150(0x1e8)](',\x20'):'';const _0x3d931a=Parser[_0x43a150(0x314)](_0x3343c5['cr']);_0xb22502['cr']=_0x3d931a>=VeCt[_0x43a150(0x336)]?0x0:_0x3d931a,_0xb22502['xp']={'value':_0x3343c5['cr']?Parser[_0x43a150(0x315)](_0x3343c5['cr'])||0x0:0x0},_0xb22502[_0x43a150(0x2af)]=UtilDataConverter[_0x43a150(0x20b)](_0x3343c5),_0x5ca4af[_0x43a150(0x2ce)]=_0xb22502;}[_0x40b176(0x33b)](_0x23756e,_0x3df0ec,_0x2ccb64){_0x3df0ec['skills']=DataConverterCreature['getDataSkills'](_0x23756e,_0x3df0ec,_0x2ccb64);}[_0x40b176(0x26e)](_0x13cfa5,_0x1bcfa1,_0x4b39d3){const _0x499355=_0x40b176,_0x165472={};_0x165472[_0x499355(0x2d0)]=UtilActors[_0x499355(0x300)][_0x4b39d3[_0x499355(0x2d0)]]||_0x499355(0x212);const _0x245119=new Set();let _0x562166=[];_0x13cfa5[_0x499355(0x334)]&&_0x13cfa5[_0x499355(0x334)][_0x499355(0x1e9)](_0x3cb5e1=>{const _0x38edd4=_0x499355,_0x5590de=_0x3cb5e1[_0x38edd4(0x245)]()[_0x38edd4(0x192)](),_0x2a0008=UtilActors[_0x38edd4(0x218)][_0x5590de];if(_0x2a0008)_0x245119['add'](_0x2a0008);else _0x5590de===_0x38edd4(0x32f)?Object[_0x38edd4(0x1ff)](UtilActors[_0x38edd4(0x218)])[_0x38edd4(0x1e9)](_0x3ab788=>_0x245119['add'](_0x3ab788)):_0x562166[_0x38edd4(0x19a)](_0x3cb5e1);}),_0x13cfa5[_0x499355(0x319)]&&_0x13cfa5[_0x499355(0x319)][_0x499355(0x251)](_0x4b235c=>Parser['monLanguageTagToFull'](_0x4b235c))[_0x499355(0x251)](_0x131d7b=>UtilActors[_0x499355(0x218)][_0x131d7b['toLowerCase']()])[_0x499355(0x270)](Boolean)[_0x499355(0x1e9)](_0x2ebd3d=>_0x245119[_0x499355(0x2b1)](_0x2ebd3d)),_0x165472[_0x499355(0x334)]={'value':[..._0x245119],'custom':_0x562166[_0x499355(0x270)](Boolean)[_0x499355(0x1e8)](';\x20')},this[_0x499355(0x31a)](_0x13cfa5,_0x165472),_0x1bcfa1[_0x499355(0x32e)]=_0x165472;}[_0x40b176(0x24f)](_0x1db5a0,_0xef2f0a,_0x21e7df){const _0x118614=_0x40b176;_0xef2f0a[_0x118614(0x243)]={'pp':0x0,'gp':0x0,'ep':0x0,'sp':0x0,'cp':0x0};}[_0x40b176(0x175)](_0x3a0f35,_0x63297d,_0x51a6af){const _0x23a35c=_0x40b176;_0x63297d[_0x23a35c(0x201)]=DataConverterCreature[_0x23a35c(0x1dc)](_0x3a0f35,_0x63297d,_0x51a6af);if(!DataConverterCreature[_0x23a35c(0x25a)](_0x3a0f35)||Config[_0x23a35c(0x1c9)]('importSpell',_0x23a35c(0x317))!==ConfigConsts['C_SPELL_POINTS_MODE__ENABLED_AND_UNLIMITED_SLOTS'])return;const {data:_0xf471a4}=UtilActors['getActorSpellPointsSlotsUpdateData']();foundry[_0x23a35c(0x306)][_0x23a35c(0x191)](_0x63297d,_0xf471a4);if(!_0x51a6af[_0x23a35c(0x1b1)])return;_0x51a6af[_0x23a35c(0x1bd)][_0x23a35c(0x19a)](async({actor:_0x553a97})=>{const _0xfee5ed=_0x23a35c;await UtilActors[_0xfee5ed(0x2b7)]({'actor':_0x553a97,'totalSpellcastingLevels':_0x51a6af['spellLevel']});});}['_pImportEntry_fillData_Resources'](_0x1471e1,_0x561c07,_0x1e69a7){const _0x980dc0=_0x40b176,_0x26fef5={};let _0x280f19=0x0;if(_0x1471e1[_0x980dc0(0x174)]||_0x1471e1['mythic'])_0x280f19=_0x1471e1['legendaryActions']||0x3;_0x26fef5[_0x980dc0(0x1b0)]={'value':_0x280f19,'max':_0x280f19};let _0x46505d=0x0;if(_0x1471e1[_0x980dc0(0x265)]){const _0x17c3a9=_0x1471e1['trait'][_0x980dc0(0x211)](_0x44f2c0=>/legendary resistance/gi[_0x980dc0(0x331)](_0x44f2c0[_0x980dc0(0x295)]||''));if(_0x17c3a9){const _0x182094=/\((\d+)\/Day\)/i[_0x980dc0(0x1e3)](_0x17c3a9[_0x980dc0(0x295)]);if(_0x182094)_0x46505d=Number(_0x182094[0x1]);}}_0x26fef5['legres']={'value':_0x46505d,'max':_0x46505d},_0x26fef5[_0x980dc0(0x15e)]={'value':!!(_0x1e69a7[_0x980dc0(0x297)]&&_0x1e69a7[_0x980dc0(0x297)][_0x980dc0(0x2d8)]),'initiative':0x14},_0x561c07['resources']=_0x26fef5;}async['_pImportEntry_pFillItems'](_0x3c97f3,_0x13acdf,_0x101a15,_0x523f89){const _0x48427a=_0x40b176;await this[_0x48427a(0x1f3)](_0x3c97f3,_0x13acdf,_0x101a15),await this['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x3c97f3,_0x13acdf,_0x101a15,{'prop':'trait','fnPreProcess':_0x427073=>{const _0x69510=_0x48427a;if(!/legendary resistance/gi['test'](_0x427073[_0x69510(0x295)]||''))return;_0x427073[_0x69510(0x241)]=!![];}},{'consumeType':_0x15108c=>_0x15108c['_plut_isLegendaryResistance']?_0x48427a(0x1b8):null,'consumeTarget':_0x4302bb=>_0x4302bb[_0x48427a(0x241)]?_0x48427a(0x309):null,'consumeAmount':_0x25ef9b=>_0x25ef9b[_0x48427a(0x241)]?0x1:null}),await this[_0x48427a(0x1ac)](_0x3c97f3,_0x13acdf,_0x101a15,{'prop':_0x48427a(0x1da)},{'activationType':_0x48427a(0x1da),'activationCost':0x1}),await this['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x3c97f3,_0x13acdf,_0x101a15,{'prop':_0x48427a(0x2e5)},{'activationType':_0x48427a(0x2e5),'activationCost':0x1});const _0xbf1e32=await this[_0x48427a(0x1ac)](_0x3c97f3,_0x13acdf,_0x101a15,{'prop':_0x48427a(0x174),'fnPreProcess':_0x36e738=>{const _0x37a120=_0x48427a;this[_0x37a120(0x2c2)][_0x37a120(0x1a7)](_0x36e738);}},{'activationType':'legendary','activationCost':_0x4bf4bc=>_0x4bf4bc[_0x48427a(0x274)],'consumeType':'attribute','consumeTarget':_0x48427a(0x1eb),'consumeAmount':_0x138ca7=>_0x138ca7[_0x48427a(0x274)]});await this['_pImportEntry_pFillItems_pLegendaryHeader'](_0x3c97f3,_0x13acdf,_0x101a15,_0xbf1e32);const _0x4e7163=await this['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x3c97f3,_0x13acdf,_0x101a15,{'prop':_0x48427a(0x165),'fnPreProcess':_0x28f3ac=>{const _0x4806b6=_0x48427a;this['constructor'][_0x4806b6(0x1a7)](_0x28f3ac);}},{'activationType':_0x48427a(0x174),'activationCost':_0xd12636=>_0xd12636[_0x48427a(0x274)],'consumeType':_0x48427a(0x1b8),'consumeTarget':_0x48427a(0x1eb),'consumeAmount':_0x3269a5=>_0x3269a5['_plut_legActions']});await this[_0x48427a(0x2e0)](_0x3c97f3,_0x13acdf,_0x101a15,_0x4e7163),await this[_0x48427a(0x239)](_0x3c97f3,_0x13acdf,_0x101a15),await this[_0x48427a(0x31b)](_0x3c97f3,_0x13acdf,_0x101a15),await this[_0x48427a(0x285)](_0x3c97f3,_0x13acdf,_0x101a15),await this[_0x48427a(0x1cc)](_0x3c97f3,_0x13acdf,_0x101a15);const _0xcadd7f=_0x523f89[_0x48427a(0x263)]||this[_0x48427a(0x303)]!=null;_0x101a15['importedSheetItems']=await UtilActors[_0x48427a(0x231)](_0x101a15['actor'],_0x101a15[_0x48427a(0x249)],{'isTemporary':_0xcadd7f});const _0x214a25=_0x101a15[_0x48427a(0x249)];_0x101a15['items']=[],await this[_0x48427a(0x228)](_0x3c97f3,_0x13acdf,_0xcadd7f,_0x101a15);const _0x2acdab=await UtilActors[_0x48427a(0x231)](_0x101a15[_0x48427a(0x2c8)],_0x101a15[_0x48427a(0x249)],{'isTemporary':_0xcadd7f});_0x101a15[_0x48427a(0x203)]=[..._0x101a15['importedSheetItems'],..._0x2acdab],_0x101a15[_0x48427a(0x249)]=[..._0x214a25,..._0x101a15[_0x48427a(0x249)]];}static[_0x40b176(0x1a7)](_0x49ea6a){const _0x579a42=_0x40b176;if(!_0x49ea6a)return;_0x49ea6a['_plut_legActions']=_0x49ea6a[_0x579a42(0x274)]||0x1;if(!_0x49ea6a[_0x579a42(0x295)])return;_0x49ea6a[_0x579a42(0x295)]=_0x49ea6a[_0x579a42(0x295)][_0x579a42(0x2f9)](/\(costs (\d+) actions?\)/i,(..._0x3c9587)=>{return _0x49ea6a['_plut_legActions']=Number(_0x3c9587[0x1]),'';})['trim']();}async[_0x40b176(0x2fe)](_0xcb67e8,_0x5737af,_0x5bbec5,_0x26b63b,_0x48e209){const _0x1eec77=_0x40b176,_0x37f6f2=await DataConverter[_0x1eec77(0x19d)](_0x26b63b,{..._0x48e209,'mode':_0x1eec77(0x23d),'pb':_0x5737af[_0x1eec77(0x167)],'entity':_0xcb67e8,'source':_0xcb67e8[_0x1eec77(0x2af)],'summonSpellLevel':_0xcb67e8['_summonedBySpell_level']??_0xcb67e8[_0x1eec77(0x18a)],'actor':{'data':_0x5bbec5}});return _0x5737af[_0x1eec77(0x249)][_0x1eec77(0x19a)](_0x37f6f2),_0x37f6f2;}async[_0x40b176(0x21a)](_0x31f328,_0x1718a8,_0x446f4a,_0x5cb596){const _0x2b6893=_0x40b176;return this[_0x2b6893(0x254)]({'mon':_0x31f328,'act':_0x1718a8,'monOpts':_0x446f4a,'addedItems':_0x5cb596,'prop':_0x2b6893(0x174),'itemName':_0x2b6893(0x2ea),'renderedEntries':await UtilDataConverter[_0x2b6893(0x325)](()=>Renderer[_0x2b6893(0x2db)]['getLegendaryActionIntro'](_0x31f328))});}async[_0x40b176(0x2e0)](_0x331faa,_0x13f8af,_0x3f13a6,_0x3f61ef){const _0x2b6b8c=_0x40b176;return this[_0x2b6b8c(0x254)]({'mon':_0x331faa,'act':_0x13f8af,'monOpts':_0x3f13a6,'addedItems':_0x3f61ef,'prop':_0x2b6b8c(0x165),'itemName':'Mythic\x20Actions','renderedEntries':await UtilDataConverter[_0x2b6b8c(0x325)](()=>Renderer[_0x2b6b8c(0x2db)][_0x2b6b8c(0x1f5)](_0x331faa))});}async['_pImportEntry_pFillItems_pLegendaryMythicHeader']({mon:_0x50a91d,act:_0xbd1d53,monOpts:_0x342c9e,addedItems:_0x5ae195,prop:_0x5e843d,itemName:_0x5ae449,renderedEntries:_0x57dd12}){const _0x2ee963=_0x40b176;if(!_0x50a91d[_0x5e843d])return;const _0x5e1208=_0x5ae195[_0x2ee963(0x251)](_0x2f46b6=>_0x2ee963(0x345)+_0x342c9e[_0x2ee963(0x2c8)]['id']+']['+_0x2f46b6[_0x2ee963(0x295)]+']'),_0x1cd311=_0x2ee963(0x2c5)+_0x57dd12+_0x2ee963(0x206)+(_0x5e1208[_0x2ee963(0x2eb)]?_0x2ee963(0x208)+Renderer[_0x2ee963(0x1c9)]()[_0x2ee963(0x16d)]({'type':_0x2ee963(0x207),'items':_0x5e1208})+'</div>':'')+_0x2ee963(0x29b),_0x246b69=await DataConverterCreature[_0x2ee963(0x2a5)](_0x50a91d,{'name':_0x5ae449},_0x342c9e);_0x342c9e[_0x2ee963(0x249)][_0x2ee963(0x19a)](await DataConverter['pGetItemActorPassive']({'name':_0x5ae449},{'fvttType':_0x2ee963(0x2e3),'description':_0x1cd311,'mode':_0x2ee963(0x23d),'pb':_0x342c9e['assumedPb'],'entity':_0x50a91d,'source':_0x50a91d[_0x2ee963(0x2af)],'summonSpellLevel':_0x50a91d[_0x2ee963(0x1bb)]??_0x50a91d[_0x2ee963(0x18a)],'actor':{'data':_0xbd1d53},'img':_0x246b69}));}async[_0x40b176(0x1ac)](_0x1bc6d5,_0x16d016,_0xd94d53,_0x2d7835,_0x35f7bd){const _0x1d1de2=_0x40b176;_0x35f7bd=_0x35f7bd||{};if(!_0x1bc6d5[_0x2d7835[_0x1d1de2(0x321)]])return;const _0x4f30dd=[];for(let _0x54545c of _0x1bc6d5[_0x2d7835[_0x1d1de2(0x321)]]){_0x2d7835[_0x1d1de2(0x2cb)]&&(_0x54545c=MiscUtil['copy'](_0x54545c),_0x2d7835['fnPreProcess'](_0x54545c));const _0x3ac76f={};Object[_0x1d1de2(0x2f0)](_0x35f7bd)[_0x1d1de2(0x1e9)](([_0x1970ba,_0x1fcbb9])=>{const _0x2df7d9=_0x1d1de2;if(typeof _0x1fcbb9===_0x2df7d9(0x17b))_0x3ac76f[_0x1970ba]=_0x1fcbb9(_0x54545c);else _0x3ac76f[_0x1970ba]=MiscUtil['copy'](_0x1fcbb9);});const _0x8799e6=await DataConverterCreature['pGetTraitReactionLegendaryImage'](_0x1bc6d5,_0x54545c,_0xd94d53,{'isLegendary':_0x2d7835[_0x1d1de2(0x321)]==='legendary'||_0x2d7835[_0x1d1de2(0x321)]===_0x1d1de2(0x165)}),_0x159c9f=await this[_0x1d1de2(0x2fe)](_0x1bc6d5,_0xd94d53,_0x16d016,_0x54545c,{..._0x3ac76f,'fvttType':_0x1d1de2(0x2e3),'img':_0x8799e6});_0x4f30dd['push'](_0x159c9f);}return _0x4f30dd;}static[_0x40b176(0x1d6)](_0x1dd27a){const _0x61259b=_0x40b176,_0x5e4ead=Renderer[_0x61259b(0x230)](_0x1dd27a);let _0x4306bc=_0x61259b(0x20c);const _0x4a1871=_0x5e4ead[_0x61259b(0x27b)]('\x20');for(const _0x570a79 of _0x4a1871){if(_0x4306bc[_0x61259b(0x2eb)]+_0x570a79['length']<0x32)_0x4306bc+=_0x570a79+'\x20';else break;}if(_0x5e4ead[_0x61259b(0x2eb)]>_0x4306bc[_0x61259b(0x192)]()[_0x61259b(0x2eb)])_0x4306bc+=_0x61259b(0x1f1);else _0x4306bc=_0x4306bc[_0x61259b(0x192)]();return _0x4306bc;}async[_0x40b176(0x239)](_0x9eb1fb,_0x5991d0,_0x1c8e9b){const _0x134845=_0x40b176;if(!_0x1c8e9b[_0x134845(0x297)]?.['lairActions'])return;const _0x258642=_0x1c8e9b[_0x134845(0x297)]['lairActions'],_0x499960=this[_0x134845(0x286)](_0x258642);if(_0x499960[_0x134845(0x2eb)]){for(const _0x1ebe16 of _0x499960){const _0x35e4aa=this[_0x134845(0x1c0)](_0x1ebe16);await this[_0x134845(0x2ff)](_0x9eb1fb,_0x5991d0,_0x1c8e9b,_0x35e4aa);}return;}const _0x2f70e4=this[_0x134845(0x2b9)](_0x258642);await this[_0x134845(0x2ff)](_0x9eb1fb,_0x5991d0,_0x1c8e9b,_0x2f70e4);}['_pImportEntry_pFillItems_lairActions_getListItems'](_0x56a0c6){const _0x1c500b=_0x40b176,_0x14d7dc=[];return MiscUtil[_0x1c500b(0x340)]({'isNoModification':!![]})[_0x1c500b(0x200)](_0x56a0c6,{'object':_0xc87a91=>{const _0x4f19a7=_0x1c500b;if(_0xc87a91['type']!==_0x4f19a7(0x207))return;_0x14d7dc[_0x4f19a7(0x19a)](..._0xc87a91['items']||[]);}}),_0x14d7dc;}[_0x40b176(0x1c0)](_0xa194f4){const _0x10d4b0=_0x40b176;if(typeof _0xa194f4===_0x10d4b0(0x277))return{'type':_0x10d4b0(0x2f0),'name':this[_0x10d4b0(0x2c2)][_0x10d4b0(0x1d6)](_0xa194f4),'entries':[_0xa194f4]};if(_0xa194f4[_0x10d4b0(0x295)]&&(_0xa194f4['entry']||_0xa194f4[_0x10d4b0(0x2f0)])){const _0x530aa0=_0xa194f4[_0x10d4b0(0x2f0)]||[_0xa194f4[_0x10d4b0(0x17d)]];return{'type':'entries','name':this['constructor'][_0x10d4b0(0x1d6)](_0xa194f4[_0x10d4b0(0x295)][_0x10d4b0(0x2f9)](/\s*[.?!]$/,'')),'entries':_0x530aa0};}throw new Error(_0x10d4b0(0x1aa));}['_pImportEntry_pFillItems_lairActions_getLairActionEntry'](_0x176b40){const _0x2df4b0=_0x40b176;if(typeof _0x176b40[0x0]===_0x2df4b0(0x277))return{'type':_0x2df4b0(0x2f0),'name':this[_0x2df4b0(0x2c2)]['_getLairActionName'](_0x176b40[0x0]),'entries':_0x176b40};return{'type':'entries','name':'Lair\x20Actions','entries':_0x176b40};}async['_pImportEntry_pFillItems_lairActions_addLairAction'](_0x39583c,_0x56cd43,_0x504524,_0x1d2149){const _0x5da475=_0x40b176,_0x4d99fb=JSON[_0x5da475(0x28d)](_0x1d2149),{saveAbility:_0x16d2c4,saveScaling:_0x4f9943,saveDc:_0x54481f}=this['_getSavingThrowData'](_0x39583c,_0x504524[_0x5da475(0x167)],_0x4d99fb),_0x12bdb0=[];let _0x3f5ec5='';if(typeof _0x1d2149['entries'][0x0]===_0x5da475(0x277)){const {damageTupleMetas:_0x3fbf08}=DataConverter['getDamageTupleMetas'](_0x1d2149[_0x5da475(0x2f0)][0x0],{'summonSpellLevel':_0x39583c['_summonedBySpell_level']??_0x39583c[_0x5da475(0x18a)]}),{damageParts:_0x2c205e,formula:_0x49891d}=DataConverter[_0x5da475(0x1d3)](_0x3fbf08);_0x12bdb0[_0x5da475(0x19a)](..._0x2c205e),_0x3f5ec5=_0x49891d;}const _0x2ca13d=this[_0x5da475(0x33e)](_0x12bdb0),_0x392dcd=await DataConverterCreature['pGetLairActionImage'](_0x39583c,{'name':_0x5da475(0x2e1)},_0x504524);await this[_0x5da475(0x2fe)](_0x39583c,_0x504524,_0x56cd43,_0x1d2149,{'fvttType':_0x5da475(0x2e3),'activationType':_0x5da475(0x15e),'activationCost':0x1,'img':_0x392dcd,'saveAbility':_0x16d2c4,'saveDc':_0x54481f,'saveScaling':_0x4f9943,'damageParts':_0x2ca13d,'formula':_0x3f5ec5});}async[_0x40b176(0x31b)](_0x3159e2,_0x1e78e6,_0x472ea8){const _0x31d5fd=_0x40b176;if(!_0x472ea8[_0x31d5fd(0x297)]?.[_0x31d5fd(0x32a)])return;const _0x1aee11={'type':'entries','name':_0x31d5fd(0x22f),'entries':MiscUtil[_0x31d5fd(0x2d4)](_0x472ea8[_0x31d5fd(0x297)][_0x31d5fd(0x32a)])},_0x58299f=await DataConverterCreature[_0x31d5fd(0x1c8)](_0x3159e2,_0x1aee11,_0x472ea8);await this[_0x31d5fd(0x2fe)](_0x3159e2,_0x472ea8,_0x1e78e6,_0x1aee11,{'fvttType':_0x31d5fd(0x2e3),'img':_0x58299f});}async['_pImportEntry_pFillItems_pVariants'](_0x9ed85c,_0x1d6249,_0x54bc64){const _0x21109=_0x40b176;if(!Config[_0x21109(0x1c9)](_0x21109(0x1f9),'isImportVariantsAsFeatures'))return;const _0x185451=Renderer[_0x21109(0x2db)][_0x21109(0x288)][_0x21109(0x1b6)](_0x9ed85c),_0x31d675=[..._0x185451||[],..._0x9ed85c[_0x21109(0x173)]||[]];if(!_0x31d675[_0x21109(0x2eb)])return;for(const _0x27eb71 of _0x31d675){const _0x891a4a=await DataConverterCreature['pGetVariantImage'](_0x9ed85c,_0x27eb71,_0x54bc64);await this[_0x21109(0x2fe)](_0x9ed85c,_0x54bc64,_0x1d6249,_0x27eb71,{'fvttType':'feat','img':_0x891a4a});}}async[_0x40b176(0x1f3)](_0x1dd51c,_0x2850d6,_0x3a6a63){const _0x42b436=_0x40b176;if(!_0x1dd51c[_0x42b436(0x2fd)])return;for(const _0xe2f966 of _0x1dd51c[_0x42b436(0x2fd)]){const _0x58929e=this[_0x42b436(0x29e)](_0xe2f966,_0x3a6a63);let _0x4a9fc7=null;for(let _0x3569f8=0x0;_0x3569f8<_0x58929e[_0x42b436(0x2eb)];++_0x3569f8){const _0x4b39d6=_0x58929e[_0x3569f8],_0x1187a8=await this[_0x42b436(0x262)](_0x1dd51c,_0x2850d6,_0x4b39d6,_0x3a6a63,{'img':_0x4a9fc7});if(_0x3569f8===0x0)_0x4a9fc7=_0x1187a8?.[_0x42b436(0x25e)];}}}[_0x40b176(0x29e)](_0x294d07,_0x5624d9){const _0xace643=_0x40b176;if(!_0x294d07[_0xace643(0x295)]||!_0x294d07[_0xace643(0x2f0)])return[_0x294d07];const _0x39f469=_0x5624d9?.[_0xace643(0x2c8)]?.['id']??_0x5624d9?.[_0xace643(0x2c8)]?.['_id'];if(this['constructor'][_0xace643(0x327)](_0x294d07)){const _0x547804=[],_0x58a945=CryptUtil[_0xace643(0x1ea)](),_0x491173=_0x294d07[_0xace643(0x2f0)][0x1]['items']['map'](_0x19cab8=>{const _0x3c8ad9=_0xace643,_0x411f07=_0x19cab8[_0x3c8ad9(0x295)][_0x3c8ad9(0x2f9)](/\.\s*$/,''),_0x2e0e50=_0x3c8ad9(0x2cd)+_0x411f07,_0x30599f=CryptUtil[_0x3c8ad9(0x1ea)]();return _0x5624d9['postItemItemUpdates'][_0x3c8ad9(0x19a)](async({actor:_0xa00fb9,isTemp:_0x29b564,isPack:_0x488fc1,pack:_0x5f0388})=>{const _0x4b596e=_0x3c8ad9;if(_0x29b564)return;const _0x58d3d3=_0xa00fb9[_0x4b596e(0x249)]['find'](_0x573ebe=>_0x573ebe[_0x4b596e(0x186)][_0x4b596e(0x2d1)]?.[SharedConsts[_0x4b596e(0x196)]]?.[_0x4b596e(0x298)]===_0x58a945);if(!_0x58d3d3)return console[_0x4b596e(0x18e)](...LGT,_0x4b596e(0x2c1)+_0x19cab8[_0x4b596e(0x295)]+'\x22');const _0x49f95b=_0xa00fb9[_0x4b596e(0x249)][_0x4b596e(0x211)](_0x117e04=>_0x117e04['data'][_0x4b596e(0x2d1)]?.[SharedConsts[_0x4b596e(0x196)]]?.['_tmpItemId']===_0x30599f);if(!_0x49f95b)return console[_0x4b596e(0x18e)](...LGT,_0x4b596e(0x199)+_0x19cab8[_0x4b596e(0x295)]+'\x22');const _0x531760={'_id':_0x49f95b['id'],'data':{'consume':{'target':_0x58d3d3['id']}}};await UtilDocuments['pUpdateEmbeddedDocuments'](_0xa00fb9,[_0x531760],{'propData':_0x4b596e(0x249),'ClsEmbed':Item});}),{'name':_0x2e0e50,'_plut_cleanName':_0x411f07,'entries':_0x19cab8[_0x3c8ad9(0x17d)]?[_0x19cab8['entry']]:_0x19cab8[_0x3c8ad9(0x2f0)],'_foundryData':{'consume.type':_0x3c8ad9(0x176),'consume.amount':0x1},'_foundryFlags':{[SharedConsts[_0x3c8ad9(0x196)]]:{'_tmpItemId':_0x30599f}}};});return _0x547804[_0xace643(0x19a)]({'name':_0x294d07[_0xace643(0x295)],'entries':[_0x294d07[_0xace643(0x2f0)][0x0][_0xace643(0x192)]()[_0xace643(0x2f9)](/[.,!?:]$/,'')+':\x20'+_0x491173['map'](_0x3ef7b9=>_0x39f469?_0xace643(0x345)+_0x39f469+']['+_0x3ef7b9[_0xace643(0x295)]+']{'+_0x3ef7b9[_0xace643(0x318)]+'}':_0x3ef7b9['_plut_cleanName'])['joinConjunct'](',\x20','\x20or\x20')],'_foundryFlags':{[SharedConsts['MODULE_NAME_FAKE']]:{'_tmpItemId':_0x58a945}}}),_0x491173[_0xace643(0x1e9)](_0x5bb065=>delete _0x5bb065[_0xace643(0x318)]),_0x547804[_0xace643(0x19a)](..._0x491173),_0x547804;}if(this['constructor'][_0xace643(0x2fb)](_0x294d07)||this[_0xace643(0x2c2)][_0xace643(0x195)](_0x294d07)){const _0x5d100a=[],_0x51312c=MiscUtil[_0xace643(0x2d4)](_0x294d07),_0x4dac8a=_0x294d07[_0xace643(0x2f0)][_0xace643(0x310)](_0x35cd71=>_0x35cd71[_0xace643(0x322)]===_0xace643(0x207)&&this['constructor'][_0xace643(0x1a4)](_0x35cd71)),_0x584bef=MiscUtil[_0xace643(0x2d4)](_0x294d07[_0xace643(0x2f0)][_0x4dac8a]);_0x5d100a[_0xace643(0x19a)](_0x51312c);const _0x5995a8=[];_0x51312c['entries'][_0x4dac8a]={'type':'list','items':_0x5995a8};const _0x24b6ea=_0x51312c['name'][_0xace643(0x27b)](/[.,!:?({]/)[0x0];return _0x584bef[_0xace643(0x249)][_0xace643(0x1e9)](_0xdb1d6b=>{const _0x1650f2=_0xace643,_0x49b1f8=_0xdb1d6b[_0x1650f2(0x295)]['replace'](/[.,!:?]\\s*$/,''),_0x308e1a={..._0xdb1d6b,'type':_0x1650f2(0x2f0),'name':_0x24b6ea+':\x20'+_0x49b1f8};_0x308e1a[_0x1650f2(0x17d)]&&(_0x308e1a[_0x1650f2(0x2f0)]=[_0x308e1a[_0x1650f2(0x17d)]],delete _0x308e1a['entry']),delete _0x308e1a['style'],_0x5d100a['push'](_0x308e1a),_0x5995a8[_0x1650f2(0x19a)](_0x39f469?_0x1650f2(0x345)+_0x39f469+']['+_0x308e1a[_0x1650f2(0x295)]+']{'+_0x49b1f8+'}':_0x49b1f8);}),_0x5d100a;}return[_0x294d07];}static[_0x40b176(0x327)](_0x3b7275){const _0x37378e=_0x40b176;return _0x3b7275['entries'][_0x37378e(0x2eb)]===0x2&&typeof _0x3b7275[_0x37378e(0x2f0)][0x0]===_0x37378e(0x277)&&_0x3b7275['entries'][0x0][_0x37378e(0x1d1)](_0x37378e(0x2f3))&&_0x3b7275[_0x37378e(0x2f0)][0x1][_0x37378e(0x322)]===_0x37378e(0x207)&&_0x3b7275[_0x37378e(0x2f0)][0x1][_0x37378e(0x249)][_0x37378e(0x172)](_0x5e6e61=>_0x5e6e61['name']&&(_0x5e6e61[_0x37378e(0x17d)]||_0x5e6e61['entries']));}static['_isActionEyeRay'](_0x69d2b){const _0x570dd5=_0x40b176;return/^eye ray/gi[_0x570dd5(0x331)](_0x69d2b[_0x570dd5(0x295)])&&_0x69d2b[_0x570dd5(0x2f0)][_0x570dd5(0x211)](_0x5775f7=>_0x5775f7[_0x570dd5(0x322)]===_0x570dd5(0x207)&&(_0x5775f7[_0x570dd5(0x249)]||[])['every'](_0x44260e=>_0x44260e[_0x570dd5(0x322)]===_0x570dd5(0x2ba)));}static[_0x40b176(0x195)](_0x324dd6){const _0x37ebfc=_0x40b176;if(_0x324dd6[_0x37ebfc(0x2f0)]['length']!==0x2||typeof _0x324dd6[_0x37ebfc(0x2f0)][0x0]!=='string'||_0x324dd6[_0x37ebfc(0x2f0)][0x1]['type']!==_0x37ebfc(0x207))return![];if(!/\bthe following\b/[_0x37ebfc(0x331)](_0x324dd6['entries'][0x0])&&!/\bchoose one\b/[_0x37ebfc(0x331)](_0x324dd6[_0x37ebfc(0x2f0)][0x0])&&!/\b(?:at|one) random\b/['test'](_0x324dd6[_0x37ebfc(0x2f0)][0x0]))return![];return this[_0x37ebfc(0x1a4)](_0x324dd6[_0x37ebfc(0x2f0)][0x1]);}static[_0x40b176(0x1a4)](_0x5b767e){const _0x4f2259=_0x40b176;return _0x5b767e?.[_0x4f2259(0x249)]?.['length']&&_0x5b767e['items'][_0x4f2259(0x172)](_0x1abb6e=>_0x1abb6e[_0x4f2259(0x295)]);}async['_pImportEntry_pFillItems_pAction'](_0x724b88,_0x28ef5d,_0x395915,_0x2953b4,_0x482cef){const _0x2daec1=_0x40b176;if(!_0x395915[_0x2daec1(0x2f0)]?.['length'])return console[_0x2daec1(0x18e)](...LGT,_0x724b88[_0x2daec1(0x295)]+'\x20('+_0x724b88[_0x2daec1(0x2af)]+')\x20action\x20\x22'+_0x395915?.[_0x2daec1(0x295)]+_0x2daec1(0x2ec));const _0x861251=await DataConverter[_0x2daec1(0x266)](_0x395915,{'summonSpellLevel':_0x724b88[_0x2daec1(0x1bb)]??_0x724b88[_0x2daec1(0x18a)]}),_0x56d542=_0x395915[_0x2daec1(0x2f0)]?JSON[_0x2daec1(0x28d)](_0x395915[_0x2daec1(0x2f0)]):null,{damageTuples:_0x3d811b,formula:_0x20e053,offensiveAbility:_0xd053fc,isAttack:_0x293ffe,rangeShort:_0x114b46,rangeLong:_0x35bca4,actionType:_0x4f0ae5,isProficient:_0x25d680,attackBonus:_0x2d9ba1,_foundryData:_0x2db23a,foundryData:_0x44a22b,_foundryFlags:_0x437bb8,foundryFlags:_0x39a488,img:_0x1c6a8f}=await DataConverterCreature[_0x2daec1(0x162)](_0x724b88,_0x395915,_0x2953b4),_0x5fb41d=[];_0x5fb41d[_0x2daec1(0x19a)](...this['_getDamageTuplesWithMod'](_0x3d811b,_0x724b88[_0xd053fc]));const {saveAbility:_0x42fd00,saveScaling:_0x4d04e4,saveDc:_0x39a5cf}=this[_0x2daec1(0x316)](_0x724b88,_0x2953b4[_0x2daec1(0x167)],_0x56d542);if(_0x293ffe)return this['_pFillWeaponItem'](_0x724b88,_0x28ef5d,_0x395915,_0x2953b4,{'offensiveAbility':_0xd053fc,'damageParts':_0x5fb41d,'formula':_0x20e053,'rangeShort':_0x114b46,'rangeLong':_0x35bca4,'actionType':_0x4f0ae5,'isProficient':_0x25d680,'description':this['_getAttackDescription']({'mon':_0x724b88,'action':_0x395915,'description':_0x861251}),'saveAbility':_0x42fd00,'saveDc':_0x39a5cf,'saveScaling':_0x4d04e4,'attackBonus':_0x2d9ba1,'_foundryData':_0x2db23a,'foundryData':_0x44a22b,'_foundryFlags':_0x437bb8,'foundryFlags':_0x39a488,'img':_0x482cef?.['img']??_0x1c6a8f,'isMagical':(_0x724b88['traitTags']||[])[_0x2daec1(0x1d1)](_0x2daec1(0x2de))});return this[_0x2daec1(0x2fe)](_0x724b88,_0x2953b4,_0x28ef5d,_0x395915,{'fvttType':_0x2daec1(0x2e3),'activationType':_0x2daec1(0x2fd),'activationCost':0x1,'description':_0x861251,'saveAbility':_0x42fd00,'saveDc':_0x39a5cf,'saveScaling':_0x4d04e4,'damageParts':_0x5fb41d,'formula':_0x20e053,'attackBonus':_0x2d9ba1,'_foundryData':_0x2db23a,'foundryData':_0x44a22b,'_foundryFlags':_0x437bb8,'foundryFlags':_0x39a488,'img':_0x482cef?.['img']??_0x1c6a8f});}['_getAttackDescription']({mon:_0xeba271,action:_0x5bb593,description:_0x1b1f16}){const _0x5d82f5=_0x40b176;if(!Config[_0x5d82f5(0x1c9)](this['_configGroup'],_0x5d82f5(0x2ad)))return _0x1b1f16;const _0x1b965f=Renderer[_0x5d82f5(0x2db)][_0x5d82f5(0x33c)](_0xeba271,!![]);return _0x5d82f5(0x32b)+_0x1b1f16+_0x5d82f5(0x15c)+_0x1b965f+_0x5d82f5(0x24b)+_0x5bb593[_0x5d82f5(0x295)]+_0x5d82f5(0x26d);}['_getSavingThrowData'](_0x598a96,_0xff1264,_0x54f514){const _0x32045d=_0x40b176;let {saveAbility:_0x50e145,saveScaling:_0xf562d,saveDc:_0x1dcdba,isFoundParse:_0x128653}=super[_0x32045d(0x316)](_0x54f514);if(_0x128653){if(_0xff1264){const _0x26b2c9=_0x1dcdba-_0xff1264-0x8;for(const _0x3de3e6 of[_0x32045d(0x22a),_0x32045d(0x253),_0x32045d(0x19e),'str',_0x32045d(0x1b4),_0x32045d(0x1b2)]){const _0x40887e=Parser[_0x32045d(0x2a0)](_0x598a96[_0x3de3e6]);if(_0x40887e===_0x26b2c9){_0xf562d=_0x3de3e6;break;}}}}return{'saveAbility':_0x50e145,'saveScaling':_0xf562d,'saveDc':_0x1dcdba};}[_0x40b176(0x33e)](_0x1d1bc9,_0x3ec25f){const _0x2eef43=_0x40b176;if(!_0x1d1bc9[_0x2eef43(0x2eb)])return[];return _0x1d1bc9=MiscUtil[_0x2eef43(0x2d4)](_0x1d1bc9),_0x3ec25f&&_0x1d1bc9[_0x2eef43(0x1e9)](_0xda996d=>{const _0x1e081a=_0x2eef43,_0x2e24b9=Parser[_0x1e081a(0x2a0)](_0x3ec25f),_0x2f31ec=/(\d+d\d+\s*)([-+]\s*\d+)([ -+].*)?$/['exec'](_0xda996d[0x0]);if(!_0x2f31ec)return;const _0x4ef7f2=Number(_0x2f31ec[0x2][_0x1e081a(0x2f9)](/\s*/g,''));if(_0x4ef7f2===_0x2e24b9)_0xda996d[0x0]=_0x2f31ec[0x1]+_0x1e081a(0x21b)+(_0x2f31ec[0x3]||'');}),_0x1d1bc9[_0x2eef43(0x270)](_0x1cb0be=>_0x1cb0be[_0x2eef43(0x2eb)]);}static[_0x40b176(0x2a2)](_0x1b8336){const _0x45f8bd=_0x40b176,_0x449842=[];if(!_0x1b8336[_0x45f8bd(0x17a)]||!_0x1b8336[_0x45f8bd(0x17a)][_0x45f8bd(0x2eb)])return _0x449842;return _0x1b8336['from'][_0x45f8bd(0x1e9)](_0x485871=>{const _0x5bb7d1=_0x45f8bd,_0xf9c7fe=this[_0x5bb7d1(0x1a6)](_0x485871);_0xf9c7fe['forEach'](_0x5e26ff=>{const _0x9732f7=_0x5bb7d1;if(!_0x449842[_0x9732f7(0x1d1)](_0x5e26ff))_0x449842[_0x9732f7(0x19a)](_0x5e26ff);});}),_0x449842;}static[_0x40b176(0x1a6)](_0xb51f26){const _0x1d8314=_0x40b176,_0x54b12a=[];return _0xb51f26[_0x1d8314(0x2f9)](/{@item ([^}]+)}/gi,(..._0x318240)=>{const _0x3847b7=_0x1d8314,[_0x1a65d6,_0x5068ef]=_0x318240[0x1][_0x3847b7(0x192)]()[_0x3847b7(0x245)]()[_0x3847b7(0x27b)]('|'),_0x5e3b60=UrlUtil[_0x3847b7(0x1dd)][UrlUtil[_0x3847b7(0x1c7)]]({'name':_0x1a65d6,'source':_0x5068ef||SRC_DMG});if(!_0x54b12a[_0x3847b7(0x1d1)](_0x5e3b60))_0x54b12a['push'](_0x5e3b60);}),[..._0x54b12a];}async[_0x40b176(0x1cc)](_0x45c9a6,_0x1a9d44,_0x553894){const _0x1f76c3=_0x40b176,_0x4a8d07=new Set(),_0x426169=new Set();(_0x45c9a6['ac']||[])[_0x1f76c3(0x1e9)]((_0x34325b,_0x14fbc5)=>{const _0x20e98a=_0x1f76c3,_0x3b7769=this['constructor'][_0x20e98a(0x2a2)](_0x34325b);_0x3b7769[_0x20e98a(0x1e9)](_0xfa9efc=>_0x4a8d07['add'](_0xfa9efc));if(_0x14fbc5===0x0&&!Config[_0x20e98a(0x1c9)](_0x20e98a(0x1f9),'isUseStaticAc'))_0x3b7769[_0x20e98a(0x1e9)](_0x18319b=>_0x426169[_0x20e98a(0x2b1)](_0x18319b));});for(const _0x30bc6a of _0x4a8d07){const _0x374974=_0x553894[_0x1f76c3(0x31c)](_0x30bc6a);if(~_0x374974){_0x553894[_0x1f76c3(0x2f4)][_0x30bc6a]=_0x374974;continue;}const _0x26f7e4=await Renderer[_0x1f76c3(0x1db)][_0x1f76c3(0x1cb)](UrlUtil[_0x1f76c3(0x1c7)],_0x30bc6a);if(!_0x26f7e4)continue;await this[_0x1f76c3(0x164)](_0x45c9a6,_0x1a9d44,_0x26f7e4,_0x553894,{'isEquipped':_0x426169[_0x1f76c3(0x1f2)](_0x30bc6a)});}for(const _0x57827f of _0x45c9a6['spellcasting']||[]){if(!_0x57827f[_0x1f76c3(0x17c)])continue;const {name:_0x2ec112,source:_0x2d2f8c}=DataUtil[_0x1f76c3(0x1b5)][_0x1f76c3(0x291)](_0x57827f[_0x1f76c3(0x17c)],'spell'),_0x37c5d8=UrlUtil[_0x1f76c3(0x1dd)][UrlUtil[_0x1f76c3(0x1c7)]]({'name':_0x2ec112,'source':_0x2d2f8c}),_0x897b15=_0x553894[_0x1f76c3(0x31c)](_0x37c5d8);if(~_0x897b15){_0x553894[_0x1f76c3(0x2f4)][_0x37c5d8]=_0x897b15;continue;}const _0x386f22=await Renderer['hover'][_0x1f76c3(0x1cb)](UrlUtil[_0x1f76c3(0x1c7)],_0x37c5d8);if(!_0x386f22)continue;_0x553894[_0x1f76c3(0x2f4)][_0x37c5d8]=_0x553894[_0x1f76c3(0x249)]['length']-0x1,await this[_0x1f76c3(0x164)](_0x45c9a6,_0x1a9d44,_0x386f22,_0x553894,{'isEquipped':!![]});}const _0x10861b=(_0x45c9a6[_0x1f76c3(0x265)]||[])[_0x1f76c3(0x270)](_0x48e8c9=>_0x48e8c9['name']&&_0x48e8c9[_0x1f76c3(0x2f0)]&&/equipment/i[_0x1f76c3(0x331)](_0x48e8c9['name'][_0x1f76c3(0x192)]()))[_0x1f76c3(0x251)](_0x11b244=>this['constructor'][_0x1f76c3(0x1a6)](JSON[_0x1f76c3(0x28d)](_0x11b244[_0x1f76c3(0x2f0)])))['flat']()['filter'](_0x31102f=>!_0x4a8d07[_0x1f76c3(0x1f2)](_0x31102f));for(const _0x20e782 of _0x10861b){const _0x419fb1=_0x553894['getExistingItemItemIndex'](_0x20e782);if(~_0x419fb1)continue;const _0x5b82d0=await Renderer['hover']['pCacheAndGetHash'](UrlUtil[_0x1f76c3(0x1c7)],_0x20e782);if(!_0x5b82d0)continue;if(_0x5b82d0[_0x1f76c3(0x322)]==='S'||_0x5b82d0[_0x1f76c3(0x322)]==='R'||_0x5b82d0['weaponCategory'])continue;await this[_0x1f76c3(0x164)](_0x45c9a6,_0x1a9d44,_0x5b82d0,_0x553894,{'isEquipped':!![]});}}async[_0x40b176(0x164)](_0x18f8d1,_0x25305c,_0x1a9412,_0x499717,_0xc74405){const _0x2f6015=_0x40b176;_0xc74405=_0xc74405||{};const _0x98c2e8=await Renderer[_0x2f6015(0x2ba)]['pGetFluff'](_0x1a9412),_0x29c2e9=await DataConverterItem['pGetItemItem'](_0x1a9412,{'isActorItem':!![],'fluff':_0x98c2e8,'size':_0x499717[_0x2f6015(0x2d0)],'isEquipped':_0xc74405[_0x2f6015(0x1b7)],'dexMod':Parser[_0x2f6015(0x2a0)](_0x18f8d1[_0x2f6015(0x1b4)]),'isInfiniteAmmo':!![]});_0x499717[_0x2f6015(0x249)][_0x2f6015(0x19a)](_0x29c2e9);}async['_pImportEntry_pFillItems_pSpellcasting'](_0x27c523,_0x22826d,_0x539fd9,_0x3cf152){const _0x58cafb=_0x40b176;if(!_0x27c523[_0x58cafb(0x347)])return;const _0x2ea094=new ImportListSpell({'actor':_0x3cf152['actor']});await _0x2ea094['pInit']();const _0x199c63={},_0x49e00f=!![],_0x4fdc51=[];for(const _0x3798a6 of _0x27c523['spellcasting']){const _0x185ac9=MiscUtil[_0x58cafb(0x2d4)](_0x3798a6);delete _0x185ac9[_0x58cafb(0x295)],delete _0x185ac9[_0x58cafb(0x322)],delete _0x185ac9[_0x58cafb(0x2b8)],delete _0x185ac9['id'],delete _0x185ac9[_0x58cafb(0x2af)],delete _0x185ac9['data'],delete _0x185ac9[_0x58cafb(0x1ba)],delete _0x185ac9[_0x58cafb(0x178)],delete _0x185ac9[_0x58cafb(0x246)],delete _0x185ac9[_0x58cafb(0x171)];if(_0x185ac9[_0x58cafb(0x201)]){const _0x14372e=Object[_0x58cafb(0x26a)](_0x185ac9[_0x58cafb(0x201)]);for(const _0x15405c of _0x14372e){const _0x34fbbc=_0x185ac9[_0x58cafb(0x201)][_0x15405c],_0x5653dc=_0x34fbbc['lower']!=null?_0x58cafb(0x1fb):_0x58cafb(0x250);await this[_0x58cafb(0x2c2)][_0x58cafb(0x30f)](_0x3cf152[_0x58cafb(0x2c8)],JSON[_0x58cafb(0x28d)](_0x34fbbc[_0x58cafb(0x201)]),{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'optsGetSpellItem':{'ability':_0x185ac9[_0x58cafb(0x23e)]||_0x3cf152[_0x58cafb(0x267)],'isPrepared':_0x49e00f,'preparationMode':_0x5653dc}});}delete _0x185ac9[_0x58cafb(0x201)];}_0x185ac9[_0x58cafb(0x2b5)]&&await this[_0x58cafb(0x27f)](_0x3cf152,_0x185ac9,_0x58cafb(0x2b5),{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'isPrepared':_0x49e00f,'usesPer':_0x58cafb(0x176)});_0x185ac9[_0x58cafb(0x264)]&&await this['_pImportEntry_pFillItems_pSpellcasting_recharge'](_0x3cf152,_0x185ac9,'yearly',{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'isPrepared':_0x49e00f,'usesPer':_0x58cafb(0x176)});_0x185ac9['daily']&&await this[_0x58cafb(0x27f)](_0x3cf152,_0x185ac9,'daily',{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'isPrepared':_0x49e00f,'usesPer':'day'});_0x185ac9['rest']&&await this[_0x58cafb(0x27f)](_0x3cf152,_0x185ac9,_0x58cafb(0x344),{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'isPrepared':_0x49e00f,'usesPer':'sr'});if(_0x185ac9['charges']){const _0x26581d=this[_0x58cafb(0x343)](_0x185ac9,_0x3cf152);await this['_pImportEntry_pFillItems_pSpellcasting_recharge'](_0x3cf152,_0x185ac9,_0x58cafb(0x176),{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'isPrepared':_0x49e00f,'preparationMode':_0x58cafb(0x1bc),'consumeType':_0x58cafb(0x176),'consumeTarget':_0x26581d,'isConsumeAmount':!![]}),delete _0x185ac9[_0x58cafb(0x17c)],delete _0x185ac9['charges'];}_0x185ac9[_0x58cafb(0x217)]&&(await this['constructor'][_0x58cafb(0x30f)](_0x3cf152[_0x58cafb(0x2c8)],JSON[_0x58cafb(0x28d)](_0x185ac9[_0x58cafb(0x217)]),{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'optsGetSpellItem':{'ability':_0x185ac9[_0x58cafb(0x23e)]||_0x3cf152[_0x58cafb(0x267)],'isPrepared':_0x49e00f,'preparationMode':_0x58cafb(0x1bf)}}),delete _0x185ac9[_0x58cafb(0x217)]);_0x185ac9[_0x58cafb(0x1c5)]&&(await this[_0x58cafb(0x2c2)]['_pGetSpellHashToItemPosMapAndFillSpells'](_0x3cf152[_0x58cafb(0x2c8)],JSON[_0x58cafb(0x28d)](_0x185ac9[_0x58cafb(0x1c5)]),{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'optsGetSpellItem':{'ability':_0x185ac9['ability']||_0x3cf152[_0x58cafb(0x267)],'isPrepared':_0x49e00f,'preparationMode':_0x58cafb(0x1bf),'durationValue':null,'durationUnit':_0x58cafb(0x247)}}),delete _0x185ac9[_0x58cafb(0x1c5)]);_0x185ac9['ritual']&&(await this[_0x58cafb(0x2c2)][_0x58cafb(0x30f)](_0x3cf152[_0x58cafb(0x2c8)],JSON[_0x58cafb(0x28d)](_0x185ac9[_0x58cafb(0x2ae)]),{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'optsGetSpellItem':{'ability':_0x185ac9[_0x58cafb(0x23e)]||_0x3cf152['spellAbility'],'isPrepared':![],'preparationMode':_0x58cafb(0x1bf),'nameSuffix':'\x20(R)'}}),delete _0x185ac9['ritual']);const _0x49b2bf=Object[_0x58cafb(0x26a)](_0x185ac9)[_0x58cafb(0x270)](_0x2c3f4b=>_0x2c3f4b!==_0x58cafb(0x23e));_0x49b2bf[_0x58cafb(0x2eb)]&&(console['warn'](...LGT,_0x58cafb(0x1d0)+_0x49b2bf['map'](_0x1024f4=>'\x22'+_0x1024f4+'\x22')[_0x58cafb(0x1e8)](',\x20')+_0x58cafb(0x1b9)),_0x4fdc51[_0x58cafb(0x19a)](_0x185ac9));}for(const _0xfc5d49 of _0x4fdc51){await this[_0x58cafb(0x2c2)][_0x58cafb(0x30f)](_0x3cf152['actor'],JSON[_0x58cafb(0x28d)](_0xfc5d49),{'importListSpells':_0x2ea094,'hashToIdMap':_0x199c63,'isTemporary':_0x539fd9,'optsGetSpellItem':{'ability':_0xfc5d49[_0x58cafb(0x23e)]||_0x3cf152[_0x58cafb(0x267)]}});}const _0x5923e7={};Object[_0x58cafb(0x2f0)](_0x199c63)[_0x58cafb(0x1e9)](([_0x5054ef,_0x4e8910])=>MiscUtil[_0x58cafb(0x225)](_0x5923e7,_0x58cafb(0x1a9),_0x5054ef,_0x4e8910)),await UtilDataConverter[_0x58cafb(0x325)](async()=>{const _0x2bfc41=_0x58cafb,_0x18520b=Renderer['monster']['getSpellcastingRenderedTraits'](Renderer[_0x2bfc41(0x1c9)](),_0x27c523);for(const _0x498ceb of _0x18520b){const _0x2ac8d5=await DataConverterCreature[_0x2bfc41(0x283)](_0x27c523,_0x498ceb,_0x3cf152);await this[_0x2bfc41(0x2fe)](_0x27c523,_0x3cf152,_0x22826d,_0x498ceb,{'fvttType':_0x2bfc41(0x2e3),'img':_0x2ac8d5,'description':_0x498ceb[_0x2bfc41(0x299)]});}},{'actorId':_0x3cf152[_0x58cafb(0x2c8)]['id'],'tagHashItemIdMap':_0x5923e7});}[_0x40b176(0x343)](_0x90af54,_0x4562ed){const _0x9a0691=_0x40b176;if(!_0x90af54[_0x9a0691(0x17c)])return null;const {name:_0x1bb414,source:_0x3174e1}=DataUtil[_0x9a0691(0x1b5)]['unpackUid'](_0x90af54[_0x9a0691(0x17c)],_0x9a0691(0x1a9)),_0x2be69a=UrlUtil[_0x9a0691(0x1dd)][UrlUtil[_0x9a0691(0x1c7)]]({'name':_0x1bb414,'source':_0x3174e1}),_0xa992b8=_0x4562ed[_0x9a0691(0x2f4)][_0x2be69a];if(_0xa992b8==null)return;const _0x27d53e=_0x4562ed[_0x9a0691(0x203)][Number(_0xa992b8)];if(!_0x27d53e?.[_0x9a0691(0x15f)])return null;return _0x27d53e[_0x9a0691(0x15f)]['id']??_0x27d53e[_0x9a0691(0x15f)]['_id'];}async[_0x40b176(0x27f)](_0x52f24d,_0x36adf9,_0x39fc77,{importListSpells:_0x3c783d,hashToIdMap:_0x5471dd,isTemporary:_0x20c4f9,isPrepared:_0xf7a7,usesPer:usesPer=null,preparationMode:preparationMode=_0x40b176(0x1bf),consumeType:consumeType=null,isConsumeAmount:isConsumeAmount=![],consumeTarget:consumeTarget=null}){const _0x554662=_0x40b176;for(let _0x258f58=0x1;_0x258f58<=0x9;++_0x258f58){const _0x1ba042=_0x258f58+'e',_0x4f7d96=[...(_0x36adf9[_0x39fc77]||{})[_0x258f58]||[],...(_0x36adf9[_0x39fc77]||{})[_0x1ba042]||[]];if(!_0x4f7d96[_0x554662(0x2eb)])continue;const _0x358e5d={'ability':_0x36adf9[_0x554662(0x23e)]||_0x52f24d[_0x554662(0x267)],'isPrepared':_0xf7a7,'preparationMode':preparationMode,'consumeType':consumeType,'consumeTarget':consumeTarget,'usesPer':usesPer};isConsumeAmount?_0x358e5d[_0x554662(0x280)]=_0x258f58:(_0x358e5d['usesValue']=_0x258f58,_0x358e5d[_0x554662(0x1c4)]=_0x258f58),await this['constructor'][_0x554662(0x30f)](_0x52f24d[_0x554662(0x2c8)],JSON[_0x554662(0x28d)](_0x4f7d96),{'importListSpells':_0x3c783d,'hashToIdMap':_0x5471dd,'isTemporary':_0x20c4f9,'optsGetSpellItem':_0x358e5d});}delete _0x36adf9[_0x39fc77];}static[_0x40b176(0x21f)](_0x4e94d5){const _0x1f064a=_0x40b176;let _0x18b74c=0x0;return _0x4e94d5['headerEntries']&&JSON[_0x1f064a(0x28d)](_0x4e94d5[_0x1f064a(0x1ba)])[_0x1f064a(0x2f9)](/an? (\d+)[A-Za-z]+-level/i,(..._0x15cd72)=>{const _0x85fb26=Number(_0x15cd72[0x1]);if(!isNaN(_0x85fb26))_0x18b74c=_0x85fb26;}),_0x18b74c;}static[_0x40b176(0x346)](_0x2fbf79){const _0x140d21=_0x40b176;let _0x762209='';return _0x2fbf79[_0x140d21(0x1ba)]&&JSON[_0x140d21(0x28d)](_0x2fbf79[_0x140d21(0x1ba)])['replace'](/(?:^| )(bard|cleric|druid|paladin|ranger|sorcerer|warlock|wizard)(?:\W|$)?/i,(..._0x10e22c)=>{_0x762209=_0x10e22c[0x1];}),_0x762209;}static async[_0x40b176(0x30f)](_0x1cc405,_0x1280f3,{importListSpells:_0x29390c,hashToIdMap:_0x114d62,isTemporary:_0x2f6c8b,optsGetSpellItem:_0x41122c}={}){const _0x281859=_0x40b176,_0x3883c2=new Set();_0x1280f3[_0x281859(0x2f9)](/{@spell ([^}]+)}/gi,(..._0x509ff8)=>{const _0xfc904e=_0x281859;let [_0x6cbdd,_0x1cb15f]=_0x509ff8[0x1][_0xfc904e(0x245)]()['trim']()['split']('|')[_0xfc904e(0x251)](_0x445e5e=>_0x445e5e[_0xfc904e(0x192)]());if(!_0x1cb15f)_0x1cb15f=SRC_PHB[_0xfc904e(0x245)]();_0x3883c2[_0xfc904e(0x2b1)](_0x6cbdd+'|'+_0x1cb15f);});for(const _0x57218a of _0x3883c2){const [_0x319af0,_0x1324d9]=_0x57218a['split']('|'),_0xa992ba=UrlUtil[_0x281859(0x1dd)][UrlUtil[_0x281859(0x324)]]({'name':_0x319af0,'source':_0x1324d9});let _0x3b7f21;try{_0x3b7f21=await Renderer[_0x281859(0x1db)]['pCacheAndGet'](UrlUtil[_0x281859(0x324)],_0x1324d9,_0xa992ba);}catch(_0x4e80b9){console[_0x281859(0x308)](...LGT,_0x281859(0x2a8)+_0xa992ba+'\x22!',_0x4e80b9);continue;}if(!_0x3b7f21)continue;const _0x61a619={...await UtilActors[_0x281859(0x32d)]({'actor':_0x1cc405}),..._0x41122c||{}};if(_0x3b7f21[_0x281859(0x333)]===0x0)_0x61a619[_0x281859(0x205)]=_0x281859(0x177);const _0x580328=await _0x29390c[_0x281859(0x301)](_0x3b7f21,{'opts_pGetSpellItem':_0x61a619}),_0x883b5c=_0x580328['imported'][0x0]?.[_0x281859(0x1a8)]?.['id'];if(_0x883b5c==null)continue;if(_0x114d62[_0xa992ba])continue;_0x114d62[_0xa992ba]=_0x883b5c;}}}ImportListCreature[_0x40b176(0x27a)]=null,ImportListCreature[_0x40b176(0x233)]=class extends ImportListActor[_0x40b176(0x233)]{constructor(_0xf181d0){const _0x586e6b=_0x40b176;_0xf181d0=_0xf181d0||{},super(_0xf181d0),this['mon']=_0xf181d0[_0x586e6b(0x215)],this['pb']=Parser['crToPb'](this[_0x586e6b(0x215)]['cr']),this[_0x586e6b(0x167)]=this['pb'],this['legendaryMeta']=DataUtil[_0x586e6b(0x2db)][_0x586e6b(0x204)](this[_0x586e6b(0x215)]),this[_0x586e6b(0x267)]='',this[_0x586e6b(0x1ca)]=0x8,this[_0x586e6b(0x1b1)]=0x0,this['spellClass']='',this[_0x586e6b(0x289)](this[_0x586e6b(0x215)]),this[_0x586e6b(0x197)](this[_0x586e6b(0x215)]),this[_0x586e6b(0x2d0)]=null,this[_0x586e6b(0x25b)](this[_0x586e6b(0x215)]),this[_0x586e6b(0x2f4)]={},this['importedSheetItems']=[];}[_0x40b176(0x197)](_0x47de24){const _0x27c588=_0x40b176;if(!_0x47de24['action'])return;_0x47de24[_0x27c588(0x2fd)][_0x27c588(0x1e9)](_0x9a2fee=>DataConverterActor['getParsedActionEntryData'](_0x47de24,_0x9a2fee,this,{'mode':_0x27c588(0x23d),'summonSpellLevel':_0x47de24[_0x27c588(0x1bb)]??_0x47de24[_0x27c588(0x18a)]}));}[_0x40b176(0x25b)](_0xa50cd0){const _0x54a455=_0x40b176;if(!_0xa50cd0[_0x54a455(0x2d0)])return this[_0x54a455(0x2d0)]=SZ_MEDIUM;if(typeof _0xa50cd0[_0x54a455(0x2d0)]===_0x54a455(0x277))return this[_0x54a455(0x2d0)]=_0xa50cd0[_0x54a455(0x2d0)];if(!(_0xa50cd0[_0x54a455(0x2d0)]instanceof Array))return this[_0x54a455(0x2d0)]=SZ_MEDIUM;if(_0xa50cd0[_0x54a455(0x2d0)][_0x54a455(0x2eb)]===0x1)return this[_0x54a455(0x2d0)]=_0xa50cd0[_0x54a455(0x2d0)][0x0];if(_0xa50cd0['size'][_0x54a455(0x1d1)](SZ_MEDIUM))return this['size']=SZ_MEDIUM;this['size']=[..._0xa50cd0[_0x54a455(0x2d0)]][_0x54a455(0x1df)](SortUtil['ascSortSize'])[0x0];}[_0x40b176(0x289)](_0x2ed357){const _0x41a4e5=_0x40b176;if(!_0x2ed357[_0x41a4e5(0x347)])return;const _0xb91b7d=_0x2ed357['spellcasting'][_0x41a4e5(0x270)](_0x524270=>_0x524270[_0x41a4e5(0x23e)])['map'](_0x515eda=>{const _0x47b830=_0x41a4e5;if(Parser[_0x47b830(0x257)][_0x47b830(0x1d1)](_0x515eda[_0x47b830(0x23e)]))return _0x515eda;const _0x20eade=_0x515eda[_0x47b830(0x23e)][_0x47b830(0x272)](0x0,0x3);if(Parser['ABIL_ABVS'][_0x47b830(0x1d1)](_0x20eade))return _0x515eda['ability']=_0x20eade,_0x515eda;return null;})['filter'](Boolean);if(_0xb91b7d[_0x41a4e5(0x2eb)]){let _0x3dcf2e=_0xb91b7d[0x0];if(_0xb91b7d[_0x41a4e5(0x2eb)]>0x1)switch(Config[_0x41a4e5(0x1c9)](_0x41a4e5(0x1f9),'spellcastingPrimaryTraitMode')){case 0x1:{_0x3dcf2e=_0xb91b7d['sort']((_0x34e716,_0x4b65f2)=>{const _0x4702a3=_0x41a4e5,_0x40b248=this[_0x4702a3(0x2c2)]['_getSpellCount'](_0x34e716),_0x1c1d0a=this['constructor'][_0x4702a3(0x168)](_0x4b65f2);return SortUtil[_0x4702a3(0x2ed)](_0x1c1d0a,_0x40b248);})[0x0];break;}case 0x2:{_0x3dcf2e=_0xb91b7d[_0x41a4e5(0x1df)]((_0x14c640,_0x58b049)=>SortUtil[_0x41a4e5(0x2ed)](Parser[_0x41a4e5(0x2a0)](_0x2ed357[_0x58b049['ability']]),Parser['getAbilityModNumber'](_0x2ed357[_0x14c640[_0x41a4e5(0x23e)]])))[0x0];break;}}const _0x3dc6a4=_0x3dcf2e[_0x41a4e5(0x23e)],_0x5ab2bd=Parser[_0x41a4e5(0x2a0)](_0x2ed357[_0x3dc6a4]);this['spellAbility']=_0x3dc6a4,this[_0x41a4e5(0x1ca)]=_0x5ab2bd+this['pb'];}this[_0x41a4e5(0x1b1)]=_0x2ed357[_0x41a4e5(0x347)]['map'](_0x1584bb=>ImportListCreature[_0x41a4e5(0x21f)](_0x1584bb))[_0x41a4e5(0x211)](Boolean)||0x0,this[_0x41a4e5(0x28f)]=_0x2ed357['spellcasting'][_0x41a4e5(0x251)](_0x4c9f24=>ImportListCreature[_0x41a4e5(0x346)](_0x4c9f24))[_0x41a4e5(0x211)](Boolean)||'';}static['_getSpellCount'](_0x5bc8e4){const _0x4642bc=_0x40b176;let _0x3506dd=0x0;return JSON[_0x4642bc(0x28d)](_0x5bc8e4)[_0x4642bc(0x2f9)](/{@spell [^}]+}/g,()=>{return _0x3506dd++,'';}),_0x3506dd;}[_0x40b176(0x31c)](_0x8b7148){return this['items']['findIndex'](_0x5f31fa=>{const _0x28c9a7=_0x574a;if(!_0x5f31fa?.[_0x28c9a7(0x2d1)]?.[SharedConsts[_0x28c9a7(0x196)]])return![];return _0x5f31fa[_0x28c9a7(0x2d1)][SharedConsts[_0x28c9a7(0x196)]]['page']===UrlUtil['PG_ITEMS']&&_0x5f31fa[_0x28c9a7(0x2d1)][SharedConsts[_0x28c9a7(0x196)]]['hash']===_0x8b7148;});}},ImportListCreature['ImportCustomizer']=class extends ImportCustomizer{constructor(_0x3ab654,_0x1f0af3,_0x3dd7e2){const _0x4769fc=_0x40b176;super(_0x3ab654,_0x1f0af3,{..._0x3dd7e2,'title':_0x4769fc(0x216),'template':SharedConsts[_0x4769fc(0x24e)]+_0x4769fc(0x170)});}static[_0x40b176(0x1a0)](_0x2da375){const _0x5f1773=_0x40b176;if(!_0x2da375[_0x5f1773(0x1e7)])return[];return _0x2da375['altArt']['filter'](_0x341bfb=>_0x341bfb['name']&&_0x341bfb[_0x5f1773(0x2af)]||_0x341bfb['tokenUrl'])[_0x5f1773(0x251)]((_0x5baa59,_0x7181b3)=>{const _0x282c75=_0x5f1773;if(_0x5baa59[_0x282c75(0x295)]&&_0x5baa59[_0x282c75(0x2af)])return{'name':Renderer[_0x282c75(0x2db)][_0x282c75(0x2b3)](_0x5baa59,{'isPlainText':!![]}),'ix':_0x7181b3};const _0x22d0ea=(''+_0x5baa59[_0x282c75(0x278)])[_0x282c75(0x27b)]('/')[_0x282c75(0x290)]()[_0x282c75(0x27b)]('.')[0x0][_0x282c75(0x192)]()||'(Unnamed)';let _0x4f1032;try{_0x4f1032=decodeURIComponent(_0x22d0ea);}catch(_0x1a239a){_0x4f1032=_0x22d0ea;}return{'name':_0x4f1032,'ix':_0x7181b3};});}[_0x40b176(0x258)](){const _0x32eae4=_0x40b176;return{...super[_0x32eae4(0x258)](),'rows':this[_0x32eae4(0x27e)]['map']((_0xdb91c2,_0x3f8272)=>{const _0x4b2db1=_0x32eae4,_0x335393=this[_0x4b2db1(0x210)](_0xdb91c2);return{'name':_0xdb91c2[_0x4b2db1(0x295)],'source':_0xdb91c2[_0x4b2db1(0x2af)],'sourceShort':Parser[_0x4b2db1(0x2c3)](_0xdb91c2['source']),'sourceLong':Parser[_0x4b2db1(0x2d6)](_0xdb91c2[_0x4b2db1(0x2af)]),'sourceClassName':Parser['sourceJsonToColor'](_0xdb91c2[_0x4b2db1(0x2af)]),'sourceStyle':BrewUtil2[_0x4b2db1(0x323)](_0xdb91c2[_0x4b2db1(0x2af)]),'cr':_0xdb91c2[_0x4b2db1(0x224)],'isAdjustableCr':Parser[_0x4b2db1(0x314)](_0xdb91c2['cr'])<VeCt['CR_CUSTOM'],'isAdjustableSummonSpellLevel':_0xdb91c2[_0x4b2db1(0x18a)]!=null,'availableSummonSpellLevels':_0xdb91c2[_0x4b2db1(0x18a)]!=null?[...Renderer[_0x4b2db1(0x2db)]['getSelSummonSpellLevel'](_0xdb91c2)['options']][_0x4b2db1(0x251)](_0x4edb36=>Number(_0x4edb36[_0x4b2db1(0x1f4)]))['filter'](_0xcdb60a=>~_0xcdb60a):null,'isAdjustableSummonClassLevel':_0xdb91c2[_0x4b2db1(0x21d)]!=null,'availableSummonClassLevels':_0xdb91c2[_0x4b2db1(0x21d)]!=null?[...new Array(VeCt[_0x4b2db1(0x1b3)])][_0x4b2db1(0x251)]((_0x5086d7,_0xf0c342)=>({'level':_0xf0c342+0x1,'className':_0xdb91c2[_0x4b2db1(0x21d)][_0x4b2db1(0x27b)]('|')[0x0][_0x4b2db1(0x349)]()})):null,'hasVariants':_0x335393[_0x4b2db1(0x2eb)]>0x0,'availableVariants':_0x335393,'availableTokens':this[_0x4b2db1(0x2c2)][_0x4b2db1(0x1a0)](_0xdb91c2),'ix':_0x3f8272};})};}[_0x40b176(0x210)](_0x5091f4){const _0x4fcffc=_0x40b176;return this['_getAvailableVariants'](_0x5091f4)[_0x4fcffc(0x251)]((_0x1ec0b0,_0x360954)=>({'ix':_0x360954,'name':_0x1ec0b0[_0x4fcffc(0x295)]}));}['_getAvailableVariants'](_0x5f1338){const _0x1d1d8f=_0x40b176;if(!_0x5f1338['_versions']?.[_0x1d1d8f(0x2eb)]&&!(_0x5f1338[_0x1d1d8f(0x190)]||[])['some'](_0x4b8220=>_0x4b8220?.['_version'])&&!Renderer[_0x1d1d8f(0x2db)][_0x1d1d8f(0x288)][_0x1d1d8f(0x226)](_0x5f1338))return[];const _0xa115d3=Renderer[_0x1d1d8f(0x2db)]['dragonCasterVariant'][_0x1d1d8f(0x226)](_0x5f1338)?Renderer[_0x1d1d8f(0x2db)][_0x1d1d8f(0x288)]['getMeta'](_0x5f1338):null;return[...DataUtil['proxy'][_0x1d1d8f(0x27d)](_0x5f1338['__prop'],_0x5f1338),_0xa115d3?.[_0x1d1d8f(0x2e8)]?.['length']?{'name':'Dragons\x20as\x20Innate\x20Spellcasters\x20(FTD)','fnApplyVariant':this['constructor']['_getVariant_dragonInnateSpellcaster_ftd'][_0x1d1d8f(0x209)](this[_0x1d1d8f(0x2c2)])}:null,_0xa115d3?.['exampleSpellsUnofficial']?.[_0x1d1d8f(0x2eb)]?{'name':_0x1d1d8f(0x16e),'fnApplyVariant':this[_0x1d1d8f(0x2c2)][_0x1d1d8f(0x242)][_0x1d1d8f(0x209)](this['constructor'])}:null][_0x1d1d8f(0x270)](Boolean);}static[_0x40b176(0x24d)](_0x21474b){const _0x446aaa=_0x40b176;return _0x21474b=MiscUtil[_0x446aaa(0x2d4)](_0x21474b),_0x21474b[_0x446aaa(0x347)]=[..._0x21474b[_0x446aaa(0x347)]||[],this[_0x446aaa(0x1c3)](_0x21474b,{'propExampleSpells':_0x446aaa(0x1c2)})],_0x21474b;}static[_0x40b176(0x242)](_0x169b2a){const _0x2d306c=_0x40b176;return _0x169b2a=MiscUtil[_0x2d306c(0x2d4)](_0x169b2a),_0x169b2a['spellcasting']=[..._0x169b2a[_0x2d306c(0x347)]||[],this[_0x2d306c(0x1c3)](_0x169b2a,{'propExampleSpells':'exampleSpellsFtd'})],_0x169b2a;}[_0x40b176(0x1ab)](_0x367c8a){const _0x5f5db6=_0x40b176;super[_0x5f5db6(0x1ab)](_0x367c8a),_0x367c8a['on'](_0x5f5db6(0x28e),_0x5f5db6(0x2f2),_0x23fc82=>{const _0xf54764=_0x5f5db6,_0x49158c=$(_0x23fc82[_0xf54764(0x2bb)]),_0x2e492a=_0x49158c['closest'](_0xf54764(0x16c))[_0xf54764(0x211)]('[data-name=\x22stg-token-custom\x22]');_0x2e492a[_0xf54764(0x193)](Number(_0x49158c[_0xf54764(0x235)]())===-0x2);})['on']('click',_0x5f5db6(0x2dd),async _0x424e7d=>{const _0x2a5b0a=_0x5f5db6,_0x15f028=$(_0x424e7d[_0x2a5b0a(0x2bb)]),_0x424baa=_0x15f028['closest'](_0x2a5b0a(0x16c))[_0x2a5b0a(0x211)]('[name=\x22ipt-token-custom\x22]'),_0x2db5e5=new FilePicker({'type':_0x2a5b0a(0x2ca),'current':_0x424baa['val'](),'callback':_0x52868d=>{const _0x3fb9f3=_0x2a5b0a;_0x424baa[_0x3fb9f3(0x235)](_0x52868d);}});_0x2db5e5[_0x2a5b0a(0x341)]();});}[_0x40b176(0x2da)]({$html:_0x3f5eb1}){const _0x2b796d=_0x40b176;this['_list']=new List({'$iptSearch':_0x3f5eb1[_0x2b796d(0x211)]('.search'),'$wrpList':_0x3f5eb1['find'](_0x2b796d(0x1a5)),'valueNames':['name',_0x2b796d(0x2af),'cr','ix']}),this[_0x2b796d(0x2a3)]['doAbsorbItems'](this[_0x2b796d(0x27e)],{'fnGetName':_0x454272=>_0x454272[_0x2b796d(0x295)],'fnGetValues':_0x395531=>({'source':_0x395531[_0x2b796d(0x2af)],'cr':Parser[_0x2b796d(0x312)](_0x395531['cr'])}),'fnGetData':_0x482f21=>{const _0x3d78d3=_0x2b796d,_0x345e1d=$(_0x482f21[_0x3d78d3(0x21e)]);return{'$selCr':_0x345e1d['find'](_0x3d78d3(0x2bd)),'$selSummonSpellLevel':_0x345e1d[_0x3d78d3(0x211)](_0x3d78d3(0x31f)),'$selSummonClassLevel':_0x345e1d[_0x3d78d3(0x211)]('[name=\x22sel-summon-class-level\x22]'),'$selVariant':_0x345e1d[_0x3d78d3(0x211)](_0x3d78d3(0x229)),'$iptRename':_0x345e1d[_0x3d78d3(0x211)](_0x3d78d3(0x2f5)),'$cbIsNamedCreature':_0x345e1d[_0x3d78d3(0x211)]('[name=\x22cb-is-named\x22]'),'$selToken':_0x345e1d[_0x3d78d3(0x211)](_0x3d78d3(0x2b6)),'$iptTokenCustom':_0x345e1d['find'](_0x3d78d3(0x181))};}}),this[_0x2b796d(0x2a3)][_0x2b796d(0x2b2)]();}[_0x40b176(0x1af)]({$html:_0x3feeee,$wrpBtnsSort:_0x20c156}){const _0x5c3d22=_0x40b176;this[_0x5c3d22(0x2aa)]=_0x3feeee['find'](_0x5c3d22(0x260))['click'](()=>{const _0x5d5455=_0x5c3d22;_0x3feeee[_0x5d5455(0x211)](_0x5d5455(0x1be))[_0x5d5455(0x235)]('');if(this['_list'])this['_list']['reset']();}),_0x3feeee[_0x5c3d22(0x211)](_0x5c3d22(0x32c))[_0x5c3d22(0x2f1)](async()=>{const _0x30c752=_0x5c3d22,_0x203bfa=this[_0x30c752(0x2a3)][_0x30c752(0x249)][_0x30c752(0x251)](_0x124d6b=>{const _0x21dea2=_0x30c752;return{'ix':_0x124d6b['ix'],'targetCr':_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x15d)][_0x21dea2(0x2eb)]?Number(_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x15d)][_0x21dea2(0x235)]())===-0x1?null:Number(_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x15d)][_0x21dea2(0x235)]()):null,'targetSpellLevel':_0x124d6b['data']['$selSummonSpellLevel']['length']?Number(_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x313)]['val']())===-0x1?null:Number(_0x124d6b['data'][_0x21dea2(0x313)][_0x21dea2(0x235)]()):null,'targetClassLevel':_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x185)][_0x21dea2(0x2eb)]?Number(_0x124d6b['data'][_0x21dea2(0x185)][_0x21dea2(0x235)]())===-0x1?null:Number(_0x124d6b['data'][_0x21dea2(0x185)][_0x21dea2(0x235)]()):null,'ixVariant':_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x2bf)][_0x21dea2(0x2eb)]?Number(_0x124d6b[_0x21dea2(0x186)]['$selVariant'][_0x21dea2(0x235)]())===-0x1?null:Number(_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x2bf)][_0x21dea2(0x235)]()):null,'rename':_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x292)]['val']()[_0x21dea2(0x192)](),'isNamedCreature':_0x124d6b['data'][_0x21dea2(0x1d2)][_0x21dea2(0x321)](_0x21dea2(0x22b)),'ixToken':Number(_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x169)][_0x21dea2(0x235)]())===-0x1?null:Number(_0x124d6b[_0x21dea2(0x186)][_0x21dea2(0x169)][_0x21dea2(0x235)]()),'tokenCustom':_0x124d6b[_0x21dea2(0x186)]['$iptTokenCustom'][_0x21dea2(0x235)]()};}),_0x3c96a1=await Promise['all'](_0x203bfa[_0x30c752(0x251)](async({ix:_0x55bbd7,targetCr:_0x40e852,targetSpellLevel:_0x33c99e,targetClassLevel:_0x28ebe7,ixVariant:_0x4696e6,rename:_0x3fd92b,isNamedCreature:_0x3c1a32,ixToken:_0x292191,tokenCustom:_0x15b730})=>{const _0x43b808=_0x30c752;let _0xfe9836=this[_0x43b808(0x27e)][_0x55bbd7];if(_0x4696e6!=null){const _0x544259=this['_getAvailableVariants'](_0xfe9836),_0x5b3301=_0x544259[_0x4696e6];if(_0x5b3301['fnApplyVariant'])_0xfe9836=_0x5b3301[_0x43b808(0x166)](_0xfe9836);else _0xfe9836=_0x5b3301;}if(_0x40e852!=null&&_0x40e852!==Parser[_0x43b808(0x314)](_0xfe9836['cr']))_0xfe9836=await ScaleCreature[_0x43b808(0x25d)](_0xfe9836,_0x40e852);else{if(_0x33c99e!=null)_0xfe9836=await ScaleSpellSummonedCreature[_0x43b808(0x25d)](_0xfe9836,_0x33c99e);else{if(_0x28ebe7!=null)_0xfe9836=await ScaleClassSummonedCreature[_0x43b808(0x25d)](_0xfe9836,_0x28ebe7);}}if(_0x3fd92b)_0xfe9836=await ImportListCreature[_0x43b808(0x28b)][_0x43b808(0x259)](_0xfe9836,{'newName':_0x3fd92b,'isNamedCreature':_0x3c1a32});if(_0x292191===-0x2)_0xfe9836[_0x43b808(0x278)]=_0x15b730;else{if(_0x292191!=null){const _0x155862=_0xfe9836['altArt'][_0x292191];_0xfe9836[_0x43b808(0x278)]=Renderer[_0x43b808(0x2db)]['getTokenUrl']({'name':_0x155862[_0x43b808(0x295)],'source':_0x155862['source'],'tokenUrl':_0x155862['tokenUrl']});}}return _0xfe9836;}));this[_0x30c752(0x1e6)](_0x3c96a1),await this['close']();});}static['_getCastingColorVariantSpellcastingTrait'](_0x199f25,{propExampleSpells:_0x4d9b7d}){const _0xe872bb=_0x40b176,_0x317367=Renderer[_0xe872bb(0x2db)][_0xe872bb(0x288)]['getMeta'](_0x199f25),_0x5cef80=Renderer[_0xe872bb(0x2db)][_0xe872bb(0x288)][_0xe872bb(0x23c)](_0x317367);return{'name':_0xe872bb(0x17f),'headerEntries':[_0x5cef80],'daily':{'1e':_0x317367[_0x4d9b7d]['map'](_0x26807e=>_0xe872bb(0x26b)+_0x26807e+'}')},'ability':'cha'};}static[_0x40b176(0x259)](_0x14a9b3,{newName:_0x5996da,isNamedCreature:_0x3aa0b8}){const _0x278285=_0x40b176;ImportListCreature[_0x278285(0x28b)][_0x278285(0x1ad)]=ImportListCreature[_0x278285(0x28b)][_0x278285(0x1ad)]||MiscUtil['getWalker'](),_0x14a9b3=MiscUtil[_0x278285(0x2d4)](_0x14a9b3);const _0x381566=this[_0x278285(0x1f7)](_0x14a9b3),_0x46e061=_0x5996da[_0x278285(0x2f9)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22'),_0x2d844a=new RegExp('\x5cb'+(_0x3aa0b8&&!_0x14a9b3[_0x278285(0x2d5)]?_0x278285(0x2c6):'')+_0x14a9b3[_0x278285(0x295)][_0x278285(0x19f)]()+'\x5cb','gi'),_0x1c6ca2=_0x381566&&_0x381566['trim']()!==_0x14a9b3[_0x278285(0x295)][_0x278285(0x245)]()[_0x278285(0x192)]()?new RegExp('\x5cb'+(_0x3aa0b8&&!_0x14a9b3['isNamedCreature']?_0x278285(0x2c6):'')+_0x381566[_0x278285(0x19f)]()+'\x5cb','g'):null,_0x3fbfd6=_0x1ba925=>{const _0xc8f29d=_0x278285;if(!_0x14a9b3[_0x1ba925])return;_0x14a9b3[_0x1ba925][_0xc8f29d(0x1e9)](_0x61f5af=>{const _0x4050a4=_0xc8f29d;ImportListCreature['ImportCustomizer'][_0x4050a4(0x2a6)]['forEach'](_0x37b343=>{const _0x3bfc84=_0x4050a4;if(!_0x61f5af[_0x37b343])return;_0x61f5af[_0x37b343]=ImportListCreature[_0x3bfc84(0x28b)][_0x3bfc84(0x1ad)][_0x3bfc84(0x200)](_0x61f5af[_0x37b343],{'string':_0x36470b=>{return _0x36470b=_0x36470b['replace'](_0x2d844a,(..._0x29d6ac)=>{const _0x2c6e39=_0x574a;if(this[_0x2c6e39(0x198)]({'str':_0x36470b,'m':_0x29d6ac,'isNamedCreature':_0x3aa0b8}))return _0x29d6ac[0x0];return _0x46e061;}),_0x1c6ca2&&(_0x36470b=_0x36470b['replace'](_0x1c6ca2,(..._0x2e8c72)=>{if(this['_pGetRenamedMon_isSkipReplace']({'str':_0x36470b,'m':_0x2e8c72,'isNamedCreature':_0x3aa0b8}))return _0x2e8c72[0x0];return _0x46e061;})),_0x36470b;}});});});};ImportListCreature[_0x278285(0x28b)][_0x278285(0x2cc)][_0x278285(0x1e9)](_0x2dc3a6=>_0x3fbfd6(_0x2dc3a6)),_0x14a9b3[_0x278285(0x24a)]=_0x3aa0b8?_0x5996da:_0x5996da[0x0]===(_0x5996da[0x0]||'')['toUpperCase']()?_0x5996da:_0x5996da['toTitleCase']();if(_0x3aa0b8)_0x14a9b3[_0x278285(0x2d5)]=!![];return _0x14a9b3;}static['_pGetRenamedMon_isSkipReplace']({str:_0x3d5269,m:_0x437f0e,isNamedCreature:_0x76e276}){const _0x5b3261=_0x40b176,_0x357d05=_0x437f0e[_0x437f0e[_0x5b3261(0x2eb)]-0x2];if(_0x76e276&&/^ lycanthropy\b/['test'](_0x3d5269[_0x5b3261(0x20f)](_0x357d05+_0x437f0e[0x0][_0x5b3261(0x2eb)])))return!![];return![];}static[_0x40b176(0x1f7)](_0x646e16){const _0x31cb93=_0x40b176;if(_0x646e16['isNamedCreature'])return null;if(_0x646e16[_0x31cb93(0x2be)])return _0x646e16[_0x31cb93(0x2be)]===!![]?null:_0x646e16[_0x31cb93(0x2be)];let _0x50781b=null;return ImportListCreature[_0x31cb93(0x28b)][_0x31cb93(0x2cc)][_0x31cb93(0x1e9)](_0x6862f4=>{const _0x1f09d4=_0x31cb93;if(!_0x646e16[_0x6862f4])return;_0x646e16[_0x6862f4][_0x1f09d4(0x1e9)](_0x546e4a=>{const _0x29889b=_0x1f09d4;ImportListCreature[_0x29889b(0x28b)][_0x29889b(0x2a6)][_0x29889b(0x1e9)](_0x42cf84=>{const _0x45f46c=_0x29889b;if(!_0x546e4a[_0x42cf84])return;_0x546e4a[_0x42cf84]=ImportListCreature['ImportCustomizer'][_0x45f46c(0x1ad)][_0x45f46c(0x200)](_0x546e4a[_0x42cf84],{'string':_0x147724=>{const _0x3aa518=_0x45f46c;if(_0x50781b)return _0x147724;return ImportListCreature[_0x3aa518(0x28b)][_0x3aa518(0x1fe)][_0x3aa518(0x1e9)](_0x1f5b9d=>{const _0x5508e3=_0x3aa518;_0x147724[_0x5508e3(0x2f9)](_0x1f5b9d,(..._0x384a0e)=>{const _0x317363=_0x5508e3,_0x45f391=_0x384a0e['last']()[_0x317363(0x295)];if(ImportListCreature['ImportCustomizer'][_0x317363(0x1a1)][_0x317363(0x161)](_0x1ed414=>_0x1ed414['test'](_0x45f391)))return;_0x50781b=_0x45f391;});}),_0x147724;}});});});}),_0x50781b;}},ImportListCreature['ImportCustomizer'][_0x40b176(0x1ad)]=null,ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x2cc)]=['action',_0x40b176(0x1da),_0x40b176(0x2e5),_0x40b176(0x265),_0x40b176(0x174),_0x40b176(0x165),_0x40b176(0x173)],ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x2a6)]=['entries','headerEntries'],ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x1ec)]=_0x40b176(0x21c),ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x248)]=_0x40b176(0x18c),ImportListCreature[_0x40b176(0x28b)]['_RE_SHORTNAME__IF_THE']=new RegExp(_0x40b176(0x302)+ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x248)]+'\x20'+ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x1ec)]),ImportListCreature[_0x40b176(0x28b)]['_RE_SHORTNAME__THE']=new RegExp(_0x40b176(0x227)+ImportListCreature[_0x40b176(0x28b)]['_RE_SHORTNAME_PT_NAME']+'\x20'+ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x1ec)]),ImportListCreature[_0x40b176(0x28b)]['_RES_SHORTNAME']=[ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x31e)],ImportListCreature['ImportCustomizer'][_0x40b176(0x2fc)]],ImportListCreature[_0x40b176(0x28b)][_0x40b176(0x1a1)]=[/^target$/i];export{ImportListCreature};