const _0x16222=_0x2027;(function(_0x4064d9,_0x455cf6){const _0x2e70fc=_0x2027,_0x193b47=_0x4064d9();while(!![]){try{const _0x4588ff=-parseInt(_0x2e70fc(0x1eb))/0x1*(-parseInt(_0x2e70fc(0x313))/0x2)+-parseInt(_0x2e70fc(0x255))/0x3+parseInt(_0x2e70fc(0x258))/0x4*(-parseInt(_0x2e70fc(0x2d1))/0x5)+-parseInt(_0x2e70fc(0x294))/0x6*(-parseInt(_0x2e70fc(0x2ec))/0x7)+parseInt(_0x2e70fc(0x27e))/0x8+parseInt(_0x2e70fc(0x2e9))/0x9+-parseInt(_0x2e70fc(0x24b))/0xa*(parseInt(_0x2e70fc(0x2fc))/0xb);if(_0x4588ff===_0x455cf6)break;else _0x193b47['push'](_0x193b47['shift']());}catch(_0x3d7971){_0x193b47['push'](_0x193b47['shift']());}}}(_0x1763,0x2eb84));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';import{Charactermancer_ConditionImmunitySelect,Charactermancer_DamageVulnerabilitySelect,Charactermancer_DamageResistanceSelect,Charactermancer_DamageImmunitySelect,Charactermancer_OtherProficiencySelect,Charactermancer_ExpertiseSelect}from'./UtilCharactermancer.js';function _0x1763(){const _0x54f21e=['getNameWithSourcePart','_pGetIsIgnoredSideLoaded','_opts','_SET_PHYSICAL_DAMAGE','doApplyDamageVulnerabilityFormDataToActorUpdate','turn','C_BOOL_DISABLED','PRIORITY_BASE','cube','@attributes.movement.walk','formula','durationValue','combinedFoundryData','combinedFoundryFlags','getAbilityModNumber','actorTraitProp','_PROPS_DAMAGE_IMM_VULN_RES','getMappedArmorProficiencies','entries','piercing','mutTokenSight','_doApplyFormData_doCheckAddCustomItem','find','keys','_pGetImgSideLoaded','_CASTER_PROGRESSIONS','activationCondition','setEq','spell','skills','WALKER_GENERIC','pFillActorToolProfData','summonSpellLevel','getTagUids','mutActorUpdate','SYM_AT','error','durationUnits','choose','duration','fnGetMappedItem','condition','_pGetStarSideLoaded','fnGetMappedCustomItem','getMetricNumberDistance','ABIL_ABVS','(Unnamed)','set','VALID_DAMAGE_TYPES','rsak','saveAbility','215nLwUlU','filter','includes','line','_pGetImgCustom','doApplySavingThrowProficienciesFormDataToActorUpdate','_pGetIsIgnoredSideLoaded_','mutEffectsDisabledTransfer','scalarAddUnit','_getImgFallback','object','getMappedToolProficiencies','pGetImageUrlFromFluff','pGetIconImage','_mutActorUpdate_mutFromSideMod','_pGetDataSideLoaded_','type','length','depth','isCancelled','conditionals','getSentences','@srd5e.userchar.pb','anyStandard','3028257GBXyRV','foundryType','C_USE_PLUT_VALUE','406oWeswg','renderDepth','getDamagePartsAndOtherFormula','cone','stringify','getCleanEntityName','in\x20imported\x20embedded\x20entities','consumeType','notifications','truesight','doApplyDamageResistanceFormDataToActorUpdate','unitShort','advancement','some','climb','index','55TjxTjI','armorProficiencies','trim','melee','consume.type','getAttackActionType','consumeTarget','tremorsense','splitTagByPipe','_getActorDamageResImmVulnConditionImm_addDamageTypesOrConditionTypes','units','_mutActorUpdate_mutFromSideTokenMod','\x20Speed','foundryData','fvttType','charges','isSpeedHover','rangeUnits','exec','getApi','slice','contents','\x20([^}]+)}','6vibhYf','feat','ITEM_TYPES_ACTOR_TOOLS','count','getSpeedValue','SKILL_ABV_TO_FULL','pFillActorSkillData','save','getCombinedFoundryData','player','floor((@abilities.','pGetEntryDescription','_pGetEntryDescription_getCleanDisplayPart','foundryImg','_PassiveEntryParseState','import','_pGetItemActorPassive_mutSave_player','doApplyOtherProficienciesFormData','{@dice\x201d20\x20+\x20@srd5e.userchar.spellAttackRanged|your\x20spell\x20attack\x20modifier}','map','toolProficiencies','getMappedLanguageProficiencies','max','getMovement','{@dc\x20','vision','pGetSideJson','pGetSpeedEffects','_pGetStarSideLoadedFound','source','_getProfBonusExpressionParts','pFillActorArmorProfData','1/2','toolProf','data','Tool','_pGetItemActorPassive_mutActivation_playerCompat','vulnerable','custom','brightSight','per','name','none','add','_pGetEffectsSideLoaded','getMappedTool','sphere','square','targetUnits','getActorDamageResImmVulnConditionImm','doApplyWeaponProficienciesFormDataToActorUpdate','TERMS_COUNT','abilityDc','additionalFlags','isSkipDescription','ACTIVE_EFFECT_MODES','render','_pGetImgSideLoaded_','dae','pGetIconLookup','rounds','stripTags','doApplyArmorProficienciesFormDataToActorUpdate','toTitleCase','pGetItemActorPassive','_pGetSideLoadedMatch','bludgeoning','from','reactiondamage','1Reaction','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','doApplyToolProficienciesFormDataToActorUpdate','flat','effectsAdditional','getRollData','MODULE_PLUTONIUM_ADDON_DATA','additionalData','radius','pFillActorWeaponProfData','str','getDamageTupleMetas','_pGetAdvancementSideLoaded','doApplyExpertiseFormDataToActorUpdate','_pGetItemActorPassive_mutActivation_creatureCompat','isPreferFoundryImages','Unhandled\x20mode\x20\x22','warn','isOnFailSavingThrow','pFillActorExpertiseData','prop','test','uses','getWalker','getExpandedEffects','setEffectTransfer','abil','entity','actorDataMod','darkvision','isModuleActive','activationType','targetValue','_pGetImagePath_pGetCompendiumImage','special','_pGetAdvancementSideLoaded_','setEffectDisabled','indexOf','usesValue','long\x20rest','isPlutoniumAddonDataActive','unit','getMappedArmorProficiency','VALID_CONDITIONS','conditionImmune','proficient','ITEM_TYPES_ACTOR_ARMOR','doApplySkillFormDataToActorUpdate','fvttSource','_pGetItemActorPassive_mutUses','ADD','every','rangeShort','_entry','creature','_IMG_FALLBACK','heal','getAttackRange','actorTokenMod','_pGetItemActorPassive_mutActionType_creature','_pGetEntryDescription_getCleanDicePart','languageProficiencies','pGetSideLoadedType_','_pGetItemActorPassive_getTargetMeta','109321pGAfrV','immune','_pGetImagePath','mwak','))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20(','getParsedWeaponEntryData','MODULE_DAE','doApplyLanguageProficienciesFormDataToActorUpdate','getMetricUnitDistance','value','assign','_pGetItemActorPassive_mutUses_creature','modeOptions','_SIDE_LOAD_OPTS','swim','_getCompendiumAliases','diseased','flags','setMax','pFillActorImmunityData',')\x5c))?','saveScaling','unique','isIgnored','SKILL_TO_ATB_ABV','_pGetItemActorPassive_mutActionType_player','doApplyConditionImmunityFormDataToActorUpdate','ITEM_TYPES_ACTOR_WEAPONS','PRIORITY_BONUS','push','senses','_isOnActivationEffect','scalar','attributes','PLUT_CONTEXT','seconds','last','fly','pGetWithDescriptionPlugins','mult','_displayName','attribute','_pGetItemActorPassive_mutSave','vehicle','MODULE_NAME','damageParts','segregate','pFillActorLanguageOrToolData','reactionmanual','\x20+\x20','traits','boolean','appendIfNotExistsArr','getImportedEmbed','size','reaction','foundryIsIgnored','toLowerCase','requirements','mod','physical','disabled','blindsight','token','transfer','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','_pFillActorSkillToolLanguageData_doAddProfType','rangeLong','min','bonus','split','isMidiQolActive','requires','abilities','bind','resources.primary.value','getFullImmRes','getConsumedSheetItem','actor','getMappedWeaponProficiency','ability','_pGetItemActorPassive_mutActivation_creature','action','usesMax','ascSortLower','\x20*\x20','foundryAdvancement','isDaeActive','pGetUserInput','usesPer','get','_getSideLoadOpts','string','replace','burrow','number','622190gbHrre','_merge','consumeAmount','pOptionallySaveImageToServerAndGetUrl','doApplyDamageImmunityFormDataToActorUpdate','feet','saveDc','shape','languages','_mutActorUpdate_mutFromSideMod_handleProp','934149aQsLOk','getCombinedFoundryFlags','utils','4340EBxybX','modules/','isUseOtherFormulaFieldForSaveHalvesDamage','tuple','pInit','dimSight','walk','groups','_pGetFlagsSideLoaded','pFillActorConditionImmunityData','resist','page','copy','join','getOrSet','Could\x20not\x20find\x20loaded\x20item\x20data','getGenericEffect','forEach','_pGetItemActorPassive_mutActionType','_pGetAdditional_fnMatch','day','.value\x20-\x2010)\x20/\x202)','any','pFillActorLanguageData','activationCost','Skill','msak','other','@prof','_pGetItemActorPassive_mutUses_player','_SPEED_PROPS_IS_EQUAL_MAP','sideData','targetType','_pGetEffectsRawSideLoaded','items','_pGetFlagsSideLoaded_','img','actionType','1486824NdShJe','self','SYM_UI_SKIP','pact','getMappedWeaponProficiencies','durationExpression','_pGetItemActorPassive_mutActivation_player','deepEquals','tokens','has','mode','<PLUT_SYM__AT>','effects','_pGetItemActorPassive_mutSave_creature','slashing','description','specialDuration','sort','getFullCondImm','_pGetEffectsRawSideLoaded_','note','getFeatureFlags','1056wtRfrD','_pFillActorSkillToolLanguageData_doMergeToSingleArray','C_BOOL_ENABLED','rwak','data.attributes.ac.bonus','uses.per','skillProficiencies','_mutActorUpdate_mutFromSideDataMod','WALKER_READONLY_GENERIC','getMappedLanguage'];_0x1763=function(){return _0x54f21e;};return _0x1763();}import{LGT,Util}from'./Util.js';import{UtilCompat}from'./UtilCompat.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{UtilCompendium}from'./UtilCompendium.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';function _0x2027(_0x569d56,_0x3e13d6){const _0x17630b=_0x1763();return _0x2027=function(_0x2027ee,_0x422ffc){_0x2027ee=_0x2027ee-0x1a8;let _0x5459c5=_0x17630b[_0x2027ee];return _0x5459c5;},_0x2027(_0x569d56,_0x3e13d6);}import{ConfigConsts}from'./ConfigConsts.js';class DataConverter{static ['_SIDE_LOAD_OPTS']=null;static async['_pGetDataSideLoaded'](_0x3f6f9a,{propOpts:propOpts=_0x16222(0x1f8)}={}){const _0x582d77=_0x16222,_0x3696a8=this[_0x582d77(0x246)](_0x3f6f9a)||this[propOpts];if(!_0x3696a8)return null;return DataConverter[_0x582d77(0x2e0)](_0x3f6f9a,_0x3696a8);}static async[_0x16222(0x260)](_0x21219f,{propOpts:propOpts='_SIDE_LOAD_OPTS'}={}){const _0x16e556=_0x16222,_0x2c8cce=this['_getSideLoadOpts'](_0x21219f)||this[propOpts];if(!_0x2c8cce)return null;return DataConverter[_0x16e556(0x27b)](_0x21219f,_0x2c8cce);}static async[_0x16222(0x1b7)](_0x529336,{propOpts:propOpts=_0x16222(0x1f8)}={}){const _0x46732e=_0x16222,_0x3a958a=this[_0x46732e(0x246)](_0x529336)||this[propOpts];if(!_0x3a958a)return null;return DataConverter['_pGetAdvancementSideLoaded_'](_0x529336,_0x3a958a);}static async[_0x16222(0x2b6)](_0x2dc564,{propOpts:propOpts='_SIDE_LOAD_OPTS'}={}){const _0x31d8dc=_0x16222,_0x54f3a8=this['_getSideLoadOpts'](_0x2dc564)||this[propOpts];if(!_0x54f3a8)return null;return DataConverter[_0x31d8dc(0x34c)](_0x2dc564,_0x54f3a8);}static async[_0x16222(0x29f)](_0x5d2083,{propOpts:propOpts=_0x16222(0x1f8)}={}){const _0xe85e37=_0x16222,_0x22f2c8=this[_0xe85e37(0x246)](_0x5d2083)||this[propOpts];if(!_0x22f2c8)return null;return DataConverter[_0xe85e37(0x2d7)](_0x5d2083,_0x22f2c8);}static async[_0x16222(0x279)](_0x4e8769,{propOpts:propOpts=_0x16222(0x1f8)}={}){const _0x4ba96d=_0x16222,_0x3de8bb=this[_0x4ba96d(0x246)](_0x4e8769)||this[propOpts];if(!_0x3de8bb)return null;return DataConverter[_0x4ba96d(0x291)](_0x4e8769,_0x3de8bb);}static async[_0x16222(0x33f)]({ent:_0x2e5eac,actor:actor=null,sheetItem:sheetItem=null,additionalData:additionalData=null,img:img=null},{propOpts:propOpts=_0x16222(0x1f8)}={}){const _0x334552=_0x16222,_0x4a6e44=await this[_0x334552(0x279)](_0x2e5eac,{'propOpts':propOpts});if(!_0x4a6e44?.[_0x334552(0x2e2)])return null;return UtilActiveEffects[_0x334552(0x1c3)](_0x4a6e44,{'actor':actor,'sheetItem':sheetItem,'parentName':_0x2e5eac[_0x334552(0x213)]||_0x2e5eac[_0x334552(0x33c)],'img':img});}static[_0x16222(0x246)](_0x5ebe06){return null;}static [_0x16222(0x1e2)]=null;static async[_0x16222(0x1ed)](_0x3deacf,{fluff:_0xa2ca64,propCompendium:_0x3f382d}={}){return this['_pGetImagePath_'](_0x3deacf,{'fluff':_0xa2ca64,'propCompendium':_0x3f382d});}static async['_pGetSaveImagePath'](_0x495c1c,{fluff:_0xe1b175,propCompendium:_0xd6bd74}={}){const _0x316f7b=_0x16222;return Vetools[_0x316f7b(0x24e)](await this[_0x316f7b(0x1ed)](_0x495c1c,{'fluff':_0xe1b175,'propCompendium':_0xd6bd74}));}static async['_pGetImagePath_'](_0x54aa1f,{fluff:_0x1490ab,propCompendium:_0x551865}={}){const _0x106cfd=_0x16222;if(_0x54aa1f[_0x106cfd(0x320)])return _0x54aa1f[_0x106cfd(0x320)];const _0x57ea49=await this[_0x106cfd(0x2b6)](_0x54aa1f);if(_0x57ea49)return _0x57ea49;const _0x53e0dd=[async()=>{const _0x6b1194=_0x106cfd,_0x51f81a=await this[_0x6b1194(0x2d5)](_0x54aa1f);if(_0x51f81a)return _0x51f81a;if(_0x1490ab){const _0x18dda1=await Vetools[_0x6b1194(0x2dd)](_0x1490ab);if(_0x18dda1)return _0x18dda1;}},async()=>{if(!_0x551865)return null;const _0x43173a=await this['_pGetImagePath_pGetCompendiumImage']({'ent':_0x54aa1f,'propCompendium':_0x551865});if(_0x43173a)return _0x43173a;}];if(Config[_0x106cfd(0x245)](_0x106cfd(0x322),_0x106cfd(0x1ba)))_0x53e0dd['reverse']();for(const _0x5d1127 of _0x53e0dd){const _0x55f619=await _0x5d1127();if(_0x55f619)return _0x55f619;}const _0x51aa2b=this[_0x106cfd(0x2da)](_0x54aa1f);if(_0x51aa2b)return _0x51aa2b;return this[_0x106cfd(0x1e2)];}static async[_0x16222(0x1cc)]({ent:_0x5dabe2,propCompendium:_0xdf6335}){const _0x33e0fc=_0x16222;return UtilCompendium['pGetCompendiumImage'](_0xdf6335,_0x5dabe2,{'fnGetAliases':this[_0x33e0fc(0x1fa)][_0x33e0fc(0x235)](this),'isIgnoreSrd':!![]});}static async[_0x16222(0x2d5)](_0x5eb607){return null;}static[_0x16222(0x2da)](_0x5daa13){return null;}static[_0x16222(0x1fa)](_0x10b6a9){return[];}static[_0x16222(0x2bf)](_0x3663e5,_0xad322a){const _0x4c2302=_0x16222,_0x3354de=new RegExp('{@'+_0x3663e5+_0x4c2302(0x312),'gi'),_0xeb488e=[];return _0xad322a[_0x4c2302(0x248)](_0x3354de,(..._0x3c1049)=>_0xeb488e[_0x4c2302(0x208)](_0x3c1049[0x1])),_0xeb488e;}static async[_0x16222(0x2de)](_0x3c095d,_0x386cb9){const _0x1af9d3=_0x16222;switch(_0x3c095d){case _0x1af9d3(0x314):case _0x1af9d3(0x2ba):{const _0x4f9a02=await Vetools[_0x1af9d3(0x34e)](_0x3c095d),_0x228b88=MiscUtil['get'](_0x4f9a02,_0x386cb9[_0x1af9d3(0x330)],_0x386cb9[_0x1af9d3(0x33c)]);if(!_0x228b88)return null;return _0x1af9d3(0x259)+SharedConsts[_0x1af9d3(0x217)]+'/'+_0x228b88;}default:return null;}}static[_0x16222(0x31b)](_0x2e71c2,_0x40a549){const _0x34fea5=_0x16222;if(!_0x40a549&&!_0x2e71c2)return{};const _0x42058a=MiscUtil[_0x34fea5(0x264)](_0x40a549||{});return Object['assign'](_0x42058a,MiscUtil[_0x34fea5(0x264)](_0x2e71c2||{})),_0x42058a;}static[_0x16222(0x256)](_0x325d48,_0x3e7a0d){const _0x154d95=_0x16222;if(!_0x325d48&&!_0x3e7a0d)return{};const _0x57ffac=MiscUtil[_0x154d95(0x264)](_0x3e7a0d||{});return Object[_0x154d95(0x2b0)](MiscUtil['copy'](_0x325d48||{}))[_0x154d95(0x269)](([_0x52bf79,_0x2d0e4c])=>{const _0x55b2c2=_0x154d95;if(!_0x57ffac[_0x52bf79])return _0x57ffac[_0x52bf79]=_0x2d0e4c;Object[_0x55b2c2(0x1f5)](_0x57ffac[_0x52bf79],_0x2d0e4c);}),_0x57ffac;}static async[_0x16222(0x31e)](_0x2e11ba,_0x3847d8){const _0x2998b0=_0x16222;_0x3847d8=_0x3847d8||{},_0x3847d8[_0x2998b0(0x1bf)]=_0x3847d8['prop']||_0x2998b0(0x2b0);let _0x2654c8='';if(_0x2e11ba[_0x3847d8[_0x2998b0(0x1bf)]]){let _0x35759b=MiscUtil[_0x2998b0(0x264)](_0x2e11ba[_0x3847d8[_0x2998b0(0x1bf)]]);_0x35759b=UtilDataConverter[_0x2998b0(0x2bc)][_0x2998b0(0x25e)](_0x35759b,{'string':_0x1d6f7a=>{const _0x2d6bcb=_0x2998b0;return _0x1d6f7a[_0x2d6bcb(0x248)](/{@hitYourSpellAttack}/gi,()=>_0x2d6bcb(0x325))[_0x2d6bcb(0x248)](/{(@dice|@damage|@scaledice|@scaledamage|@hit) ([^}]+)}/gi,(..._0x99faef)=>{const _0x1b74f6=_0x2d6bcb,[,_0x4ee629,_0xfcbe56]=_0x99faef;let [_0x4b58e3,_0x188f82,_0x21dc92,..._0x3246ed]=Renderer[_0x1b74f6(0x304)](_0xfcbe56);const _0x259105=_0x4b58e3;return _0x4b58e3=this['_pGetEntryDescription_getCleanDicePart'](_0x4b58e3,_0x3847d8),_0x188f82=this[_0x1b74f6(0x31f)]({'displayText':_0x188f82,'originalText':_0x259105,'text':_0x4b58e3}),'{'+_0x4ee629+'\x20'+[_0x4b58e3,_0x188f82||'',_0x21dc92||'',..._0x3246ed][_0x1b74f6(0x265)]('|')+'}';})['replace'](/{(@dc) ([^}]+)}/gi,(..._0x45fe4b)=>{const _0x6f47d=_0x2d6bcb,[,_0x242481,_0x52acb8]=_0x45fe4b;let [_0x157745,_0x5a74db]=Renderer[_0x6f47d(0x304)](_0x52acb8);const _0x8c5e1d=_0x157745;return _0x157745=this[_0x6f47d(0x1e7)](_0x157745,_0x3847d8),_0x5a74db=this[_0x6f47d(0x31f)]({'displayText':_0x5a74db,'originalText':_0x8c5e1d,'text':_0x157745}),'{'+_0x242481+'\x20'+[_0x157745,_0x5a74db||'']['join']('|')+'}';});}}),_0x2654c8=await UtilDataConverter[_0x2998b0(0x211)](()=>Renderer[_0x2998b0(0x245)]()['setFirstSection'](!![])[_0x2998b0(0x34b)]({'type':_0x2998b0(0x2b0),'entries':_0x35759b},_0x3847d8[_0x2998b0(0x2e3)]!=null?_0x3847d8[_0x2998b0(0x2e3)]:0x2));}return _0x2654c8;}static[_0x16222(0x1e7)](_0x342217,_0x1be373){const _0x317297=_0x16222;return _0x342217[_0x317297(0x248)](/\bPB\b/gi,_0x317297(0x2e7))[_0x317297(0x248)](/\bsummonSpellLevel\b/gi,''+(_0x1be373['summonSpellLevel']??0x0));}static['_pGetEntryDescription_getCleanDisplayPart']({displayText:_0xaa6b66,originalText:_0xa252ad,text:_0x5579d1}){const _0x4239b7=_0x16222;return!_0xaa6b66&&_0xa252ad!==_0x5579d1&&(_0xaa6b66=_0xa252ad[_0x4239b7(0x248)](/\bsummonSpellLevel\b/gi,'the\x20spell\x27s\x20level')),_0xaa6b66;}static[_0x16222(0x2c0)](_0x957523,_0x4212c7,_0xb8dce3,_0x505430){const _0x47b46c=_0x16222;_0x505430=_0x505430||{},this['_mutActorUpdate_mutFromSideDataMod'](_0x957523,_0x4212c7,_0x505430),this[_0x47b46c(0x307)](_0x957523,_0x4212c7,_0x505430);}static[_0x16222(0x29b)](_0x53dd09,_0x547ffd,_0x23524c){const _0x133625=_0x16222;return this[_0x133625(0x2df)](_0x53dd09,_0x547ffd,_0x23524c,_0x133625(0x1c7),'data');}static[_0x16222(0x307)](_0x178d27,_0x5c28ed,_0x15cf16){const _0x172f04=_0x16222;return this[_0x172f04(0x2df)](_0x178d27,_0x5c28ed,_0x15cf16,_0x172f04(0x1e5),_0x172f04(0x22a));}static['_mutActorUpdate_mutFromSideMod'](_0x4d0098,_0x23bdaa,_0x15c062,_0x3770ec,_0x324c27){const _0x1eb921=_0x16222;if(!_0x15c062['sideData']||!_0x15c062[_0x1eb921(0x277)][_0x3770ec])return;Object[_0x1eb921(0x2b0)](_0x15c062[_0x1eb921(0x277)][_0x3770ec])[_0x1eb921(0x269)](([_0x2c00fe,_0x6dc634])=>this['_mutActorUpdate_mutFromSideMod_handleProp'](_0x4d0098,_0x23bdaa,_0x15c062,_0x3770ec,_0x324c27,_0x2c00fe,_0x6dc634));}static[_0x16222(0x254)](_0x4b4772,_0x508b74,_0x4d6c90,_0x281e42,_0x3faad6,_0x38cc71,_0x471578){const _0x59e0b2=_0x16222,_0x5ac185=_0x38cc71[_0x59e0b2(0x231)]('.');if(_0x38cc71==='_'){_0x471578[_0x59e0b2(0x269)](_0x45981b=>{const _0x4c749d=_0x59e0b2;switch(_0x45981b[_0x4c749d(0x288)]){case _0x4c749d(0x2e5):{for(const _0x2f64da of _0x45981b[_0x4c749d(0x2e5)]){window[_0x4c749d(0x20d)]={'actor':_0x4b4772};if(_0x2f64da[_0x4c749d(0x2c7)]&&!eval(_0x2f64da[_0x4c749d(0x2c7)]))continue;Object[_0x4c749d(0x2b0)](_0x2f64da[_0x4c749d(0x226)])[_0x4c749d(0x269)](([_0x238d79,_0x57c691])=>this['_mutActorUpdate_mutFromSideMod_handleProp'](_0x4b4772,_0x508b74,_0x4d6c90,_0x281e42,_0x3faad6,_0x238d79,_0x57c691));break;}break;}default:throw new Error(_0x4c749d(0x1bb)+_0x45981b[_0x4c749d(0x288)]+'\x22');}});return;}const _0x152546=MiscUtil[_0x59e0b2(0x245)](_0x4b4772,_0x59e0b2(0x335),_0x3faad6,..._0x5ac185),_0x2bf1c6=MiscUtil['get'](_0x508b74,_0x3faad6,..._0x5ac185),_0x78d027=_0x2bf1c6||_0x152546;_0x471578[_0x59e0b2(0x269)](_0x5ba489=>{const _0xdb9da4=_0x59e0b2;switch(_0x5ba489[_0xdb9da4(0x288)]){case'appendStr':{const _0x1876c4=MiscUtil[_0xdb9da4(0x245)](_0x508b74,_0x3faad6,..._0x5ac185),_0x4631d1=_0x1876c4?''+_0x1876c4+(_0x5ba489['joiner']||'')+_0x5ba489[_0xdb9da4(0x1b5)]:_0x5ba489[_0xdb9da4(0x1b5)];MiscUtil[_0xdb9da4(0x2cd)](_0x508b74,_0x3faad6,..._0x5ac185,_0x4631d1);break;}case _0xdb9da4(0x21f):{const _0x204a49=MiscUtil['copy'](_0x78d027||[]),_0x467f3b=[..._0x204a49];_0x467f3b[_0xdb9da4(0x208)](..._0x5ba489[_0xdb9da4(0x27a)][_0xdb9da4(0x2d2)](_0x11470d=>!_0x204a49[_0xdb9da4(0x2f9)](_0x1785b8=>CollectionUtil[_0xdb9da4(0x285)](_0x11470d,_0x1785b8)))),MiscUtil[_0xdb9da4(0x2cd)](_0x508b74,_0x3faad6,..._0x5ac185,_0x467f3b);break;}case'scalarAdd':{MiscUtil[_0xdb9da4(0x2cd)](_0x508b74,_0x3faad6,..._0x5ac185,_0x5ba489['scalar']+_0x78d027||0x0);break;}case _0xdb9da4(0x2d9):{const _0x1236e3=(''+(_0x78d027||0x0))[_0xdb9da4(0x224)](),_0x2213b9=_0x3f7e76=>{const _0x126c35=_0xdb9da4,_0x30caad=_0x1236e3[_0x126c35(0x1d0)](_0x3f7e76[_0x126c35(0x224)]());let _0xcec394=_0x78d027[_0x126c35(0x310)](0x0,_0x30caad);const _0x3cf070=_0x78d027[_0x126c35(0x310)](_0x30caad),_0x2ba972=_0xcec394['endsWith']('\x20');_0xcec394=_0xcec394[_0x126c35(0x2fe)]();if(!isNaN(_0xcec394)){const _0x57c33f=''+(_0x5ba489[_0x126c35(0x20b)]+Number(_0xcec394))+(_0x2ba972?'\x20':'')+_0x3cf070;MiscUtil['set'](_0x508b74,_0x3faad6,..._0x5ac185,_0x57c33f);}};if(!_0x78d027)MiscUtil[_0xdb9da4(0x2cd)](_0x508b74,_0x3faad6,..._0x5ac185,_0x5ba489[_0xdb9da4(0x20b)]+'\x20'+(_0x5ba489[_0xdb9da4(0x2f7)]||_0x5ba489[_0xdb9da4(0x1d4)]));else{if(_0x5ba489[_0xdb9da4(0x1d4)]&&_0x1236e3[_0xdb9da4(0x2d3)](_0x5ba489[_0xdb9da4(0x1d4)][_0xdb9da4(0x224)]()))_0x2213b9(_0x5ba489['unit']);else _0x5ba489['unitShort']&&_0x1236e3['includes'](_0x5ba489[_0xdb9da4(0x2f7)][_0xdb9da4(0x224)]())&&_0x2213b9(_0x5ba489[_0xdb9da4(0x2f7)]);}break;}case _0xdb9da4(0x1fd):{const _0x159c6b=(''+(_0x78d027||0x0))[_0xdb9da4(0x224)]();let _0x3eee08=Number(_0x159c6b);if(isNaN(_0x3eee08))_0x3eee08=0x0;const _0x29d851=Math[_0xdb9da4(0x329)](_0x3eee08,_0x5ba489['value']);MiscUtil[_0xdb9da4(0x2cd)](_0x508b74,_0x3faad6,..._0x5ac185,_0x29d851);break;}case _0xdb9da4(0x2cd):{MiscUtil[_0xdb9da4(0x2cd)](_0x508b74,_0x3faad6,..._0x5ac185,MiscUtil[_0xdb9da4(0x264)](_0x5ba489[_0xdb9da4(0x1f4)]));break;}default:throw new Error(_0xdb9da4(0x1bb)+_0x5ba489['mode']+'\x22');}});}static[_0x16222(0x331)](_0x5743de){const _0x17c627=_0x16222,_0x4bb014=_0x5743de['split'](/([-+]\s*[^-+]+)/g)[_0x17c627(0x326)](_0x2a9a13=>_0x2a9a13[_0x17c627(0x2fe)]()[_0x17c627(0x248)](/\s*/g,''))[_0x17c627(0x2d2)](Boolean),[_0x192f36,_0x43580a]=_0x4bb014[_0x17c627(0x219)](_0x3af388=>!isNaN(_0x3af388)),_0x23e765=_0x192f36['map'](_0x370625=>Number(_0x370625))['sum']();return{'partsNumerical':_0x192f36,'partsNonNumerical':_0x43580a,'totalNumerical':_0x23e765};}static [_0x16222(0x321)]=class{constructor({entry:entry,img:img,name:name},opts){const _0x282c9f=_0x16222;this[_0x282c9f(0x1e0)]=entry,this[_0x282c9f(0x2a0)]=opts,this[_0x282c9f(0x33c)]=name,this['img']=img;let {description:description,activationType:activationType,activationCost:activationCost,activationCondition:activationCondition,saveAbility:saveAbility,saveDc:saveDc,saveScaling:saveScaling,damageParts:damageParts,attackBonus:attackBonus,requirements:requirements,actionType:actionType,durationValue:durationValue,durationUnits:durationUnits,consumeType:consumeType,consumeTarget:consumeTarget,consumeAmount:consumeAmount,formula:formula,targetValue:targetValue,targetUnits:targetUnits,targetType:targetType,rangeShort:rangeShort,rangeLong:rangeLong,rangeUnits:rangeUnits,ability:ability,usesValue:usesValue,usesMax:usesMax,usesPer:usesPer,foundryData:foundryData,_foundryData:_foundryData,foundryFlags:foundryFlags,_foundryFlags:_foundryFlags}=opts;this[_0x282c9f(0x2aa)]=DataConverter['getCombinedFoundryData'](foundryData,_foundryData),this[_0x282c9f(0x2ab)]=DataConverter[_0x282c9f(0x256)](foundryFlags,_foundryFlags),this[_0x282c9f(0x28d)]=description,this[_0x282c9f(0x1ca)]=activationType,this[_0x282c9f(0x270)]=activationCost,this[_0x282c9f(0x2b8)]=activationCondition,this['saveAbility']=saveAbility,this[_0x282c9f(0x251)]=saveDc,this[_0x282c9f(0x200)]=saveScaling,this[_0x282c9f(0x218)]=damageParts,this['attackBonus']=attackBonus,this[_0x282c9f(0x225)]=requirements,this[_0x282c9f(0x27d)]=actionType,this[_0x282c9f(0x2a9)]=durationValue,this[_0x282c9f(0x2c3)]=durationUnits,this['consumeType']=consumeType,this[_0x282c9f(0x302)]=consumeTarget,this[_0x282c9f(0x24d)]=consumeAmount,this[_0x282c9f(0x2a8)]=formula,this[_0x282c9f(0x1cb)]=targetValue,this[_0x282c9f(0x343)]=targetUnits,this['targetType']=targetType,this[_0x282c9f(0x1df)]=rangeShort,this['rangeLong']=rangeLong,this[_0x282c9f(0x30d)]=rangeUnits,this[_0x282c9f(0x23b)]=ability,this[_0x282c9f(0x1d1)]=usesValue,this[_0x282c9f(0x23e)]=usesMax,this[_0x282c9f(0x244)]=usesPer,this[_0x282c9f(0x1af)]=[];}async[_0x16222(0x25c)]({isSkipDescription:isSkipDescription=![],isSkipImg:isSkipImg=![]}={}){const _0x10f2e6=_0x16222;!isSkipDescription&&!this[_0x10f2e6(0x28d)]&&!this[_0x10f2e6(0x2a0)][_0x10f2e6(0x349)]&&(this[_0x10f2e6(0x28d)]=await DataConverter['pGetEntryDescription'](this[_0x10f2e6(0x1e0)],{'depth':this[_0x10f2e6(0x2a0)][_0x10f2e6(0x2ed)],'summonSpellLevel':this['_opts'][_0x10f2e6(0x2be)]})),!isSkipImg&&this[_0x10f2e6(0x2a0)][_0x10f2e6(0x27c)]&&(this['img']=await Vetools['pOptionallySaveImageToServerAndGetUrl'](this['_opts'][_0x10f2e6(0x27c)]));}};static async[_0x16222(0x353)](_0x2dd2bb,_0x41ed00){const _0xeef01=_0x16222;_0x41ed00=_0x41ed00||{},_0x41ed00[_0xeef01(0x1f7)]=_0x41ed00[_0xeef01(0x1f7)]||{};if(_0x41ed00[_0xeef01(0x288)]===_0xeef01(0x2db))_0x41ed00[_0xeef01(0x288)]=_0xeef01(0x1e1);const _0x3d5b4=new this[(_0xeef01(0x321))]({'entry':_0x2dd2bb,'name':UtilApplications[_0xeef01(0x2f1)](UtilDataConverter[_0xeef01(0x29e)](_0x2dd2bb,{'displayName':_0x41ed00['displayName'],'isActorItem':!![]}))},_0x41ed00);await _0x3d5b4[_0xeef01(0x25c)]();const _0x3a55ba=_0x2dd2bb['entries']?JSON[_0xeef01(0x2f0)](_0x2dd2bb['entries']):null;let _0x126926=null;if(_0x2dd2bb['name']){const _0x3bc546=/{@recharge( \d+)?}/gi['exec'](_0x2dd2bb['name']);_0x3bc546&&(_0x126926=_0x3bc546[0x1]?Number(_0x3bc546[0x1][_0xeef01(0x2fe)]()):0x6,_0x3d5b4[_0xeef01(0x33c)]=_0x3d5b4[_0xeef01(0x33c)][_0xeef01(0x248)](/\(Recharge \d+(â€“\d+)?\)/gi,'')['trim']()[_0xeef01(0x248)](/[ ]+/g,'\x20'));}this['_pGetItemActorPassive_mutActivation']({'entry':_0x2dd2bb,'opts':_0x41ed00,'state':_0x3d5b4}),this[_0xeef01(0x1dc)]({'entry':_0x2dd2bb,'opts':_0x41ed00,'strEntries':_0x3a55ba,'state':_0x3d5b4}),this[_0xeef01(0x215)]({'entry':_0x2dd2bb,'opts':_0x41ed00,'strEntries':_0x3a55ba,'state':_0x3d5b4});_0x41ed00[_0xeef01(0x288)]===_0xeef01(0x31c)&&_0x2dd2bb[_0xeef01(0x2b0)]&&UtilDataConverter[_0xeef01(0x29c)][_0xeef01(0x25e)](_0x2dd2bb['entries'],{'string':_0x52cf4b=>{const _0x5665fb=_0xeef01;if(_0x3d5b4['durationValue']||_0x3d5b4[_0x5665fb(0x2c3)])return;_0x52cf4b['replace'](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x19c6aa)=>{const _0x4fc4ba=_0x5665fb;_0x3d5b4['durationValue']=Number(_0x19c6aa[0x1]),_0x3d5b4[_0x4fc4ba(0x2c3)]=_0x19c6aa[0x2][_0x4fc4ba(0x224)]();}),_0x52cf4b[_0x5665fb(0x248)](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x5c4344)=>{const _0xc33640=_0x5665fb;_0x3d5b4[_0xc33640(0x2a9)]=Number(_0x5c4344[0x1]),_0x3d5b4[_0xc33640(0x2c3)]=_0x5c4344[0x2][_0xc33640(0x224)]();}),_0x52cf4b[_0x5665fb(0x248)](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x1ed313)=>{const _0x35fb90=_0x5665fb;_0x3d5b4[_0x35fb90(0x2a9)]=Number(_0x1ed313[0x1]),_0x3d5b4['durationUnits']=_0x1ed313[0x2][_0x35fb90(0x224)]();}),_0x52cf4b[_0x5665fb(0x248)](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x1d7e58)=>{const _0x302239=_0x5665fb;_0x3d5b4[_0x302239(0x2a9)]=Number(_0x1d7e58[0x1]),_0x3d5b4['durationUnits']=_0x1d7e58[0x2][_0x302239(0x224)]();}),_0x52cf4b['replace'](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{const _0x1ed0df=_0x5665fb;_0x3d5b4[_0x1ed0df(0x2a9)]=0x1,_0x3d5b4[_0x1ed0df(0x2c3)]=_0x1ed0df(0x2a3);}),Renderer[_0x5665fb(0x350)](_0x52cf4b)[_0x5665fb(0x248)](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0x4cbd70)=>{const _0x24b70a=_0x5665fb;_0x3d5b4[_0x24b70a(0x2a9)]=Number(_0x4cbd70[0x1]),_0x3d5b4[_0x24b70a(0x2c3)]=_0x4cbd70[0x2]['toLowerCase']();});}});_0x41ed00[_0xeef01(0x288)]===_0xeef01(0x31c)&&_0x2dd2bb[_0xeef01(0x2b0)]&&UtilDataConverter['WALKER_READONLY_GENERIC'][_0xeef01(0x25e)](_0x2dd2bb['entries'],{'string':_0x31ec9a=>{const _0x529937=_0xeef01;if(_0x3d5b4[_0x529937(0x2f3)]||_0x3d5b4['consumeTarget']||_0x3d5b4[_0x529937(0x24d)])return;_0x31ec9a['replace'](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0xc4dff7)=>{const _0xd9ea65=_0x529937;_0x3d5b4['consumeType']=_0xd9ea65(0x214),_0x3d5b4[_0xd9ea65(0x302)]=_0xd9ea65(0x236),_0x3d5b4[_0xd9ea65(0x24d)]=Number(_0xc4dff7[0x1]||_0xc4dff7[0x2]);});}});let _0x4026d1=_0x3a55ba;if((_0x41ed00[_0xeef01(0x288)]===_0xeef01(0x31c)||_0x41ed00[_0xeef01(0x288)]===_0xeef01(0x216))&&_0x2dd2bb[_0xeef01(0x2b0)]&&!_0x3d5b4[_0xeef01(0x218)]?.[_0xeef01(0x2e2)]){const {str:_0x3d3679,damageTupleMetas:_0x21f440}=DataConverter[_0xeef01(0x1b6)](_0x3a55ba,{'summonSpellLevel':_0x41ed00[_0xeef01(0x2be)]});_0x4026d1=_0x3d3679;const {damageParts:_0x54e3d2,formula:_0x3edd1b}=DataConverter[_0xeef01(0x2ee)](_0x21f440);_0x3d5b4[_0xeef01(0x218)]=_0x54e3d2,_0x3d5b4['formula']=_0x3d5b4[_0xeef01(0x2a8)]??_0x3edd1b;}(_0x41ed00[_0xeef01(0x288)]==='player'||_0x41ed00[_0xeef01(0x288)]===_0xeef01(0x216))&&_0x2dd2bb[_0xeef01(0x2b0)]&&_0x3d5b4[_0xeef01(0x2a8)]==null&&_0x4026d1[_0xeef01(0x248)](/{(?:@dice|@scaledice) ([^|}]+)(?:\|[^}]+)?}/i,(..._0x2c00db)=>{const _0x19054e=_0xeef01,[_0xbb12ab]=_0x2c00db[0x1]['split']('|');_0x3d5b4[_0x19054e(0x2a8)]=_0xbb12ab;});if(_0x41ed00[_0xeef01(0x288)]===_0xeef01(0x1e1)&&_0x3a55ba&&!_0x3d5b4[_0xeef01(0x1cb)]&&!_0x3d5b4[_0xeef01(0x343)]&&!_0x3d5b4[_0xeef01(0x278)]){const _0x44f1b3=this[_0xeef01(0x1ea)](_0x3a55ba);_0x3d5b4[_0xeef01(0x1cb)]=_0x44f1b3['targetValue']||_0x3d5b4[_0xeef01(0x1cb)],_0x3d5b4[_0xeef01(0x343)]=_0x44f1b3[_0xeef01(0x343)]||_0x3d5b4[_0xeef01(0x343)],_0x3d5b4[_0xeef01(0x278)]=_0x44f1b3['targetType']||_0x3d5b4['targetType'];}this[_0xeef01(0x26a)]({'entry':_0x2dd2bb,'opts':_0x41ed00,'state':_0x3d5b4});try{_0x3d5b4[_0xeef01(0x2b8)]=Renderer[_0xeef01(0x350)](_0x3d5b4['activationCondition']);}catch(_0x265493){console[_0xeef01(0x2c2)](...LGT,_0x265493);}if((_0x3d5b4[_0xeef01(0x2f3)]||_0x3d5b4[_0xeef01(0x244)]||_0x41ed00[_0xeef01(0x1b2)]?.[_0xeef01(0x300)]||_0x41ed00[_0xeef01(0x1b2)]?.['consume']?.['type']||_0x41ed00['additionalData']?.[_0xeef01(0x299)]||_0x41ed00[_0xeef01(0x1b2)]?.[_0xeef01(0x1c1)]?.[_0xeef01(0x33b)])&&!_0x3d5b4[_0xeef01(0x1ca)])_0x3d5b4[_0xeef01(0x1ca)]='special';_0x3d5b4['name']=_0x3d5b4[_0xeef01(0x33c)][_0xeef01(0x2fe)]()[_0xeef01(0x248)](/\s+/g,'\x20');if(!_0x3d5b4['name'])_0x3d5b4[_0xeef01(0x33c)]=_0xeef01(0x2cc);const _0x49677e={..._0x2dd2bb};if(_0x41ed00[_0xeef01(0x330)]!=null)_0x49677e[_0xeef01(0x330)]=_0x41ed00['source'];if(_0x41ed00[_0xeef01(0x263)]!=null)_0x49677e[_0xeef01(0x263)]=_0x41ed00[_0xeef01(0x263)];return{'name':_0x3d5b4[_0xeef01(0x33c)],'type':_0x41ed00[_0xeef01(0x30a)]||_0xeef01(0x314),'data':{'source':_0x41ed00[_0xeef01(0x1db)]!==undefined?_0x41ed00[_0xeef01(0x1db)]:UtilDataConverter['getSourceWithPagePart'](_0x49677e),'description':{'value':_0x3d5b4[_0xeef01(0x28d)],'chat':'','unidentified':''},'damage':{'parts':_0x3d5b4[_0xeef01(0x218)]??[],'versatile':''},'duration':{'value':_0x3d5b4[_0xeef01(0x2a9)],'units':_0x3d5b4[_0xeef01(0x2c3)]},'range':{'value':_0x3d5b4[_0xeef01(0x1df)],'long':_0x3d5b4['rangeLong'],'units':_0x3d5b4['rangeUnits']||(_0x3d5b4['rangeShort']!=null||_0x3d5b4[_0xeef01(0x22e)]!=null?'ft':'')},'requirements':_0x3d5b4[_0xeef01(0x225)],'save':{'ability':_0x3d5b4[_0xeef01(0x2d0)],'dc':_0x3d5b4[_0xeef01(0x251)],'scaling':_0x3d5b4[_0xeef01(0x200)]||_0xeef01(0x1ae)},'activation':{'type':_0x3d5b4[_0xeef01(0x1ca)],'cost':_0x3d5b4[_0xeef01(0x270)],'condition':_0x3d5b4[_0xeef01(0x2b8)]},'target':{'value':_0x3d5b4['targetValue'],'units':_0x3d5b4['targetUnits'],'type':_0x3d5b4[_0xeef01(0x278)]},'uses':{'value':_0x3d5b4[_0xeef01(0x1d1)],'max':_0x3d5b4[_0xeef01(0x23e)],'per':_0x3d5b4[_0xeef01(0x244)]},'ability':_0x3d5b4[_0xeef01(0x23b)],'actionType':_0x3d5b4[_0xeef01(0x27d)],'attackBonus':_0x3d5b4['attackBonus'],'chatFlavor':'','critical':{'threshold':null,'damage':''},'formula':_0x3d5b4[_0xeef01(0x2a8)],'recharge':{'value':_0x126926,'charged':_0x126926!=null},'consume':{'type':_0x3d5b4['consumeType'],'target':_0x3d5b4[_0xeef01(0x302)],'amount':_0x3d5b4[_0xeef01(0x24d)]},..._0x3d5b4[_0xeef01(0x2aa)]||{},..._0x41ed00[_0xeef01(0x1b2)]||{}},'img':_0x3d5b4['img'],'flags':{...UtilCompat[_0xeef01(0x293)]({'isReaction':[_0xeef01(0x222),_0xeef01(0x1aa),_0xeef01(0x21b)]['includes'](_0x3d5b4[_0xeef01(0x1ca)])}),..._0x3d5b4[_0xeef01(0x2ab)]||{},..._0x41ed00[_0xeef01(0x348)]},'effects':[..._0x41ed00[_0xeef01(0x28a)]||[],..._0x3d5b4['effectsAdditional']]};}static['_pGetItemActorPassive_mutActivation']({entry:_0x357d5c,opts:_0x4e5fe2,state:_0x991430}){const _0x434851=_0x16222;this[_0x434851(0x284)]({'entry':_0x357d5c,'opts':_0x4e5fe2,'state':_0x991430}),this[_0x434851(0x23c)]({'entry':_0x357d5c,'opts':_0x4e5fe2,'state':_0x991430});}static['_pGetItemActorPassive_mutActivation_player']({entry:_0x490d1f,opts:_0x4381c1,state:_0x1c71e7}){const _0x565db5=_0x16222;if(_0x4381c1[_0x565db5(0x288)]!==_0x565db5(0x31c)||!_0x490d1f['entries']?.[_0x565db5(0x2e2)])return;if(_0x1c71e7[_0x565db5(0x1ca)]||_0x1c71e7['activationCost']){this[_0x565db5(0x337)]({'entry':_0x490d1f,'opts':_0x4381c1,'state':_0x1c71e7});return;}let _0x1e6a40=![],_0x8a9ac0=![],_0x12bb77=![];UtilDataConverter['WALKER_READONLY_GENERIC']['walk'](_0x490d1f[_0x565db5(0x2b0)],{'string':_0x17fb02=>{const _0x37b089=_0x565db5;if(_0x1c71e7[_0x37b089(0x1ca)])return _0x17fb02;const _0x1047ee=Util[_0x37b089(0x2e6)](_0x17fb02);for(const _0x1d2704 of _0x1047ee){if(/\b(?:as an action|can take an action|can use your action)\b/i[_0x37b089(0x1c0)](_0x1d2704)){_0x1e6a40=!![];break;}if(/\bbonus action\b/i[_0x37b089(0x1c0)](_0x1d2704)){_0x8a9ac0=!![];break;}const _0x33106c=/\b(?:your reaction|this special reaction|as a reaction)\b/i[_0x37b089(0x30e)](_0x1d2704);if(_0x33106c){_0x12bb77=!![];let _0x22916a=_0x1d2704[_0x37b089(0x310)](0x0,_0x33106c[_0x37b089(0x2fb)])[_0x37b089(0x2fe)]()[_0x37b089(0x248)](/,$/,'');const _0x47e3b2=/(^|\W)(?:if|when)(?:|\W)/i[_0x37b089(0x30e)](_0x22916a);_0x47e3b2&&(_0x22916a=_0x22916a[_0x37b089(0x310)](_0x47e3b2[_0x37b089(0x2fb)]+_0x47e3b2[0x1][_0x37b089(0x2e2)])[_0x37b089(0x2fe)](),_0x1c71e7['activationCondition']=_0x1c71e7[_0x37b089(0x2b8)]||_0x22916a);break;}}}});if(_0x1e6a40)_0x1c71e7[_0x565db5(0x1ca)]=_0x565db5(0x23d);else{if(_0x8a9ac0)_0x1c71e7[_0x565db5(0x1ca)]=_0x565db5(0x230);else{if(_0x12bb77)_0x1c71e7[_0x565db5(0x1ca)]=_0x565db5(0x222);}}if(_0x1c71e7[_0x565db5(0x1ca)])_0x1c71e7[_0x565db5(0x270)]=0x1;!_0x1c71e7[_0x565db5(0x1ca)]&&UtilDataConverter[_0x565db5(0x29c)][_0x565db5(0x25e)](_0x490d1f[_0x565db5(0x2b0)],{'string':_0x37f264=>{const _0x3c0a9c=_0x565db5;if(_0x1c71e7['activationType'])return _0x37f264;const _0x8dd6f3=Util[_0x3c0a9c(0x2e6)](_0x37f264);for(const _0x5f0d49 of _0x8dd6f3){if(/you can't use this feature again|once you use this feature/i[_0x3c0a9c(0x1c0)](_0x5f0d49))_0x1c71e7[_0x3c0a9c(0x1ca)]=_0x3c0a9c(0x1cd);}}}),this[_0x565db5(0x337)]({'entry':_0x490d1f,'opts':_0x4381c1,'state':_0x1c71e7});}static[_0x16222(0x23c)]({entry:_0x1b6eee,opts:_0x47ccfd,state:_0x3f4356}){const _0x2e116e=_0x16222;if(_0x47ccfd[_0x2e116e(0x288)]!==_0x2e116e(0x1e1)||!_0x1b6eee[_0x2e116e(0x2b0)]?.['length']||!_0x1b6eee['name'])return;if(_0x3f4356[_0x2e116e(0x1ca)]||_0x3f4356[_0x2e116e(0x270)]){this[_0x2e116e(0x1b9)]({'entry':_0x1b6eee,'opts':_0x47ccfd,'state':_0x3f4356});return;}MiscUtil[_0x2e116e(0x1c2)]({'isNoModification':!![],'keyBlacklist':MiscUtil[_0x2e116e(0x22c)],'isBreakOnReturn':!![]})[_0x2e116e(0x25e)](_0x1b6eee[_0x2e116e(0x2b0)],{'string':_0x523a37=>{const _0x326346=_0x2e116e;if(/\bbonus action\b/i[_0x326346(0x1c0)](_0x523a37))return _0x3f4356[_0x326346(0x1ca)]='bonus',_0x3f4356[_0x326346(0x270)]=0x1,!![];}}),/^legendary resistance/i[_0x2e116e(0x1c0)](_0x1b6eee[_0x2e116e(0x33c)])&&(_0x3f4356[_0x2e116e(0x1ca)]=_0x2e116e(0x1cd)),this[_0x2e116e(0x1b9)]({'entry':_0x1b6eee,'opts':_0x47ccfd,'state':_0x3f4356});}static[_0x16222(0x337)]({entry:_0x4fda11,opts:_0x31cd32,state:_0x58a9dd}){const _0x2dccc8=_0x16222;if(!UtilCompat[_0x2dccc8(0x232)]()||_0x58a9dd[_0x2dccc8(0x1ca)]!==_0x2dccc8(0x222))return null;}static[_0x16222(0x1b9)]({entry:_0x4504e8,opts:_0x1f6cfe,state:_0x18c48c}){const _0x2f0fe1=_0x16222;if(!UtilCompat['isMidiQolActive']()||_0x18c48c[_0x2f0fe1(0x1ca)]!=='reaction')return;_0x18c48c['activationType']=_0x2f0fe1(0x21b);let _0x10c8f2=_0x4504e8[_0x2f0fe1(0x2b0)][0x0];if(typeof _0x10c8f2!==_0x2f0fe1(0x247))return;_0x10c8f2['replace'](/\bcauses the attack to miss\b/i,()=>{return _0x18c48c['activationType']='reaction','';})['replace'](/\badds? (?<ac>\d+) to (its|their|his|her) AC\b/i,(..._0x4e44cd)=>{const _0x5c62e5=_0x2f0fe1,_0x242711=UtilCompat[_0x5c62e5(0x242)]()?{'flags':{[UtilCompat[_0x5c62e5(0x1f1)]]:{'specialDuration':[_0x5c62e5(0x1ab)]}}}:{'durationTurns':0x1};return _0x18c48c[_0x5c62e5(0x1af)][_0x5c62e5(0x208)](UtilActiveEffects[_0x5c62e5(0x268)]({..._0x242711,'key':_0x5c62e5(0x298),'value':Number(_0x4e44cd[_0x5c62e5(0x20f)]()['ac']),'mode':CONST[_0x5c62e5(0x34a)][_0x5c62e5(0x1dd)],'label':''+_0x4504e8['name'],'icon':_0x18c48c['img'],'disabled':![],'transfer':![],'priority':UtilActiveEffects[_0x5c62e5(0x207)]})),_0x18c48c[_0x5c62e5(0x278)]=_0x18c48c[_0x5c62e5(0x278)]||_0x5c62e5(0x27f),'';})[_0x2f0fe1(0x248)](/\battack that would (?:hit|miss) (?:it|them|him|her|or miss)\b/i,()=>{const _0x33ee80=_0x2f0fe1;return _0x18c48c[_0x33ee80(0x1ca)]='reaction','';})[_0x2f0fe1(0x248)](/\bin response to being (?:hit|missed)\b/i,()=>{const _0x257774=_0x2f0fe1;return _0x18c48c[_0x257774(0x1ca)]=_0x257774(0x222),'';})[_0x2f0fe1(0x248)](/\bafter taking damage from\b/i,()=>{const _0x579057=_0x2f0fe1;return _0x18c48c[_0x579057(0x1ca)]='reactiondamage','';})[_0x2f0fe1(0x248)](/\bIf [^.!?:]+ takes damage(?:,| while it)\b/i,()=>{const _0x521e1d=_0x2f0fe1;return _0x18c48c['activationType']=_0x521e1d(0x1aa),'';})[_0x2f0fe1(0x248)](/\bIn response to taking damage\b/i,()=>{const _0x31313e=_0x2f0fe1;return _0x18c48c[_0x31313e(0x1ca)]='reactiondamage','';});}static[_0x16222(0x215)]({entry:_0x2d48c7,opts:_0xb803cf,strEntries:_0x41dcc4,state:_0x2c4deb}){const _0x232f9b=_0x16222;this[_0x232f9b(0x323)]({'entry':_0x2d48c7,'opts':_0xb803cf,'strEntries':_0x41dcc4,'state':_0x2c4deb}),this[_0x232f9b(0x28b)]({'entry':_0x2d48c7,'opts':_0xb803cf,'strEntries':_0x41dcc4,'state':_0x2c4deb});}static[_0x16222(0x323)]({entry:_0x2f2465,opts:_0x1c9b92,strEntries:_0x2be166,state:_0x1ab93c}){const _0x11f4c0=_0x16222;if(_0x1c9b92[_0x11f4c0(0x288)]!=='player'||!_0x2f2465[_0x11f4c0(0x2b0)]?.['length'])return;UtilDataConverter[_0x11f4c0(0x29c)][_0x11f4c0(0x25e)](_0x2f2465[_0x11f4c0(0x2b0)],{'object':_0x5b2001=>{const _0x35e815=_0x11f4c0;if(_0x5b2001['type']!==_0x35e815(0x347))return _0x5b2001;if(_0x1ab93c['actionType']&&_0x1ab93c[_0x35e815(0x200)])return _0x5b2001;return _0x1ab93c[_0x35e815(0x27d)]=_0x1ab93c[_0x35e815(0x27d)]||'save',_0x1ab93c[_0x35e815(0x200)]=_0x5b2001[_0x35e815(0x20c)][0x0],_0x5b2001;},'string':_0x3be950=>{const _0x165372=_0x11f4c0;if(_0x1ab93c[_0x165372(0x27d)]&&_0x1ab93c[_0x165372(0x2d0)]&&_0x1ab93c[_0x165372(0x200)])return _0x3be950;return _0x3be950[_0x165372(0x248)](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0xa5f577)=>{const _0x2a1a88=_0x165372,_0x4bc52e=[];_0xa5f577[0x1][_0x2a1a88(0x248)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0x37d07a)=>{const _0x5a5e0f=_0x2a1a88;_0x4bc52e[_0x5a5e0f(0x208)](_0x37d07a[0x1]['toLowerCase']()[_0x5a5e0f(0x310)](0x0,0x3));});if(!_0x4bc52e[_0x2a1a88(0x2e2)])return;_0x1ab93c[_0x2a1a88(0x27d)]=_0x1ab93c[_0x2a1a88(0x27d)]||_0x2a1a88(0x31a),_0x1ab93c[_0x2a1a88(0x200)]=_0x4bc52e[0x0];}),_0x3be950[_0x165372(0x248)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x3ff2ee)=>{const _0x1690aa=_0x165372;_0x1ab93c[_0x1690aa(0x27d)]=_0x1ab93c['actionType']||_0x1690aa(0x31a),_0x1ab93c['saveAbility']=_0x1ab93c['saveAbility']||_0x3ff2ee[0x1]['toLowerCase']()['slice'](0x0,0x3),_0x1ab93c[_0x1690aa(0x200)]=_0x1ab93c['saveScaling']||_0x1690aa(0x2ba);}),_0x3be950['replace'](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0x9e9f6e)=>{const _0x2094dc=_0x165372;_0x1ab93c[_0x2094dc(0x27d)]=_0x1ab93c[_0x2094dc(0x27d)]||'save',_0x1ab93c[_0x2094dc(0x2d0)]=_0x1ab93c['saveAbility']||_0x9e9f6e[0x1]['toLowerCase']()[_0x2094dc(0x310)](0x0,0x3),_0x1ab93c[_0x2094dc(0x200)]=_0x1ab93c[_0x2094dc(0x200)]||_0x2094dc(0x2ba);}),_0x3be950;}});}static[_0x16222(0x28b)]({entry:_0x3c1d50,opts:_0x151255,strEntries:_0x1ab069,state:_0x2cc934}){const _0x3eb42e=_0x16222;if(_0x151255[_0x3eb42e(0x288)]!==_0x3eb42e(0x1e1)||!_0x3c1d50[_0x3eb42e(0x2b0)]?.[_0x3eb42e(0x2e2)])return;const _0x18384f=/{@dc (?<save>[^|}]+)(?:\|[^}]+)?}\s+(?<abil>Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i[_0x3eb42e(0x30e)](_0x1ab069);if(!_0x18384f)return;const {partsNonNumerical:_0x147f95,totalNumerical:_0x44eb6f}=this[_0x3eb42e(0x331)](_0x18384f['groups'][_0x3eb42e(0x31a)]);_0x2cc934[_0x3eb42e(0x27d)]=_0x2cc934[_0x3eb42e(0x27d)]||_0x3eb42e(0x31a),_0x2cc934[_0x3eb42e(0x2d0)]=_0x2cc934[_0x3eb42e(0x2d0)]||_0x18384f[_0x3eb42e(0x25f)][_0x3eb42e(0x1c5)][_0x3eb42e(0x224)]()[_0x3eb42e(0x310)](0x0,0x3),_0x2cc934[_0x3eb42e(0x251)]=_0x44eb6f;if(_0x147f95[_0x3eb42e(0x2e2)]||_0x151255['pb']==null||_0x151255[_0x3eb42e(0x1c6)]==null||Parser['ABIL_ABVS'][_0x3eb42e(0x2f9)](_0x533c67=>_0x151255['entity'][_0x533c67]==null)){_0x2cc934[_0x3eb42e(0x200)]=_0x3eb42e(0x1ae);return;}const _0x488e3d=_0x2cc934[_0x3eb42e(0x251)]-_0x151255['pb']-0x8,_0x40e966=Parser['ABIL_ABVS'][_0x3eb42e(0x326)](_0x489ebd=>({'ability':_0x489ebd,'bonus':Parser[_0x3eb42e(0x2ac)](_0x151255[_0x3eb42e(0x1c6)][_0x489ebd])})),_0x19f2c4=_0x40e966[_0x3eb42e(0x2d2)](_0x2e81b6=>_0x2e81b6['bonus']===_0x488e3d);if(_0x19f2c4[_0x3eb42e(0x2e2)]===0x1)_0x2cc934['saveScaling']=_0x2cc934[_0x3eb42e(0x200)]||_0x19f2c4[0x0][_0x3eb42e(0x23b)];else _0x2cc934[_0x3eb42e(0x200)]=_0x3eb42e(0x1ae);}static[_0x16222(0x1dc)]({entry:_0x5ac1f5,opts:_0x5a6ae5,strEntries:_0x51cbde,state:_0x592b7d}){const _0x2ca4a5=_0x16222;this['_pGetItemActorPassive_mutUses_creature']({'entry':_0x5ac1f5,'opts':_0x5a6ae5,'strEntries':_0x51cbde,'state':_0x592b7d}),this[_0x2ca4a5(0x275)]({'entry':_0x5ac1f5,'opts':_0x5a6ae5,'strEntries':_0x51cbde,'state':_0x592b7d});}static[_0x16222(0x1f6)]({entry:_0x568f51,opts:_0x4ff971,strEntries:_0x1b969b,state:_0x46cd92}){const _0x428f64=_0x16222;if(_0x4ff971[_0x428f64(0x288)]!==_0x428f64(0x1e1)||!_0x568f51[_0x428f64(0x33c)])return;const _0x1e495c=/legendary resistance/gi[_0x428f64(0x1c0)](_0x46cd92[_0x428f64(0x33c)]);let _0x1e9b7b=![];_0x46cd92['name']=_0x46cd92['name']['replace'](/\(Recharges after a (?<restPart>[^)]+)\)/i,(..._0x24aeb3)=>{const _0x486185=_0x428f64;_0x1e9b7b=!![];if(_0x1e495c)return'';if(_0x46cd92['usesValue']===undefined)_0x46cd92[_0x486185(0x1d1)]=0x1;if(_0x46cd92['usesMax']===undefined)_0x46cd92[_0x486185(0x23e)]=''+_0x46cd92[_0x486185(0x1d1)];const _0x1127dc=_0x24aeb3[_0x486185(0x20f)]()['restPart']['toLowerCase']();if(/\bshort\b/['test'](_0x1127dc)){if(_0x46cd92[_0x486185(0x244)]===undefined)_0x46cd92[_0x486185(0x244)]='sr';}else{if(/\blong\b/[_0x486185(0x1c0)](_0x1127dc)){if(_0x46cd92[_0x486185(0x244)]===undefined)_0x46cd92[_0x486185(0x244)]='lr';}}return'';});_0x46cd92[_0x428f64(0x244)]===undefined&&(_0x46cd92['name']=_0x46cd92[_0x428f64(0x33c)]['replace'](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0x2c2726)=>{const _0x1a689b=_0x428f64;_0x1e9b7b=!![];if(_0x1e495c)return'';if(_0x46cd92['usesValue']===undefined)_0x46cd92[_0x1a689b(0x1d1)]=Number(_0x2c2726[0x1]);if(_0x46cd92['usesMax']===undefined)_0x46cd92[_0x1a689b(0x23e)]=''+_0x46cd92[_0x1a689b(0x1d1)];if(_0x46cd92[_0x1a689b(0x244)]===undefined){const _0x203432=_0x2c2726[0x2]['trim']()[_0x1a689b(0x224)]();switch(_0x203432){case _0x1a689b(0x26c):_0x46cd92['usesPer']=_0x1a689b(0x26c);break;case'short\x20rest':_0x46cd92['usesPer']='sr';break;case _0x1a689b(0x1d2):_0x46cd92['usesPer']='lr';break;}}return'';}));_0x46cd92[_0x428f64(0x244)]===undefined&&(_0x46cd92[_0x428f64(0x33c)]=_0x46cd92[_0x428f64(0x33c)][_0x428f64(0x248)](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x26ead5)=>{const _0x8f5df1=_0x428f64;_0x1e9b7b=!![];if(_0x1e495c)return'';if(_0x46cd92[_0x8f5df1(0x1d1)]===undefined)_0x46cd92[_0x8f5df1(0x1d1)]=Number(_0x26ead5[0x1]);if(_0x46cd92[_0x8f5df1(0x23e)]===undefined)_0x46cd92[_0x8f5df1(0x23e)]=''+_0x46cd92[_0x8f5df1(0x1d1)];if(_0x46cd92['usesPer']===undefined)_0x46cd92['usesPer']=_0x8f5df1(0x30b);return'';}));if(!_0x1e9b7b)return;_0x46cd92['name']=_0x46cd92[_0x428f64(0x33c)][_0x428f64(0x2fe)]()[_0x428f64(0x248)](/ +/g,'\x20');if(_0x46cd92[_0x428f64(0x1ca)]===undefined)_0x46cd92['activationType']=_0x46cd92['activationType']||_0x428f64(0x33d);if(_0x568f51[_0x428f64(0x2b0)]&&typeof _0x568f51[_0x428f64(0x2b0)][0x0]===_0x428f64(0x247)&&/^(?:If |When )/i[_0x428f64(0x1c0)](_0x568f51[_0x428f64(0x2b0)][0x0][_0x428f64(0x2fe)]())){if(_0x46cd92[_0x428f64(0x2b8)]===undefined)_0x46cd92[_0x428f64(0x2b8)]=_0x568f51[_0x428f64(0x2b0)][0x0][_0x428f64(0x2fe)]();}}static[_0x16222(0x275)]({entry:_0x17d108,opts:_0x111ff0,strEntries:_0x249bf8,state:_0x34fc8c}){const _0x4f655e=_0x16222;if(_0x111ff0[_0x4f655e(0x288)]!==_0x4f655e(0x31c)||!_0x17d108[_0x4f655e(0x2b0)])return;if(_0x34fc8c[_0x4f655e(0x2f3)]==='charges')return;const _0x305d91=/\b(?:finish|complete) a short rest\b/[_0x4f655e(0x1c0)](_0x249bf8)||/\b(?:finish|complete) a short or long rest\b/['test'](_0x249bf8)||/\b(?:finish|complete) a short rest or a long rest\b/[_0x4f655e(0x1c0)](_0x249bf8)||/\b(?:finish|complete) a short or long rest\b/['test'](_0x249bf8),_0x69722e=!_0x305d91&&/\b(?:finish|complete) a long rest\b/[_0x4f655e(0x1c0)](_0x249bf8);if(_0x34fc8c['usesPer']===undefined){if(_0x305d91)_0x34fc8c[_0x4f655e(0x244)]='sr';else{if(_0x69722e)_0x34fc8c['usesPer']='lr';}}const _0x20aa54=new RegExp(_0x4f655e(0x1ac)+Consts[_0x4f655e(0x346)][_0x4f655e(0x326)](_0x1f6055=>_0x1f6055[_0x4f655e(0x286)]['join'](''))['join']('|')+_0x4f655e(0x1ef)+Consts[_0x4f655e(0x346)]['map'](_0x1f546d=>_0x1f546d[_0x4f655e(0x286)][_0x4f655e(0x265)](''))[_0x4f655e(0x265)]('|')+_0x4f655e(0x1ff),'i')[_0x4f655e(0x30e)](_0x249bf8);if(_0x20aa54&&_0x111ff0[_0x4f655e(0x239)]){const _0x4982e5=_0x20aa54[0x2][_0x4f655e(0x310)](0x0,0x3)['toLowerCase'](),_0x4d1d7f=MiscUtil[_0x4f655e(0x245)](_0x111ff0[_0x4f655e(0x239)],_0x4f655e(0x335),_0x4f655e(0x335),'abilities',_0x4982e5,_0x4f655e(0x1f4));if(_0x4d1d7f!=null){let _0xbaa8b2=Parser[_0x4f655e(0x2ac)](_0x4d1d7f),_0x486794=_0x4f655e(0x31d)+_0x4982e5+_0x4f655e(0x26d);if(_0x20aa54[0x1]){const _0xe45923=(Consts[_0x4f655e(0x346)][_0x4f655e(0x2b4)](_0x512db7=>_0x512db7[_0x4f655e(0x286)][_0x4f655e(0x265)]('\x20')===_0x20aa54[0x1][_0x4f655e(0x2fe)]()[_0x4f655e(0x224)]())||{})['count']||0x1;_0xbaa8b2=_0xbaa8b2*_0xe45923,_0x486794=_0x486794+_0x4f655e(0x240)+_0xe45923;}if(_0x20aa54[0x3]){const _0x3ba75b=(Consts['TERMS_COUNT'][_0x4f655e(0x2b4)](_0x3a5d11=>_0x3a5d11[_0x4f655e(0x286)][_0x4f655e(0x265)]('')===_0x20aa54[0x3]['trim']()['toLowerCase']())||{})[_0x4f655e(0x316)]||0x1;_0xbaa8b2=Math[_0x4f655e(0x329)](_0x3ba75b,_0xbaa8b2),_0x486794='max('+_0x3ba75b+',\x20'+_0x486794+')';}if(_0x34fc8c[_0x4f655e(0x1d1)]===undefined)_0x34fc8c['usesValue']=_0xbaa8b2;if(_0x34fc8c[_0x4f655e(0x23e)]===undefined)_0x34fc8c[_0x4f655e(0x23e)]=_0x486794;}}_0x249bf8[_0x4f655e(0x248)](/you can use ([^.!?]+) a number of times equal to(?<mult> twice)? your proficiency bonus/i,(..._0x306762)=>{const _0x4ae815=_0x4f655e,_0x2bb7d8=_0x306762[_0x4ae815(0x20f)]()[_0x4ae815(0x212)]?Consts[_0x4ae815(0x346)]['find'](_0x209bf5=>CollectionUtil[_0x4ae815(0x285)](_0x209bf5[_0x4ae815(0x286)],_0x306762[_0x4ae815(0x20f)]()['mult'][_0x4ae815(0x2fe)]()[_0x4ae815(0x224)]()[_0x4ae815(0x231)](/( )/g)))?.['count']||0x1:0x1;if(_0x34fc8c[_0x4ae815(0x1d1)]===undefined)_0x34fc8c[_0x4ae815(0x1d1)]=_0x111ff0[_0x4ae815(0x239)]?_0x111ff0[_0x4ae815(0x239)][_0x4ae815(0x1b0)]()['prof']*_0x2bb7d8:null;if(_0x34fc8c[_0x4ae815(0x23e)]===undefined)_0x34fc8c['usesMax']=_0x4ae815(0x274)+(_0x2bb7d8>0x1?_0x4ae815(0x240)+_0x2bb7d8:'');}),_0x249bf8[_0x4f655e(0x248)](/you can use this (?:feature|ability) (?<mult>once|twice|[a-zA-Z]+ times)/i,(..._0xee415c)=>{const _0x1c9fec=_0x4f655e,_0x5d24f3=Consts[_0x1c9fec(0x346)][_0x1c9fec(0x2b4)](_0x1024e5=>CollectionUtil[_0x1c9fec(0x285)](_0x1024e5[_0x1c9fec(0x286)],_0xee415c[_0x1c9fec(0x20f)]()[_0x1c9fec(0x212)][_0x1c9fec(0x2fe)]()[_0x1c9fec(0x224)]()['split'](/( )/g)))?.['count']||0x1;if(_0x34fc8c[_0x1c9fec(0x1d1)]===undefined)_0x34fc8c['usesValue']=_0x5d24f3;if(_0x34fc8c[_0x1c9fec(0x23e)]===undefined)_0x34fc8c[_0x1c9fec(0x23e)]=_0x5d24f3;});if(_0x34fc8c[_0x4f655e(0x244)]&&!_0x34fc8c['usesValue']&&(!_0x34fc8c[_0x4f655e(0x23e)]||_0x34fc8c['usesMax']==='0')){if(_0x34fc8c['usesValue']===undefined)_0x34fc8c['usesValue']=0x1;if(_0x34fc8c[_0x4f655e(0x23e)]===undefined)_0x34fc8c[_0x4f655e(0x23e)]=''+_0x34fc8c['usesValue'];}}static[_0x16222(0x1ea)](_0x1156e3){const _0x47485f=_0x16222;let _0x51203c,_0x2860e4,_0x53407b,_0x1ee6f0=![],_0x55855e=_0x1156e3['replace'](/exhales [^.]*a (?<size>\d+)-foot[- ](?<shape>cone|line)/,(..._0xc84c2c)=>{const _0x331d75=_0x2027;return _0x51203c=Number(_0xc84c2c[_0x331d75(0x20f)]()[_0x331d75(0x221)]),_0x2860e4='ft',_0x53407b=_0xc84c2c['last']()[_0x331d75(0x252)],_0x1ee6f0=!![],'';});if(_0x1ee6f0)return{'targetValue':_0x51203c,'targetUnits':_0x2860e4,'targetType':_0x53407b};_0x55855e=_0x55855e[_0x47485f(0x248)](/(?<size>\d+)-foot-radius,? \d+-foot-tall cylinder/,(..._0x4652dc)=>{const _0x1142d4=_0x47485f;return _0x51203c=Number(_0x4652dc['last']()[_0x1142d4(0x221)]),_0x2860e4='ft',_0x53407b='cylinder',_0x1ee6f0=!![],'';});if(_0x1ee6f0)return{'targetValue':_0x51203c,'targetUnits':_0x2860e4,'targetType':_0x53407b};_0x55855e=_0x55855e[_0x47485f(0x248)](/(?<size>\d+)-foot[- ]radius(?<ptSphere> sphere)?/,(..._0x198990)=>{const _0x2888e9=_0x47485f;return _0x51203c=Number(_0x198990[_0x2888e9(0x20f)]()['size']),_0x2860e4='ft',_0x53407b=_0x198990['last']()['ptSphere']?_0x2888e9(0x341):_0x2888e9(0x1b3),_0x1ee6f0=!![],'';});if(_0x1ee6f0)return{'targetValue':_0x51203c,'targetUnits':_0x2860e4,'targetType':_0x53407b};_0x55855e=_0x55855e[_0x47485f(0x248)](/(?<size>\d+)-foot[- ]cube/,(..._0xa2b9e4)=>{const _0x4c298e=_0x47485f;return _0x51203c=Number(_0xa2b9e4['last']()[_0x4c298e(0x221)]),_0x2860e4='ft',_0x53407b=_0x4c298e(0x2a6),_0x1ee6f0=!![],'';});if(_0x1ee6f0)return{'targetValue':_0x51203c,'targetUnits':_0x2860e4,'targetType':_0x53407b};_0x55855e=_0x55855e[_0x47485f(0x248)](/(?<size>\d+)-foot[- ]square/,(..._0x11f321)=>{const _0x5e2e57=_0x47485f;return _0x51203c=Number(_0x11f321['last']()[_0x5e2e57(0x221)]),_0x2860e4='ft',_0x53407b=_0x5e2e57(0x342),_0x1ee6f0=!![],'';});if(_0x1ee6f0)return{'targetValue':_0x51203c,'targetUnits':_0x2860e4,'targetType':_0x53407b};_0x55855e=_0x55855e[_0x47485f(0x248)](/(?<size>\d+)-foot line/,(..._0x22a37f)=>{const _0x33ba40=_0x47485f;return _0x51203c=Number(_0x22a37f[_0x33ba40(0x20f)]()[_0x33ba40(0x221)]),_0x2860e4='ft',_0x53407b=_0x33ba40(0x2d4),_0x1ee6f0=!![],'';}),_0x55855e=_0x55855e[_0x47485f(0x248)](/(?<size>\d+)-foot cone/,(..._0x900efc)=>{const _0x3aab57=_0x47485f;return _0x51203c=Number(_0x900efc[_0x3aab57(0x20f)]()[_0x3aab57(0x221)]),_0x2860e4='ft',_0x53407b=_0x3aab57(0x2ef),_0x1ee6f0=!![],'';});if(_0x1ee6f0)return{'targetValue':_0x51203c,'targetUnits':_0x2860e4,'targetType':_0x53407b};return{};}static[_0x16222(0x26a)]({entry:_0x161f5b,opts:_0x398376,state:_0x479218}){const _0xd63228=_0x16222;this[_0xd63228(0x204)]({'entry':_0x161f5b,'opts':_0x398376,'state':_0x479218}),this[_0xd63228(0x1e6)]({'entry':_0x161f5b,'opts':_0x398376,'state':_0x479218});}static['_pGetItemActorPassive_mutActionType_player']({entry:_0x1f885f,opts:_0x1119fc,state:_0x14ab66}){const _0x18c668=_0x16222;if(_0x14ab66['actionType']||_0x1119fc[_0x18c668(0x288)]!==_0x18c668(0x31c)||!_0x1f885f[_0x18c668(0x2b0)]?.[_0x18c668(0x2e2)])return;const _0x50fb7e=MiscUtil[_0x18c668(0x1c2)]({'keyBlacklist':MiscUtil[_0x18c668(0x22c)],'isNoModification':!![],'isBreakOnReturn':!![]});_0x50fb7e['walk'](_0x1f885f['entries'],{'string':_0x3e83ef=>{const _0x5a92de=_0x18c668,_0x5e6f4f=/you\b[^.!?]*\bmake a (?<type>melee|ranged) weapon attack/i[_0x5a92de(0x30e)](_0x3e83ef);if(_0x5e6f4f)return _0x14ab66['actionType']=_0x5e6f4f[_0x5a92de(0x25f)]['type'][_0x5a92de(0x224)]()===_0x5a92de(0x2ff)?_0x5a92de(0x1ee):'rwak',!![];const _0x2f45a4=/you\b[^.!?]*\bmake a (?<type>melee|ranged) spell attack/i['exec'](_0x3e83ef);if(_0x2f45a4)return _0x14ab66[_0x5a92de(0x27d)]=_0x2f45a4[_0x5a92de(0x25f)][_0x5a92de(0x2e1)][_0x5a92de(0x224)]()===_0x5a92de(0x2ff)?'msak':_0x5a92de(0x2cf),!![];const _0x1e982f=/creature\b[^.!?]*\bregains\b[^.!?]*\bhit points?/i['exec'](_0x3e83ef);if(_0x1e982f)return _0x14ab66['actionType']=_0x5a92de(0x1e3),!![];}}),_0x14ab66[_0x18c668(0x27d)]=_0x14ab66[_0x18c668(0x27d)]||_0x18c668(0x273);}static[_0x16222(0x1e6)]({entry:_0x4b1106,opts:_0xd90757,state:_0x5dccf9}){const _0x36c9cc=_0x16222;if(_0x5dccf9['actionType']||_0xd90757['mode']!==_0x36c9cc(0x1e1)||!_0x4b1106[_0x36c9cc(0x2b0)]?.[_0x36c9cc(0x2e2)])return;_0x5dccf9['actionType']=_0x36c9cc(0x273);}static['getMaxCasterProgression'](..._0x4f0725){const _0x49c760=_0x16222;_0x4f0725=_0x4f0725[_0x49c760(0x2d2)](Boolean);const _0x2b9099=_0x4f0725[_0x49c760(0x326)](_0xf75494=>this['_CASTER_PROGRESSIONS'][_0x49c760(0x1d0)](_0xf75494))[_0x49c760(0x2d2)](_0x16074e=>~_0x16074e);if(!_0x2b9099[_0x49c760(0x2e2)])return null;return this['_CASTER_PROGRESSIONS'][Math[_0x49c760(0x22f)](..._0x2b9099)];}static['getMaxCantripProgression'](..._0x3abf93){const _0x490455=_0x16222,_0x5303f8=[];return _0x3abf93[_0x490455(0x2d2)](Boolean)['forEach'](_0x4281eb=>{_0x4281eb['forEach']((_0x2ed7c4,_0x3f2923)=>{if(_0x5303f8[_0x3f2923]==null)return _0x5303f8[_0x3f2923]=_0x2ed7c4;_0x5303f8[_0x3f2923]=Math['max'](_0x5303f8[_0x3f2923],_0x2ed7c4);});}),_0x5303f8;}static async['pFillActorSkillToolLanguageData']({existingProficienciesSkills:_0x197e7e,existingProficienciesTools:_0x32b833,existingProficienciesLanguages:_0x53d919,skillProficiencies:_0x481c08,languageProficiencies:_0x55eac9,toolProficiencies:_0x58bce8,skillToolLanguageProficiencies:_0x4c7ebd,actorData:_0x32ac57,importOpts:_0x5517a8,titlePrefix:_0x49fb09}){const _0x121b35=_0x16222;_0x4c7ebd=this['_pFillActorSkillToolLanguageData_getMergedProfs']({'skillProficiencies':_0x481c08,'languageProficiencies':_0x55eac9,'toolProficiencies':_0x58bce8,'skillToolLanguageProficiencies':_0x4c7ebd});const _0x26fbf3=await Charactermancer_OtherProficiencySelect[_0x121b35(0x243)]({'titlePrefix':_0x49fb09,'existingFvtt':{'skillProficiencies':_0x197e7e,'toolProficiencies':_0x32b833,'languageProficiencies':_0x53d919},'available':_0x4c7ebd});if(!_0x26fbf3)return _0x5517a8[_0x121b35(0x2e4)]=!![];if(_0x26fbf3===VeCt['SYM_UI_SKIP'])return;this[_0x121b35(0x1da)]({'existingProfsActor':_0x197e7e,'formData':_0x26fbf3,'actorData':_0x32ac57}),this[_0x121b35(0x324)]({'existingProfsActor':_0x53d919,'formData':_0x26fbf3,'formDataProp':_0x121b35(0x1e8),'actorData':_0x32ac57,'opts':{'fnGetMappedItem':_0x284b96=>UtilActors[_0x121b35(0x29d)](_0x284b96),'actorTraitProp':_0x121b35(0x253)}}),this['doApplyOtherProficienciesFormData']({'existingProfsActor':_0x32b833,'formData':_0x26fbf3,'formDataProp':'toolProficiencies','actorData':_0x32ac57,'opts':{'fnGetMappedItem':_0x1eaff0=>UtilActors[_0x121b35(0x340)](_0x1eaff0),'actorTraitProp':_0x121b35(0x334)}});}static['_pFillActorSkillToolLanguageData_getMergedProfs']({skillProficiencies:_0x5077d5,languageProficiencies:_0x5c6d7e,toolProficiencies:_0x4da7e4,skillToolLanguageProficiencies:_0x57a749}){const _0x4f836f=_0x16222,_0x514d78=_0x5077d5?.[_0x4f836f(0x2e2)]||_0x5c6d7e?.[_0x4f836f(0x2e2)]||_0x4da7e4?.['length'];if(!_0x514d78)return _0x57a749;if(!_0x57a749?.[_0x4f836f(0x2e2)]){const _0x1de16a=[];return this[_0x4f836f(0x295)]({'targetArray':_0x1de16a,'skillProficiencies':_0x5077d5,'languageProficiencies':_0x5c6d7e,'toolProficiencies':_0x4da7e4}),_0x1de16a;}if(_0x57a749?.[_0x4f836f(0x2e2)]&&_0x514d78)console[_0x4f836f(0x1bc)](...LGT,'Founds\x20individual\x20skill/language/tool\x20proficiencies\x20alongside\x20combined\x20skill/language/tool;\x20these\x20will\x20be\x20merged\x20together.');const _0x13c5df=MiscUtil[_0x4f836f(0x264)](_0x57a749||[]);return this['_pFillActorSkillToolLanguageData_doMergeToSingleArray']({'targetArray':_0x13c5df,'skillProficiencies':_0x5077d5,'languageProficiencies':_0x5c6d7e,'toolProficiencies':_0x4da7e4}),_0x13c5df;}static[_0x16222(0x295)]({targetArray:_0x1dc0f2,skillProficiencies:_0x282056,languageProficiencies:_0x597048,toolProficiencies:_0x4cd5e8}){const _0x21a242=_0x16222,_0xc25e74=Math[_0x21a242(0x329)](_0x1dc0f2?.[_0x21a242(0x2e2)]||0x0,_0x282056?.[_0x21a242(0x2e2)]||0x0,_0x597048?.[_0x21a242(0x2e2)]||0x0,_0x4cd5e8?.[_0x21a242(0x2e2)]||0x0);for(let _0x3f1901=0x0;_0x3f1901<_0xc25e74;++_0x3f1901){const _0x2a07a8=_0x1dc0f2[_0x3f1901]={},_0x576471=_0x282056?.[_0x3f1901],_0x397e11=_0x597048?.[_0x3f1901],_0x1ee5b4=_0x4cd5e8?.[_0x3f1901];_0x576471&&this[_0x21a242(0x22d)]({'targetObject':_0x2a07a8,'profSet':_0x576471,'validKeySet':new Set(Object[_0x21a242(0x2b5)](Parser[_0x21a242(0x203)])),'anyKeySet':new Set([_0x21a242(0x26e)]),'anyKeySuffix':_0x21a242(0x271)}),_0x397e11&&this[_0x21a242(0x22d)]({'targetObject':_0x2a07a8,'profSet':_0x397e11,'anyKeySet':new Set(['any',_0x21a242(0x2e8)]),'anyKeySuffix':'Language'}),_0x1ee5b4&&this['_pFillActorSkillToolLanguageData_doAddProfType']({'targetObject':_0x2a07a8,'profSet':_0x1ee5b4,'anyKeySet':new Set(['any']),'anyKeySuffix':_0x21a242(0x336)});}}static['_pFillActorSkillToolLanguageData_doAddProfType']({targetObject:_0x5ba08f,profSet:_0x42c869,validKeySet:_0x8ae01,anyKeySet:_0xb8ad07,anyKeySuffix:_0x5d76b8}){const _0x58d6b9=_0x16222;Object[_0x58d6b9(0x2b0)](_0x42c869)['forEach'](([_0x51fafe,_0x68ad56])=>{const _0x157def=_0x58d6b9;switch(_0x51fafe){case _0x157def(0x2c4):{if(_0x68ad56?.[_0x157def(0x1a9)]?.[_0x157def(0x2e2)]){const _0x5be7aa=MiscUtil[_0x157def(0x264)](_0x68ad56);_0x5be7aa[_0x157def(0x1a9)]=_0x5be7aa[_0x157def(0x1a9)]['filter'](_0x119a16=>!_0x8ae01||_0x8ae01[_0x157def(0x287)](_0x119a16));if(_0x5be7aa[_0x157def(0x1a9)][_0x157def(0x2e2)]){const _0x1ea109=_0x5ba08f[_0x157def(0x2c4)]=_0x5ba08f[_0x157def(0x2c4)]||[];_0x1ea109[_0x157def(0x208)](_0x5be7aa);}}break;}default:{if(_0xb8ad07&&_0xb8ad07[_0x157def(0x287)](_0x51fafe)){_0x5ba08f[''+_0x51fafe+_0x5d76b8]=MiscUtil[_0x157def(0x264)](_0x68ad56);break;}if(!_0x8ae01||_0x8ae01[_0x157def(0x287)](_0x51fafe))_0x5ba08f[_0x51fafe]=MiscUtil[_0x157def(0x264)](_0x68ad56);}}});}static async[_0x16222(0x319)](_0x252adc,_0xcd668c,_0x48122e,_0x608037,_0x4707e4){const _0x2413eb=_0x16222;_0x4707e4=_0x4707e4||{};if(!_0xcd668c)return{};_0xcd668c=Charactermancer_OtherProficiencySelect['getMappedSkillProficiencies'](_0xcd668c);const _0x2bc923=await Charactermancer_OtherProficiencySelect[_0x2413eb(0x243)]({..._0x4707e4,'existingFvtt':{'skillProficiencies':_0x252adc},'available':_0xcd668c});if(!_0x2bc923)return _0x608037['isCancelled']=!![];if(_0x2bc923===VeCt[_0x2413eb(0x280)])return;return this[_0x2413eb(0x1da)]({'existingProfsActor':_0x252adc,'formData':_0x2bc923,'actorData':_0x48122e});}static[_0x16222(0x1da)]({existingProfsActor:_0x351105,formData:_0x5348fa,actorData:_0x4c2f2a}){const _0x5b48dd=_0x16222;if(!_0x5348fa?.[_0x5b48dd(0x335)]?.['skillProficiencies'])return;const _0x36c8bd={};return _0x4c2f2a[_0x5b48dd(0x2bb)]=_0x4c2f2a['skills']||{},Object[_0x5b48dd(0x2b0)](UtilActors[_0x5b48dd(0x318)])['filter'](([_0x1eb637,_0x3e9476])=>_0x5348fa[_0x5b48dd(0x335)]['skillProficiencies'][_0x3e9476])[_0x5b48dd(0x269)](([_0x5b7af6,_0x681fe4])=>{const _0x4638d9=_0x5b48dd;_0x36c8bd[_0x5b7af6]=_0x5348fa[_0x4638d9(0x335)][_0x4638d9(0x29a)][_0x681fe4];const _0x234043=Math[_0x4638d9(0x329)]((_0x351105[_0x5b7af6]||{})[_0x4638d9(0x1f4)]||0x0,_0x5348fa['data'][_0x4638d9(0x29a)][_0x681fe4]!=null?Number(_0x5348fa['data'][_0x4638d9(0x29a)][_0x681fe4]):0x0,(_0x4c2f2a[_0x4638d9(0x2bb)][_0x5b7af6]||{})[_0x4638d9(0x1f4)]||0x0),_0x468087=_0x234043>(MiscUtil[_0x4638d9(0x245)](_0x4c2f2a[_0x4638d9(0x2bb)],_0x5b7af6,_0x4638d9(0x1f4))||0x0);if(_0x468087)(_0x4c2f2a[_0x4638d9(0x2bb)][_0x5b7af6]=_0x4c2f2a[_0x4638d9(0x2bb)][_0x5b7af6]||{})['value']=_0x234043;}),_0x36c8bd;}static async[_0x16222(0x26f)](_0x582d63,_0x5ab53e,_0x37b018,_0x321494,_0x497306){const _0xcbb85b=_0x16222;_0x497306=_0x497306||{};if(!_0x5ab53e)return;_0x5ab53e=Charactermancer_OtherProficiencySelect[_0xcbb85b(0x328)](_0x5ab53e);const _0xc0f52f=await Charactermancer_OtherProficiencySelect[_0xcbb85b(0x243)]({..._0x497306,'existingFvtt':{'languageProficiencies':_0x582d63},'available':_0x5ab53e});if(!_0xc0f52f)return _0x321494[_0xcbb85b(0x2e4)]=!![];if(_0xc0f52f===VeCt[_0xcbb85b(0x280)])return;this[_0xcbb85b(0x1f2)]({'existingProfsActor':_0x582d63,'formData':_0xc0f52f,'actorData':_0x37b018});}static[_0x16222(0x1f2)]({existingProfsActor:_0x7bfcd9,formData:_0x5136c1,actorData:_0x5b68c0}){const _0x1f9e3c=_0x16222;this[_0x1f9e3c(0x324)]({'existingProfsActor':_0x7bfcd9,'formData':_0x5136c1,'formDataProp':_0x1f9e3c(0x1e8),'actorData':_0x5b68c0,'opts':{'fnGetMappedItem':_0x7c1a79=>UtilActors[_0x1f9e3c(0x29d)](_0x7c1a79),'actorTraitProp':_0x1f9e3c(0x253)}});}static async[_0x16222(0x2bd)](_0x5365f5,_0x1cf1ff,_0x2ab90e,_0x2e7327,_0x16e56c){const _0x35b45c=_0x16222;_0x16e56c=_0x16e56c||{};if(!_0x1cf1ff)return;_0x1cf1ff=Charactermancer_OtherProficiencySelect[_0x35b45c(0x2dc)](_0x1cf1ff);const _0x595a12=await Charactermancer_OtherProficiencySelect[_0x35b45c(0x243)]({..._0x16e56c,'existingFvtt':{'toolProficiencies':_0x5365f5},'available':_0x1cf1ff});if(!_0x595a12)return _0x2e7327[_0x35b45c(0x2e4)]=!![];if(_0x595a12===VeCt['SYM_UI_SKIP'])return;this[_0x35b45c(0x1ad)]({'existingProfsActor':_0x5365f5,'formData':_0x595a12,'actorData':_0x2ab90e});}static[_0x16222(0x1ad)]({existingProfsActor:_0x1f89fb,formData:_0x4e0f1c,actorData:_0x464215}){const _0x5fcecc=_0x16222;this[_0x5fcecc(0x324)]({'existingProfsActor':_0x1f89fb,'formData':_0x4e0f1c,'formDataProp':_0x5fcecc(0x327),'actorData':_0x464215,'opts':{'fnGetMappedItem':_0x17c212=>UtilActors[_0x5fcecc(0x340)](_0x17c212),'actorTraitProp':_0x5fcecc(0x334)}});}static async[_0x16222(0x21a)](_0x2a5aa4,_0x16d123,_0x21db32,_0x5a9e1f,_0x7d1755,_0x42f284){const _0x2ecb20=_0x16222;_0x42f284=_0x42f284||{};if(!_0x21db32)return;_0x21db32=Charactermancer_OtherProficiencySelect['getMappedLanguageProficiencies'](_0x21db32),_0x21db32=Charactermancer_OtherProficiencySelect['getMappedToolProficiencies'](_0x21db32);const _0x3ec44b=await Charactermancer_OtherProficiencySelect['pGetUserInput']({..._0x42f284,'existingFvtt':{'languageProficiencies':_0x2a5aa4,'toolProficiencies':_0x16d123},'available':_0x21db32});if(!_0x3ec44b)return _0x7d1755[_0x2ecb20(0x2e4)]=!![];if(_0x3ec44b===VeCt['SYM_UI_SKIP'])return;this[_0x2ecb20(0x324)]({'existingProfsActor':_0x2a5aa4,'formData':_0x3ec44b,'formDataProp':_0x2ecb20(0x1e8),'actorData':_0x5a9e1f,'opts':{'fnGetMappedItem':_0x3944d5=>UtilActors[_0x2ecb20(0x29d)](_0x3944d5),'actorTraitProp':_0x2ecb20(0x253)}}),this[_0x2ecb20(0x324)]({'existingProfsActor':_0x16d123,'formData':_0x3ec44b,'formDataProp':_0x2ecb20(0x327),'actorData':_0x5a9e1f,'opts':{'fnGetMappedItem':_0x2fe7fa=>UtilActors[_0x2ecb20(0x340)](_0x2fe7fa),'actorTraitProp':_0x2ecb20(0x334)}});}static async[_0x16222(0x332)](_0x125579,_0x1cf128,_0x1804fb,_0x59366a,_0x30b6bf){const _0x193fb0=_0x16222;_0x30b6bf=_0x30b6bf||{};if(!_0x1cf128)return;_0x1cf128=Charactermancer_OtherProficiencySelect[_0x193fb0(0x2af)](_0x1cf128);const _0x3a6a63=await Charactermancer_OtherProficiencySelect['pGetUserInput']({..._0x30b6bf,'existingFvtt':{'armorProficiencies':_0x125579},'available':_0x1cf128});if(!_0x3a6a63)return _0x59366a[_0x193fb0(0x2e4)]=!![];if(_0x3a6a63===VeCt['SYM_UI_SKIP'])return;this[_0x193fb0(0x351)]({'existingProfsActor':_0x125579,'formData':_0x3a6a63,'actorData':_0x1804fb});}static['doApplyArmorProficienciesFormDataToActorUpdate']({existingProfsActor:_0x46aad7,formData:_0x21850c,actorData:_0x123dac}){const _0x320bef=_0x16222;this[_0x320bef(0x324)]({'existingProfsActor':_0x46aad7,'formData':_0x21850c,'formDataProp':_0x320bef(0x2fd),'actorData':_0x123dac,'opts':{'fnGetMappedItem':_0x22916c=>UtilActors[_0x320bef(0x1d5)](_0x22916c),'fnGetMappedCustomItem':_0x299284=>Renderer['splitTagByPipe'](_0x299284)[0x0]['toTitleCase'](),'actorTraitProp':'armorProf'}});}static async[_0x16222(0x1b4)](_0x3e3e36,_0x464511,_0x56d4f6,_0x17e3a6,_0x55df6f){const _0x331127=_0x16222;_0x55df6f=_0x55df6f||{};if(!_0x464511)return;_0x464511=Charactermancer_OtherProficiencySelect[_0x331127(0x282)](_0x464511);const _0x52885e=await Charactermancer_OtherProficiencySelect['pGetUserInput']({..._0x55df6f,'existingFvtt':{'weaponProficiencies':_0x3e3e36},'available':_0x464511});if(!_0x52885e)return _0x17e3a6[_0x331127(0x2e4)]=!![];if(_0x52885e===VeCt[_0x331127(0x280)])return;this[_0x331127(0x345)]({'existingProfsActor':_0x3e3e36,'formData':_0x52885e,'actorData':_0x56d4f6});}static['doApplyWeaponProficienciesFormDataToActorUpdate']({existingProfsActor:_0x4b60d6,formData:_0x33e8f4,actorData:_0x46bec9}){const _0x21ab1b=_0x16222;this[_0x21ab1b(0x324)]({'existingProfsActor':_0x4b60d6,'formData':_0x33e8f4,'formDataProp':'weaponProficiencies','actorData':_0x46bec9,'opts':{'fnGetMappedItem':_0x21aaed=>UtilActors[_0x21ab1b(0x23a)](_0x21aaed),'fnGetMappedCustomItem':_0x12facd=>Renderer[_0x21ab1b(0x304)](_0x12facd)[0x0][_0x21ab1b(0x352)](),'actorTraitProp':'weaponProf'}});}static[_0x16222(0x324)]({existingProfsActor:_0x2ab9b5,formData:_0x30db80,formDataProp:_0x556b81,actorData:_0x124788,opts:_0x2843a4}){const _0x3c70fa=_0x16222;if(!_0x30db80?.[_0x3c70fa(0x335)]?.[_0x556b81])return![];_0x2ab9b5=_0x2ab9b5||{};const _0x1a0ef6=_0x30db80[_0x3c70fa(0x335)][_0x556b81];if(!Object[_0x3c70fa(0x2b5)](_0x1a0ef6)[_0x3c70fa(0x2e2)])return![];const _0x3077ce=MiscUtil['copy'](_0x1a0ef6),_0x2d2f32=new Set();Object['keys'](_0x3077ce)[_0x3c70fa(0x2d2)](_0x1c8443=>_0x3077ce[_0x1c8443])[_0x3c70fa(0x269)](_0x3c5604=>_0x2d2f32['add'](_0x3c5604));const _0x356dea=new Set(),_0x354ce5=[];(_0x2ab9b5[_0x3c70fa(0x1f4)]||[])[_0x3c70fa(0x269)](_0x1487e5=>_0x356dea[_0x3c70fa(0x33e)](_0x1487e5)),(_0x2ab9b5[_0x3c70fa(0x339)]||'')[_0x3c70fa(0x231)](';')[_0x3c70fa(0x326)](_0x482923=>_0x482923[_0x3c70fa(0x2fe)]())['filter'](Boolean)['forEach'](_0x14513e=>this['_doApplyFormData_doCheckAddCustomItem'](_0x354ce5,_0x14513e));const _0x51f19d=MiscUtil[_0x3c70fa(0x245)](_0x124788,_0x3c70fa(0x21d),_0x2843a4[_0x3c70fa(0x2ad)]);(_0x51f19d?.['value']||[])[_0x3c70fa(0x269)](_0x5f4e33=>_0x356dea[_0x3c70fa(0x33e)](_0x5f4e33)),(_0x51f19d?.[_0x3c70fa(0x339)]||'')['split'](';')['map'](_0x36f68b=>_0x36f68b['trim']())[_0x3c70fa(0x2d2)](Boolean)['forEach'](_0x17a27c=>this[_0x3c70fa(0x2b3)](_0x354ce5,_0x17a27c)),_0x2d2f32[_0x3c70fa(0x269)](_0x1e7ee9=>{const _0x2d9ca9=_0x3c70fa,_0x4927b2=_0x2843a4[_0x2d9ca9(0x2c6)]?_0x2843a4[_0x2d9ca9(0x2c6)](_0x1e7ee9):_0x1e7ee9;if(_0x4927b2)_0x356dea[_0x2d9ca9(0x33e)](_0x4927b2);else{const _0x4a69a4=_0x2843a4[_0x2d9ca9(0x2c9)]?_0x2843a4[_0x2d9ca9(0x2c9)](_0x1e7ee9):_0x1e7ee9[_0x2d9ca9(0x352)]();this[_0x2d9ca9(0x2b3)](_0x354ce5,_0x4a69a4);}});const _0x58b446=MiscUtil[_0x3c70fa(0x2cd)](_0x124788,_0x3c70fa(0x21d),_0x2843a4[_0x3c70fa(0x2ad)],{});_0x58b446[_0x3c70fa(0x1f4)]=[..._0x356dea][_0x3c70fa(0x326)](_0xf0f42c=>_0xf0f42c['toLowerCase']())[_0x3c70fa(0x28f)](SortUtil[_0x3c70fa(0x23f)]),_0x58b446[_0x3c70fa(0x339)]=_0x354ce5['join'](';');}static[_0x16222(0x2b3)](_0x4b71e4,_0x499dd4){const _0x5f56f2=_0x16222,_0x3f1457=_0x499dd4[_0x5f56f2(0x2fe)]()[_0x5f56f2(0x224)]();if(!_0x4b71e4[_0x5f56f2(0x2f9)](_0x22585a=>_0x22585a[_0x5f56f2(0x2fe)]()[_0x5f56f2(0x224)]()===_0x3f1457))_0x4b71e4['push'](_0x499dd4);}static[_0x16222(0x2d6)]({existingProfsActor:_0x417241,formData:_0x575498,actorData:_0x18fd1c}){const _0x4ebd8e=_0x16222;if(!_0x575498?.['data']?.['savingThrowProficiencies'])return;_0x18fd1c['abilities']=_0x18fd1c[_0x4ebd8e(0x234)]||{},Parser[_0x4ebd8e(0x2cb)]['filter'](_0x27ea74=>_0x575498[_0x4ebd8e(0x335)]['savingThrowProficiencies'][_0x27ea74])[_0x4ebd8e(0x269)](_0x44c348=>{const _0x38fbb4=_0x4ebd8e,_0x147f8c=Math[_0x38fbb4(0x329)](_0x417241[_0x44c348]?.[_0x38fbb4(0x1d8)]||0x0,_0x575498['data']['savingThrowProficiencies'][_0x44c348]?0x1:0x0,_0x18fd1c[_0x38fbb4(0x234)][_0x44c348]?.[_0x38fbb4(0x1d8)]||0x0),_0x3433d1=_0x147f8c>(MiscUtil[_0x38fbb4(0x245)](_0x18fd1c[_0x38fbb4(0x234)],_0x44c348,'proficient')||0x0);if(_0x3433d1)MiscUtil[_0x38fbb4(0x2cd)](_0x18fd1c['abilities'],_0x44c348,_0x38fbb4(0x1d8),_0x147f8c);});}static async[_0x16222(0x1fe)](_0x4f9e3b,_0x39dd2c,_0x59461f,_0x2a4789,_0x485b5d){const _0x24abb5=_0x16222;_0x485b5d=_0x485b5d||{};const _0x3e7369=await Charactermancer_DamageImmunitySelect[_0x24abb5(0x243)]({..._0x485b5d,'existingFvtt':{'immune':_0x4f9e3b},'available':_0x39dd2c});if(!_0x3e7369)return _0x2a4789['isCancelled']=!![];if(_0x3e7369===VeCt[_0x24abb5(0x280)])return;this['doApplyDamageImmunityFormDataToActorUpdate']({'existingProfsActor':_0x4f9e3b,'formData':_0x3e7369,'actorData':_0x59461f});}static async['pFillActorResistanceData'](_0x42bdea,_0x4d1431,_0x5a88cf,_0x3ced46,_0x241654){const _0x339fa2=_0x16222;_0x241654=_0x241654||{};const _0x4a369b=await Charactermancer_DamageResistanceSelect[_0x339fa2(0x243)]({..._0x241654,'existingFvtt':{'resist':_0x42bdea},'available':_0x4d1431});if(!_0x4a369b)return _0x3ced46[_0x339fa2(0x2e4)]=!![];if(_0x4a369b===VeCt[_0x339fa2(0x280)])return;this[_0x339fa2(0x2f6)]({'existingProfsActor':_0x42bdea,'formData':_0x4a369b,'actorData':_0x5a88cf});}static async['pFillActorVulnerabilityData'](_0x29b123,_0x3cb9cd,_0x5eb093,_0x26d0fb,_0x3dc239){const _0x7716e5=_0x16222;_0x3dc239=_0x3dc239||{};const _0x1bc7a4=await Charactermancer_DamageVulnerabilitySelect[_0x7716e5(0x243)]({..._0x3dc239,'existingFvtt':{'vulnerable':_0x29b123},'available':_0x3cb9cd});if(!_0x1bc7a4)return _0x26d0fb[_0x7716e5(0x2e4)]=!![];if(_0x1bc7a4===VeCt[_0x7716e5(0x280)])return;this[_0x7716e5(0x2a2)]({'existingProfsActor':_0x29b123,'formData':_0x1bc7a4,'actorData':_0x5eb093});}static async[_0x16222(0x261)](_0x57276e,_0x19db9f,_0x344390,_0xe96a64,_0x24315a){const _0x59f9fc=_0x16222;_0x24315a=_0x24315a||{};const _0x1b35b9=await Charactermancer_ConditionImmunitySelect[_0x59f9fc(0x243)]({..._0x24315a,'existingFvtt':{'conditionImmune':_0x57276e},'available':_0x19db9f});if(!_0x1b35b9)return _0xe96a64[_0x59f9fc(0x2e4)]=!![];if(_0x1b35b9===VeCt[_0x59f9fc(0x280)])return;this['doApplyConditionImmunityFormDataToActorUpdate']({'existingProfsActor':_0x57276e,'formData':_0x1b35b9,'actorData':_0x344390});}static[_0x16222(0x24f)]({existingProfsActor:_0x555780,formData:_0x4056cb,actorData:_0xf80a87}){const _0x580d24=_0x16222;this['doApplyOtherProficienciesFormData']({'existingProfsActor':_0x555780,'formData':_0x4056cb,'formDataProp':_0x580d24(0x1ec),'actorData':_0xf80a87,'opts':{'actorTraitProp':'di'}});}static[_0x16222(0x2f6)]({existingProfsActor:_0x9ec1bd,formData:_0x48bfca,actorData:_0x376777}){const _0x16e8b6=_0x16222;this[_0x16e8b6(0x324)]({'existingProfsActor':_0x9ec1bd,'formData':_0x48bfca,'formDataProp':_0x16e8b6(0x262),'actorData':_0x376777,'opts':{'actorTraitProp':'dr'}});}static[_0x16222(0x2a2)]({existingProfsActor:_0x51ff37,formData:_0x1a8c92,actorData:_0x2c9c21}){const _0x60457d=_0x16222;this[_0x60457d(0x324)]({'existingProfsActor':_0x51ff37,'formData':_0x1a8c92,'formDataProp':_0x60457d(0x338),'actorData':_0x2c9c21,'opts':{'actorTraitProp':'dv'}});}static[_0x16222(0x205)]({existingProfsActor:_0x335afe,formData:_0x1732ce,actorData:_0x2f042b}){const _0x284a51=_0x16222;this[_0x284a51(0x324)]({'existingProfsActor':_0x335afe,'formData':_0x1732ce,'formDataProp':_0x284a51(0x1d7),'actorData':_0x2f042b,'opts':{'fnGetMappedItem':_0x55b853=>_0x55b853==='disease'?_0x284a51(0x1fb):_0x55b853,'actorTraitProp':'ci'}});}static async[_0x16222(0x1be)]({existingProficienciesSkills:_0x391270,existingProficienciesTools:_0x598567,expertise:_0x38882b,actorData:_0x26b0af,importOpts:_0x598e08,titlePrefix:_0x50338f}){const _0x2c1e4e=_0x16222,_0x26f276=_0x391270?MiscUtil[_0x2c1e4e(0x264)](_0x391270):_0x391270,_0x52fcf3=_0x598567?MiscUtil[_0x2c1e4e(0x264)](_0x598567):_0x598567;_0x26f276&&_0x26b0af[_0x2c1e4e(0x2bb)]&&Object[_0x2c1e4e(0x2b0)](_0x26b0af['skills'])[_0x2c1e4e(0x269)](([_0x2574ab,_0x541884])=>{const _0x50e849=_0x2c1e4e;if(!_0x541884)return;_0x26f276[_0x2574ab]=_0x26f276[_0x2574ab]||MiscUtil[_0x50e849(0x264)](_0x541884),_0x26f276[_0x2574ab][_0x50e849(0x1f4)]=Math[_0x50e849(0x329)](_0x26f276[_0x2574ab][_0x50e849(0x1f4)],_0x541884[_0x50e849(0x1f4)]);});_0x52fcf3&&_0x26b0af[_0x2c1e4e(0x21d)]?.[_0x2c1e4e(0x334)]&&(_0x52fcf3[_0x2c1e4e(0x1f4)]=[..._0x52fcf3[_0x2c1e4e(0x1f4)],...MiscUtil['copy'](_0x26b0af[_0x2c1e4e(0x21d)][_0x2c1e4e(0x334)][_0x2c1e4e(0x1f4)]||[])][_0x2c1e4e(0x201)]());const _0x35a0c4=await Charactermancer_ExpertiseSelect[_0x2c1e4e(0x243)]({'titlePrefix':_0x50338f,'existingFvtt':{'skillProficiencies':_0x26f276,'toolProficiencies':_0x52fcf3},'available':_0x38882b});if(!_0x35a0c4)return _0x598e08[_0x2c1e4e(0x2e4)]=!![];if(_0x35a0c4===VeCt[_0x2c1e4e(0x280)])return;this[_0x2c1e4e(0x1b8)]({'existingProfsActor':{'skillProficiencies':_0x391270,'toolProficiencies':_0x598567},'formData':_0x35a0c4,'actorData':_0x26b0af});}static[_0x16222(0x1b8)]({existingProfsActor:_0x324648,formData:_0x5e6ff2,actorData:_0x58b751}){const _0x410243=_0x16222;this[_0x410243(0x1da)]({'existingProfsActor':_0x324648[_0x410243(0x29a)],'formData':_0x5e6ff2,'actorData':_0x58b751}),this[_0x410243(0x324)]({'existingProfsActor':_0x324648[_0x410243(0x327)],'formData':_0x5e6ff2,'formDataProp':_0x410243(0x327),'actorData':_0x58b751,'opts':{'fnGetMappedItem':_0x3f509d=>{const _0x1738a8=_0x410243;if(_0x5e6ff2?.['data']?.[_0x1738a8(0x327)][_0x3f509d]===0x2)return null;return UtilActors['getMappedTool'](_0x3f509d);},'fnGetMappedCustomItem':_0x4a20eb=>{const _0x7a3b23=_0x410243;if(_0x5e6ff2?.['data']?.[_0x7a3b23(0x327)][_0x4a20eb]===0x2)return _0x4a20eb[_0x7a3b23(0x352)]()+'\x20(Expertise)';return _0x4a20eb[_0x7a3b23(0x352)]();},'actorTraitProp':_0x410243(0x334)}});}static['doApplySensesFormDataToActorUpdate']({existingSensesActor:_0x19b367,existingTokenActor:_0x578408,formData:_0xb0ad96,actorData:_0x2ba9f3,actorToken:_0x3acf07,configGroup:_0x1e0767}){const _0x2d94c4=_0x16222;if(!Object[_0x2d94c4(0x2b5)](_0xb0ad96?.[_0x2d94c4(0x335)])[_0x2d94c4(0x2e2)])return;const _0xba96d4=MiscUtil[_0x2d94c4(0x266)](_0x2ba9f3,_0x2d94c4(0x20c),_0x2d94c4(0x209),{});Object[_0x2d94c4(0x1f5)](_0xba96d4,MiscUtil['copy'](_0x19b367)),Object['entries'](_0xb0ad96[_0x2d94c4(0x335)])[_0x2d94c4(0x269)](([_0x22d4f7,_0x29af2b])=>{const _0x4aedce=_0x2d94c4;_0x29af2b=Config[_0x4aedce(0x2ca)]({'configGroup':_0x1e0767,'originalValue':_0x29af2b,'originalUnit':_0x4aedce(0x250)});if(!_0xba96d4[_0x22d4f7])return _0xba96d4[_0x22d4f7]=_0x29af2b;_0xba96d4[_0x22d4f7]=Math[_0x4aedce(0x329)](_0xba96d4[_0x22d4f7],_0x29af2b);});const _0x4c0c69=Config['getMetricUnitDistance']({'configGroup':_0x1e0767,'originalUnit':'ft'});if(Object[_0x2d94c4(0x2b5)](_0xba96d4)[_0x2d94c4(0x2e2)]&&(!_0xba96d4[_0x2d94c4(0x306)]||_0x4c0c69!=='ft'))_0xba96d4[_0x2d94c4(0x306)]=_0x4c0c69;let {dimSight:_0x1377bf}=_0x578408||{};if(_0x1377bf===0x3e7)_0x1377bf=0x0;if(!_0x1377bf)_0x1377bf=0x0;if(isNaN(_0x1377bf))_0x1377bf=0x0;_0x1377bf=Number(_0x1377bf);if(!_0x1377bf)_0x3acf07['dimSight']=_0x1377bf;_0x3acf07[_0x2d94c4(0x32c)]=!![],this[_0x2d94c4(0x2b2)]({'dataAttributesSenses':_0xba96d4,'dataToken':_0x3acf07});}static[_0x16222(0x2b2)]({dataAttributesSenses:_0x445b0d,dataToken:_0x3b2645}){const _0x4bae01=_0x16222;if(!_0x445b0d)return{'dataAttributesSenses':_0x445b0d,'dataToken':_0x3b2645};if(_0x445b0d[_0x4bae01(0x1c8)])_0x3b2645[_0x4bae01(0x25d)]=Math[_0x4bae01(0x329)](_0x3b2645[_0x4bae01(0x25d)],_0x445b0d[_0x4bae01(0x1c8)]);for(const _0x24b7da of[_0x4bae01(0x229),_0x4bae01(0x303),_0x4bae01(0x2f5)]){if(_0x445b0d[_0x24b7da])_0x3b2645[_0x4bae01(0x33a)]=Math[_0x4bae01(0x329)](_0x3b2645[_0x4bae01(0x33a)],_0x445b0d[_0x24b7da]);}return{'dataAttributesSenses':_0x445b0d,'dataToken':_0x3b2645};}static[_0x16222(0x1b6)](_0x146443,{summonSpellLevel:summonSpellLevel=0x0}={}){const _0x42abab=_0x16222,_0x13dbd9=[],_0x55ea8f=_0x146443[_0x42abab(0x1d0)](_0x42abab(0x32b)),_0x5b9dbe=_0x146443[_0x42abab(0x248)](/(?:(\d+)|\(?{@(?:dice|damage) ([^|}]+)(?:\|[^}]+)?}(?:\s+[-+]\s+the spell's level)?(?: plus {@(?:dice|damage) ([^|}]+)(?:\|[^}]+)?})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0x4f2257)=>{const _0x18c7b7=_0x42abab,[,_0x2606e6,_0x51568a,_0x4482ff,_0x5d5405,_0x9e28b4]=_0x4f2257,_0x5537d2=_0x51568a?_0x51568a[_0x18c7b7(0x231)]('|')[0x0]:null,_0x1e822f=_0x4482ff?_0x4482ff[_0x18c7b7(0x231)]('|')[0x0]:null,_0x56d6aa=_0x2606e6!=null;let _0xc7af6a=_0x56d6aa?_0x2606e6:_0x1e822f?_0x5537d2+_0x18c7b7(0x21c)+_0x1e822f:_0x5537d2;if(_0x56d6aa){const _0x1756a0=_0x146443[_0x18c7b7(0x231)](/( )/g);let _0x1e985a=0x0;const _0x982c36=[];for(let _0x498734=0x0;_0x498734<_0x1756a0[_0x18c7b7(0x2e2)];++_0x498734){_0x982c36[_0x18c7b7(0x208)](_0x1756a0[_0x498734]),_0x1e985a+=_0x1756a0[_0x498734]['length'];if(_0x1e985a===_0x9e28b4){const _0x39c2f5=_0x982c36[_0x18c7b7(0x310)](-0x4);if(/^by dealing$/i[_0x18c7b7(0x1c0)](_0x39c2f5[_0x18c7b7(0x265)]('')['trim']()))return'';}}}_0xc7af6a=_0xc7af6a[_0x18c7b7(0x248)](/\bPB\b/gi,'@srd5e.userchar.pb'),_0xc7af6a=_0xc7af6a['replace'](/\bsummonSpellLevel\b/gi,''+(summonSpellLevel??0x0));const _0x2eacb5={'tuple':[_0xc7af6a,_0x5d5405]};return~_0x55ea8f&&_0x9e28b4>=_0x55ea8f&&(_0x2eacb5['isOnFailSavingThrow']=!![]),_0x13dbd9[_0x18c7b7(0x208)](_0x2eacb5),'';});return{'str':_0x5b9dbe,'damageTupleMetas':_0x13dbd9['filter'](_0x2284dd=>_0x2284dd['tuple'][_0x42abab(0x2e2)])};}static['getDamagePartsAndOtherFormula'](_0x1bbcc3){const _0x128d9a=_0x16222;_0x1bbcc3=_0x1bbcc3||[];if(!Config[_0x128d9a(0x245)]('import',_0x128d9a(0x25a)))return{'damageParts':_0x1bbcc3[_0x128d9a(0x326)](_0x1c96d4=>_0x1c96d4[_0x128d9a(0x25b)]),'formula':''};const _0x67658c=[];let _0x2c6597='';_0x1bbcc3[_0x128d9a(0x269)](_0x1031da=>{const _0x12d214=_0x128d9a;if(_0x2c6597||!_0x1031da[_0x12d214(0x1bd)])return _0x67658c[_0x12d214(0x208)](_0x1031da[_0x12d214(0x25b)]);_0x2c6597=''+_0x1031da[_0x12d214(0x25b)][0x0]+(_0x1031da[_0x12d214(0x25b)][0x1]?'['+_0x1031da[_0x12d214(0x25b)][0x1]+']':'');});if(!_0x67658c['length'])return{'damageParts':_0x1bbcc3[_0x128d9a(0x326)](_0x38c4dd=>_0x38c4dd[_0x128d9a(0x25b)]),'formula':''};return{'damageParts':_0x67658c,'formula':_0x2c6597};}static[_0x16222(0x317)](_0x4e0c4f,_0x10c347,_0x43909f){const _0x1c5ae9=_0x16222;if(_0x4e0c4f==null)return null;if(typeof _0x4e0c4f===_0x1c5ae9(0x24a))return _0x10c347===_0x1c5ae9(0x25e)?Config[_0x1c5ae9(0x2ca)]({'configGroup':_0x43909f,'originalValue':_0x4e0c4f,'originalUnit':_0x1c5ae9(0x250)}):null;const _0x10c089=_0x4e0c4f[_0x10c347];if(_0x10c089==null)return null;if(typeof _0x10c089===_0x1c5ae9(0x21e))return null;if(_0x10c089[_0x1c5ae9(0x24a)]!=null)return Config[_0x1c5ae9(0x2ca)]({'configGroup':_0x43909f,'originalValue':_0x10c089['number'],'originalUnit':_0x1c5ae9(0x250)});if(isNaN(_0x10c089))return null;return Config[_0x1c5ae9(0x2ca)]({'configGroup':_0x43909f,'originalValue':Number(_0x10c089),'originalUnit':_0x1c5ae9(0x250)});}static [_0x16222(0x276)]={'burrow':'burrow','climb':_0x16222(0x2fa),'fly':_0x16222(0x210),'swim':_0x16222(0x1f9)};static async[_0x16222(0x32e)](_0x46d65a,{actor:_0x2c22db,actorItem:_0x44a210,iconEntity:_0x47dbf1,iconPropCompendium:_0x532fc2}={}){const _0x3b439a=_0x16222;if(_0x46d65a==null||typeof _0x46d65a==='number')return[];const _0x3c43ff=Object[_0x3b439a(0x2b0)](_0x46d65a)[_0x3b439a(0x2d2)](([_0x529814,_0x15e49e])=>this[_0x3b439a(0x276)][_0x529814]&&_0x15e49e===!![]);if(!_0x3c43ff[_0x3b439a(0x2e2)])return[];const _0x2da1dc=_0x47dbf1&&_0x532fc2?await this['_pGetSaveImagePath'](_0x47dbf1,{'propCompendium':_0x532fc2}):undefined;return _0x3c43ff[_0x3b439a(0x326)](([_0x4530a4])=>{const _0x301702=_0x3b439a;return UtilActiveEffects[_0x301702(0x268)]({'key':'data.attributes.movement.'+this[_0x301702(0x276)][_0x4530a4],'value':_0x301702(0x2a7),'mode':CONST[_0x301702(0x34a)]['OVERRIDE'],'label':_0x4530a4['toTitleCase']()+_0x301702(0x308),'icon':_0x2da1dc,'disabled':![],'priority':UtilActiveEffects[_0x301702(0x2a5)],'originActor':_0x2c22db,'originActorItem':_0x44a210});});}static[_0x16222(0x30c)](_0xc3fd6c){const _0x399c3c=_0x16222;if(typeof _0xc3fd6c===_0x399c3c(0x24a))return![];return!!_0xc3fd6c['canHover'];}static[_0x16222(0x32a)](_0x1a00c3,{configGroup:configGroup=null}={}){const _0x656054=_0x16222;return{'burrow':DataConverter[_0x656054(0x317)](_0x1a00c3,_0x656054(0x249),configGroup),'climb':DataConverter[_0x656054(0x317)](_0x1a00c3,_0x656054(0x2fa),configGroup),'fly':DataConverter[_0x656054(0x317)](_0x1a00c3,_0x656054(0x210),configGroup),'swim':DataConverter[_0x656054(0x317)](_0x1a00c3,_0x656054(0x1f9),configGroup),'walk':DataConverter[_0x656054(0x317)](_0x1a00c3,_0x656054(0x25e),configGroup),'units':Config[_0x656054(0x1f3)]({'configGroup':configGroup,'originalUnit':'ft'}),'hover':DataConverter[_0x656054(0x30c)](_0x1a00c3)};}static[_0x16222(0x1f0)](_0x491d34,_0xd1b9c5){const _0x2a1368=_0x16222;if(!(_0xd1b9c5[_0x2a1368(0x2b0)]&&_0xd1b9c5[_0x2a1368(0x2b0)][0x0]&&typeof _0xd1b9c5['entries'][0x0]===_0x2a1368(0x247)))return;const _0x4cfddc=[];let _0x2c430d=0x0;const _0x494cb7=_0xd1b9c5[_0x2a1368(0x2b0)][0x0];_0x4cfddc[_0x2a1368(0x208)](...DataConverter[_0x2a1368(0x1b6)](_0x494cb7)['damageTupleMetas']);const {rangeShort:_0x5aa2f0,rangeLong:_0x5745f2}=DataConverter[_0x2a1368(0x1e4)](_0x494cb7),_0x2dcda0=/{@hit ([^|}]+)(?:\|[^}]+)?}/gi[_0x2a1368(0x30e)](_0x494cb7);if(_0x2dcda0){const _0x508110=Number(_0x2dcda0[0x1]);!isNaN(_0x508110)&&(_0x2c430d=_0x508110);}const {isAttack:_0x5c079f,actionType:_0x294544,attackTypes:_0x32ad56}=DataConverter['getAttackActionType'](_0x494cb7);return{'damageTupleMetas':_0x4cfddc,'isAttack':_0x5c079f,'rangeShort':_0x5aa2f0,'rangeLong':_0x5745f2,'actionType':_0x294544,'attackBonus':_0x2c430d,'attackTypes':_0x32ad56};}static[_0x16222(0x1e4)](_0x33d71){const _0x262970=_0x16222;let _0x5d7636=0x0,_0x114ad7=0x0;const _0x598dfb=/range (\d+)\/(\d+) ft/gi[_0x262970(0x30e)](_0x33d71);if(_0x598dfb)_0x5d7636=Number(_0x598dfb[0x1]),_0x114ad7=Number(_0x598dfb[0x2]);else{const _0x515891=/reach (\d+) ft/gi['exec'](_0x33d71);_0x515891&&(_0x5d7636=Number(_0x515891[0x1]));}return{'rangeShort':_0x5d7636,'rangeLong':_0x114ad7};}static[_0x16222(0x301)](_0x2ee46a){const _0x2763dd=_0x16222;let _0x2a0e6b='',_0x5548aa=![],_0xbee64b='';const _0x54664a=/{@atk ([^}]+)}/gi[_0x2763dd(0x30e)](_0x2ee46a);if(_0x54664a){_0xbee64b=_0x54664a[0x1],_0x5548aa=!![];if(_0xbee64b[_0x2763dd(0x2d3)]('s')){if(_0xbee64b[_0x2763dd(0x2d3)]('m'))_0x2a0e6b=_0x2763dd(0x272);else _0x2a0e6b=_0x2763dd(0x2cf);}else{if(_0xbee64b[_0x2763dd(0x2d3)]('m'))_0x2a0e6b='mwak';else{if(_0xbee64b[_0x2763dd(0x2d3)]('r'))_0x2a0e6b=_0x2763dd(0x297);}}}return{'actionType':_0x2a0e6b,'isAttack':_0x5548aa,'attackTypes':_0xbee64b};}static[_0x16222(0x344)](_0x343566){const _0x16bb58=_0x16222,_0x50b2e6={},_0x1f27cb=new Set();let _0x4181f0=[];this[_0x16bb58(0x305)]({'ent':_0x343566,'validTypesArr':UtilActors[_0x16bb58(0x2ce)],'fnRender':Parser['getFullImmRes'],'prop':'immune','allSet':_0x1f27cb,'customStack':_0x4181f0}),_0x50b2e6['di']={'value':[..._0x1f27cb],'custom':_0x4181f0['join'](',\x20')};const _0x3a6bb2=new Set();let _0x1df00e=[];this[_0x16bb58(0x305)]({'ent':_0x343566,'validTypesArr':UtilActors['VALID_DAMAGE_TYPES'],'fnRender':Parser[_0x16bb58(0x237)],'prop':_0x16bb58(0x262),'allSet':_0x3a6bb2,'customStack':_0x1df00e}),_0x50b2e6['dr']={'value':[..._0x3a6bb2],'custom':_0x1df00e[_0x16bb58(0x265)](',\x20')};const _0x19723a=new Set();let _0x2a28b2=[];this[_0x16bb58(0x305)]({'ent':_0x343566,'validTypesArr':UtilActors[_0x16bb58(0x2ce)],'fnRender':Parser['getFullImmRes'],'prop':_0x16bb58(0x338),'allSet':_0x19723a,'customStack':_0x2a28b2}),_0x50b2e6['dv']={'value':[..._0x19723a],'custom':_0x2a28b2[_0x16bb58(0x265)](',\x20')};const _0x170f69=new Set();let _0x1f1b45=[];return this[_0x16bb58(0x305)]({'ent':_0x343566,'validTypesArr':UtilActors[_0x16bb58(0x1d6)],'fnRender':_0x35ce0c=>Parser[_0x16bb58(0x290)](_0x35ce0c,!![]),'prop':'conditionImmune','allSet':_0x170f69,'customStack':_0x1f1b45}),_0x50b2e6['ci']={'value':[..._0x170f69],'custom':_0x1f1b45[_0x16bb58(0x265)](',\x20')},_0x50b2e6;}static[_0x16222(0x305)]({ent:_0x39869f,validTypesArr:_0x3c5a14,fnRender:_0x404fee,prop:_0x3e7a61,allSet:_0xf9c708,customStack:_0x4a099b}){if(!_0x39869f[_0x3e7a61])return;_0x39869f[_0x3e7a61]['forEach'](_0x4139c8=>{const _0x291dde=_0x2027;if(_0x3c5a14[_0x291dde(0x2d3)](_0x4139c8))_0xf9c708[_0x291dde(0x33e)](_0x4139c8);else{if(this[_0x291dde(0x2ae)][_0x291dde(0x287)](_0x3e7a61)&&_0x4139c8[_0x3e7a61]&&_0x4139c8[_0x3e7a61]instanceof Array&&CollectionUtil[_0x291dde(0x2b9)](new Set(_0x4139c8[_0x3e7a61]),this[_0x291dde(0x2a1)])&&_0x4139c8['note']&&/\bnon[- ]?magical\b/[_0x291dde(0x1c0)](_0x4139c8[_0x291dde(0x292)])&&_0x4139c8['cond'])_0xf9c708['add'](_0x291dde(0x227));else{const _0x1df11e=_0x404fee([_0x4139c8]);_0x4a099b['push'](_0x1df11e);}}});}static async[_0x16222(0x354)](_0x336441,{propBrew:_0x5f1c36,fnLoadJson:_0x4d3087,propJson:_0x5e7c23,propsMatch:propsMatch=[_0x16222(0x330),_0x16222(0x33c)]}){const _0x142dbe=_0x16222,_0x2680ec=[];if(UtilCompat[_0x142dbe(0x1d3)]()){const _0x3c0605=propsMatch[_0x142dbe(0x326)](_0x9bbdb4=>_0x336441[_0x9bbdb4])['filter'](Boolean),_0x3e7eba=await UtilCompat[_0x142dbe(0x30f)](UtilCompat[_0x142dbe(0x1b1)])[_0x142dbe(0x32d)](_0x5e7c23,..._0x3c0605),_0x53948b=(_0x3e7eba?.[_0x5e7c23]||[])['find'](_0x5829f5=>this['_pGetAdditional_fnMatch'](_0x336441,_0x5829f5,propsMatch));if(_0x53948b)_0x2680ec['push'](_0x53948b);}if(_0x5f1c36){const _0x519436=await BrewUtil2['pGetBrewProcessed'](),_0x3371f6=(MiscUtil[_0x142dbe(0x245)](_0x519436,_0x5f1c36)||[])[_0x142dbe(0x2b4)](_0x29daac=>this['_pGetAdditional_fnMatch'](_0x336441,_0x29daac,propsMatch));if(_0x3371f6)_0x2680ec[_0x142dbe(0x208)](_0x3371f6);}if(_0x4d3087&&_0x5e7c23){const _0x562097=await _0x4d3087(),_0x2ad34c=(_0x562097[_0x5e7c23]||[])[_0x142dbe(0x2b4)](_0x340667=>this['_pGetAdditional_fnMatch'](_0x336441,_0x340667,propsMatch));if(_0x2ad34c)_0x2680ec[_0x142dbe(0x208)](_0x2ad34c);}if(!_0x2680ec['length'])return null;if(_0x2680ec[_0x142dbe(0x2e2)]===0x1)return _0x2680ec[0x0];const _0x553ed4=MiscUtil[_0x142dbe(0x264)](_0x2680ec[0x0]);return delete _0x553ed4[_0x142dbe(0x24c)],_0x2680ec[_0x142dbe(0x310)](0x1)[_0x142dbe(0x269)]((_0x15722e,_0x2b5ff7)=>{const _0x3eb849=_0x142dbe;Object[_0x3eb849(0x2b0)](_0x15722e)[_0x3eb849(0x2d2)](([_0x1f3967])=>_0x1f3967!==_0x3eb849(0x24c))[_0x3eb849(0x269)](([_0x3e337e,_0x1fa126])=>{const _0x172d74=_0x3eb849;if(_0x553ed4[_0x3e337e]===undefined)return _0x553ed4[_0x3e337e]=_0x1fa126;const _0x510216=_0x2680ec[_0x172d74(0x310)](0x0,_0x2b5ff7+0x1);if(!_0x510216['every'](_0x34b8dc=>_0x34b8dc[_0x3e337e]===undefined||_0x34b8dc[_0x172d74(0x24c)]?.[_0x3e337e]))return;if(_0x553ed4[_0x3e337e]==null)return _0x553ed4[_0x3e337e]=_0x1fa126;if(typeof _0x553ed4[_0x3e337e]!==_0x172d74(0x2db))return _0x553ed4[_0x3e337e]=_0x1fa126;if(_0x553ed4[_0x3e337e]instanceof Array){if(!(_0x1fa126 instanceof Array))throw new Error('Could\x20not\x20_merge\x20array\x20and\x20non-array');return _0x553ed4[_0x3e337e]=[..._0x553ed4[_0x3e337e],..._0x1fa126];}_0x553ed4[_0x3e337e]=foundry[_0x172d74(0x257)]['mergeObject'](_0x553ed4[_0x3e337e],_0x1fa126);});}),_0x553ed4;}static[_0x16222(0x26b)](_0x32b928,_0xe8bcfd,_0x2ac10b){const _0x16d339=_0x16222;return _0x2ac10b[_0x16d339(0x1de)](_0x5c1ce1=>{const _0x3a3645=_0x16d339;if(typeof _0x32b928[_0x5c1ce1]==='number'||typeof _0xe8bcfd[_0x5c1ce1]===_0x3a3645(0x24a))return Number(_0x32b928[_0x5c1ce1])===Number(_0xe8bcfd[_0x5c1ce1]);return(''+(_0x32b928[_0x5c1ce1]||''))['toLowerCase']()===''+(_0xe8bcfd[_0x5c1ce1]||'')[_0x3a3645(0x224)]();});}static async[_0x16222(0x2e0)](_0x2bba31,{propBrew:_0x195e8d,fnLoadJson:_0x1bd2fc,propJson:_0xc99a35,propsMatch:_0x537346}){const _0x32a77b=_0x16222;return this['_pGetStarSideLoaded'](_0x2bba31,{'propBrew':_0x195e8d,'fnLoadJson':_0x1bd2fc,'propJson':_0xc99a35,'propsMatch':_0x537346,'propFromEntity':_0x32a77b(0x309),'propFromSideLoaded':'data'});}static async[_0x16222(0x1e9)](_0x29be5d,{propBrew:_0x4d993b,fnLoadJson:_0xe9501d,propJson:_0xdcf7e7,propsMatch:_0x466289,validTypes:_0x347d10}){const _0x25338f=_0x16222;let _0x2359d7=await this[_0x25338f(0x2c8)](_0x29be5d,{'propBrew':_0x4d993b,'fnLoadJson':_0xe9501d,'propJson':_0xdcf7e7,'propsMatch':_0x466289,'propFromEntity':_0x25338f(0x2ea),'propFromSideLoaded':_0x25338f(0x2e1)});if(!_0x2359d7)return _0x2359d7;_0x2359d7=_0x2359d7[_0x25338f(0x224)]()[_0x25338f(0x2fe)]();if(_0x347d10&&!_0x347d10[_0x25338f(0x287)](_0x2359d7))return null;return _0x2359d7;}static async[_0x16222(0x291)](_0x49222e,{propBrew:_0x2dd87d,fnLoadJson:_0x132fd0,propJson:_0x5c1acc,propsMatch:_0x1152e9}){const _0x27f786=_0x16222,_0x47f106=await this[_0x27f786(0x2c8)](_0x49222e,{'propBrew':_0x2dd87d,'fnLoadJson':_0x132fd0,'propJson':_0x5c1acc,'propsMatch':_0x1152e9,'propFromEntity':'foundryEffects','propFromSideLoaded':_0x27f786(0x28a)});if(!_0x47f106?.['length'])return _0x47f106;return _0x47f106[_0x27f786(0x2d2)](_0x659d8c=>{const _0x2e37d2=_0x27f786;if(!_0x659d8c)return![];if(!_0x659d8c[_0x2e37d2(0x233)])return!![];return Object[_0x2e37d2(0x2b5)](_0x659d8c['requires'])[_0x2e37d2(0x1de)](_0x1e5443=>UtilCompat[_0x2e37d2(0x1c9)](_0x1e5443));});}static async[_0x16222(0x2c8)](_0x49b1ed,{propBrew:_0x2c32a8,fnLoadJson:_0x5a0f9e,propJson:_0x3c3ec9,propsMatch:_0x2112d8,propFromEntity:_0x2f39be,propFromSideLoaded:_0x45bcf1}){const _0x6973b6=_0x16222,_0x31f4bf=await this[_0x6973b6(0x354)](_0x49b1ed,{'propBrew':_0x2c32a8,'fnLoadJson':_0x5a0f9e,'propJson':_0x3c3ec9,'propsMatch':_0x2112d8});return this[_0x6973b6(0x32f)](_0x49b1ed,{'propFromEntity':_0x2f39be,'propFromSideLoaded':_0x45bcf1,'found':_0x31f4bf});}static async['_pGetStarSideLoadedFound'](_0x564899,{propFromEntity:_0x23e170,propFromSideLoaded:_0x508127,found:_0x49d986}){const _0x2db225=_0x16222,_0x271757=_0x564899[_0x23e170];if((!_0x49d986||!_0x49d986[_0x508127])&&!_0x271757)return null;const _0x158b60=MiscUtil[_0x2db225(0x264)](_0x49d986?.[_0x508127]?_0x49d986[_0x508127]:_0x271757);if(_0x49d986?.[_0x508127]&&_0x271757){if(_0x158b60 instanceof Array)_0x158b60[_0x2db225(0x208)](...MiscUtil['copy'](_0x271757));else Object['assign'](_0x158b60,MiscUtil[_0x2db225(0x264)](_0x271757));}return _0x158b60;}static async[_0x16222(0x27b)](_0x5ddece,{propBrew:_0x42bc6a,fnLoadJson:_0x16eef8,propJson:_0x449b05,propsMatch:_0x121df9}){return this['_pGetStarSideLoaded'](_0x5ddece,{'propBrew':_0x42bc6a,'fnLoadJson':_0x16eef8,'propJson':_0x449b05,'propsMatch':_0x121df9,'propFromEntity':'foundryFlags','propFromSideLoaded':'flags'});}static async[_0x16222(0x1ce)](_0x529ac5,{propBrew:_0x2493d2,fnLoadJson:_0x295b69,propJson:_0x2dbdf2,propsMatch:_0x6184ce}){const _0x2a4ea1=_0x16222;return this['_pGetStarSideLoaded'](_0x529ac5,{'propBrew':_0x2493d2,'fnLoadJson':_0x295b69,'propJson':_0x2dbdf2,'propsMatch':_0x6184ce,'propFromEntity':_0x2a4ea1(0x241),'propFromSideLoaded':_0x2a4ea1(0x2f8)});}static async[_0x16222(0x34c)](_0x2d0196,{propBrew:_0x3ce0f6,fnLoadJson:_0x21f7bd,propJson:_0x46c06e,propsMatch:_0x20418f}){const _0x1f9105=_0x16222;return this[_0x1f9105(0x2c8)](_0x2d0196,{'propBrew':_0x3ce0f6,'fnLoadJson':_0x21f7bd,'propJson':_0x46c06e,'propsMatch':_0x20418f,'propFromEntity':_0x1f9105(0x320),'propFromSideLoaded':_0x1f9105(0x27c)});}static async[_0x16222(0x2d7)](_0x16eec1,{propBrew:_0x3999bd,fnLoadJson:_0x455c66,propJson:_0x5e69e3,propsMatch:_0x2fb390}){const _0x38c17=_0x16222;return this[_0x38c17(0x2c8)](_0x16eec1,{'propBrew':_0x3999bd,'fnLoadJson':_0x455c66,'propJson':_0x5e69e3,'propsMatch':_0x2fb390,'propFromEntity':_0x38c17(0x223),'propFromSideLoaded':_0x38c17(0x202)});}static[_0x16222(0x220)](_0xf7ddb9,_0x355ade){const _0x34d2ce=_0x16222,_0x5300d1=_0xf7ddb9[_0x34d2ce(0x2b4)](_0x5b4944=>_0x5b4944['raw']===_0x355ade);if(!_0x5300d1)return ui[_0x34d2ce(0x2f4)][_0x34d2ce(0x1bc)]('Failed\x20to\x20link\x20embedded\x20entity\x20for\x20active\x20effects!\x20'+VeCt['STR_SEE_CONSOLE']),console[_0x34d2ce(0x1bc)](...LGT,_0x34d2ce(0x267),_0x355ade,_0x34d2ce(0x2f2),_0xf7ddb9),null;return _0x5300d1;}static[_0x16222(0x238)]({consumes:_0x5131fd,actor:_0x1759de}){const _0xb32caa=_0x16222;return(_0x1759de?.[_0xb32caa(0x27a)]?.[_0xb32caa(0x311)]||[])[_0xb32caa(0x2b4)](_0x3f9789=>_0x3f9789[_0xb32caa(0x2e1)]==='feat'&&_0x3f9789[_0xb32caa(0x33c)][_0xb32caa(0x224)]()['trim']()===_0x5131fd['name']['toLowerCase']()[_0xb32caa(0x2fe)]());}static[_0x16222(0x2d8)](_0x5de420,_0x3846ed){if(!_0x5de420)return;_0x5de420['forEach'](_0x219add=>{const _0x2af08e=_0x2027,_0x564c40=this['_isOnActivationEffect'](_0x219add),_0x11f73d=Config['get'](_0x3846ed,_0x2af08e(0x1cf));switch(_0x11f73d){case ConfigConsts['C_USE_PLUT_VALUE']:_0x219add[_0x2af08e(0x228)]=_0x564c40;break;case ConfigConsts[_0x2af08e(0x2a4)]:_0x219add[_0x2af08e(0x228)]=![];break;case ConfigConsts[_0x2af08e(0x296)]:_0x219add['disabled']=!![];break;}const _0x9de5fd=Config[_0x2af08e(0x245)](_0x3846ed,_0x2af08e(0x1c4));switch(_0x9de5fd){case ConfigConsts[_0x2af08e(0x2eb)]:_0x219add[_0x2af08e(0x22b)]=UtilCompat[_0x2af08e(0x242)]()?!_0x564c40:!![];break;case ConfigConsts['C_BOOL_DISABLED']:_0x219add[_0x2af08e(0x22b)]=![];break;case ConfigConsts['C_BOOL_ENABLED']:_0x219add[_0x2af08e(0x22b)]=!![];break;}});}static[_0x16222(0x20a)](_0x1bda94){const _0x466ffa=_0x16222;if(_0x1bda94?.['duration']?.[_0x466ffa(0x20e)]||_0x1bda94?.['duration']?.[_0x466ffa(0x34f)]||_0x1bda94?.[_0x466ffa(0x2c5)]?.['turns'])return![];if(UtilCompat[_0x466ffa(0x242)]()){if(_0x1bda94?.[_0x466ffa(0x1fc)]?.[_0x466ffa(0x34d)]?.[_0x466ffa(0x283)]||(_0x1bda94?.[_0x466ffa(0x1fc)]?.['dae']?.[_0x466ffa(0x28e)]||[])['length'])return!![];return![];}return![];}}DataConverter[_0x16222(0x2c1)]=_0x16222(0x289),DataConverter[_0x16222(0x315)]=new Set(['AT','GS','INS','T']),DataConverter[_0x16222(0x206)]=new Set(['M','R']),DataConverter[_0x16222(0x1d9)]=new Set(['LA','MA','HA','S']),DataConverter['_PROPS_DAMAGE_IMM_VULN_RES']=new Set(['immune',_0x16222(0x262),_0x16222(0x338)]),DataConverter[_0x16222(0x2a1)]=new Set([_0x16222(0x1a8),_0x16222(0x2b1),_0x16222(0x28c)]),DataConverter[_0x16222(0x2b7)]=['full','artificer',_0x16222(0x333),'1/3',_0x16222(0x281)];export{DataConverter};