const _0x5a3f3f=_0x33b5;function _0x33b5(_0x1c0642,_0x31fb22){const _0x394a20=_0x394a();return _0x33b5=function(_0x33b54b,_0x5c7cc2){_0x33b54b=_0x33b54b-0x93;let _0x48686c=_0x394a20[_0x33b54b];return _0x48686c;},_0x33b5(_0x1c0642,_0x31fb22);}(function(_0x398e13,_0x2835ba){const _0x6a1803=_0x33b5,_0x57d94a=_0x398e13();while(!![]){try{const _0x1c0be2=parseInt(_0x6a1803(0xa3))/0x1*(parseInt(_0x6a1803(0xf3))/0x2)+-parseInt(_0x6a1803(0x9c))/0x3+-parseInt(_0x6a1803(0xb2))/0x4*(parseInt(_0x6a1803(0xfc))/0x5)+parseInt(_0x6a1803(0xf4))/0x6+-parseInt(_0x6a1803(0xbd))/0x7*(parseInt(_0x6a1803(0xdf))/0x8)+-parseInt(_0x6a1803(0xe7))/0x9*(-parseInt(_0x6a1803(0xef))/0xa)+parseInt(_0x6a1803(0xd7))/0xb;if(_0x1c0be2===_0x2835ba)break;else _0x57d94a['push'](_0x57d94a['shift']());}catch(_0x2fae6a){_0x57d94a['push'](_0x57d94a['shift']());}}}(_0x394a,0x3c80d));import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{LGT}from'./Util.js';function _0x394a(){const _0x3b382d=['331280yHjlrA','addClass','senseToExplanation','get','unbindDocumentHandlers','Could\x20not\x20find\x20','events','plutHoverSource','childId','popOut','plutRichLink','encodeForHash','_doBindHandler','.Hover','includes','plutRichLinkEntityType','handleLinkMouseLeave','ENTITY_PERMISSIONS','childEntity','text/plain','_ADDITIONAL_DOCUMENT_HANDLERS','isAutoRollActorEmbeddedDocumentTags','plutHoverHashPreEncoded','metadata','847089GHsyBY','sheet','text','collection','pHandleLinkMouseOver','getLinkSubhashString','bindGeneric','2wdCQml','handlePredefinedMouseOver','Folder','tabs','originalEvent','mousemove','currentTarget','[data-packed-dice]','activateTab','attr','[data-plut-folder-link]','.Import','removeClass','types','parse','8TgXewI','instance','plutHoverPage','jlnk__folder-pulse-1s','MODULE_NAME_FAKE','plutHoverHash','handleLinkMouseMove','plutHoverPreloadOptions','setPosition','dice','stopPropagation','126xBZZiE','scrollIntoView','onclick','getDropJson','pRollerClickUseData','EVT_DATA_SUBTYPE__HOVER','then','center','init','toTitleCase','utils','plutHoverPreloadId','_MIME_TYPES_DROP_JSON','folders','bindDocumentHandlers','push','permission','hover','collapsed','click','dragstart','You\x20do\x20not\x20have\x20permissions\x20to\x20view\x20this\x20','dataTransfer','skillToExplanation','sense','stringify','2773518oLPQWm','add','shiftKey','mouseleave','getData','plutRichLinkOriginalText','entityId','plutHoverPageHover','209848uxQTOg','plutHoverSubhashesHover','_expanded','OBSERVER','application/json','render','plutHoverPreload','[data-plut-hover]','9gLHIyR','mouseover','dataset','_BOUND_DOCUMENT_ELEMENTS','notifications','plutHoverHashPreEncodedHover','mouseOver','element','1086410ipoxOe','[data-folder-id=\x22','EVT_DATA_SUBTYPE__IMPORT','forEach','303822QBecva','2821518psXYpT','roll','warn','plutHoverHashHover','body','registerDocumentHandler','expanded','delete'];_0x394a=function(){return _0x3b382d;};return _0x394a();}class UtilEvents{static[_0x5a3f3f(0xc5)](){const _0x1d416a=_0x5a3f3f;this[_0x1d416a(0xcb)]();}static[_0x5a3f3f(0xcb)]({element:element=document[_0x5a3f3f(0xf8)]}={}){const _0x2f7f15=_0x5a3f3f;$(element)['on'](_0x2f7f15(0xd0),_0x2f7f15(0xaa),function(_0x235169){const _0x3c195b=_0x2f7f15,_0x4cbf20=$(this);if(!_0x4cbf20[_0x3c195b(0xac)](_0x3c195b(0xbf)))Renderer[_0x3c195b(0xbb)][_0x3c195b(0xc1)](_0x235169,this);})['on'](_0x2f7f15(0xe8),'[data-plut-hover]',function(_0x466af4){const _0x295cf0=_0x2f7f15,_0x5e3b6f=!!_0x466af4['currentTarget']['dataset'][_0x295cf0(0xe5)],_0x1be698=_0x466af4['currentTarget'][_0x295cf0(0xe9)]['plutHoverPreloadUid'],_0x500090=_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0xb4)],_0x14b5f1=_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0x103)];let _0x436fa2=_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0xb7)];const _0x7d8e91=_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0xc8)],_0x34a554=!!_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0x9a)],_0x2da8ea=_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0xde)]||_0x500090;let _0x5d676b=_0x466af4['currentTarget'][_0x295cf0(0xe9)][_0x295cf0(0xf7)];const _0x5832cf=!!_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0xec)],_0x367db8=_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0xe0)];if(_0x1be698){const _0x1b5ea4=_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)]['plutHoverTag'],_0x2e9ab2=_0x466af4['currentTarget']['dataset']['plutHoverPipeParts'],_0x1bb4c1=_0x1b5ea4==='skill'?Parser[_0x295cf0(0xd4)]:_0x1b5ea4===_0x295cf0(0xd5)?Parser[_0x295cf0(0xfe)]:null;if(!_0x1bb4c1)return;const [_0x1567c8]=Renderer['splitTagByPipe'](_0x2e9ab2),_0x51963b=Renderer['hover']['getMakePredefinedHover']({'type':'entries','name':_0x1567c8[_0x295cf0(0xc6)](),'entries':_0x1bb4c1(_0x1567c8)},{'id':_0x1be698});_0x51963b[_0x295cf0(0xed)](_0x466af4,this);return;}if(_0x5e3b6f){if(_0x7d8e91==null)return;const _0x57981d=_0x466af4['currentTarget'][_0x295cf0(0xe9)][_0x295cf0(0xb9)];Renderer[_0x295cf0(0xce)][_0x295cf0(0xa4)](_0x466af4,this,_0x7d8e91,_0x57981d?JSON[_0x295cf0(0xb1)](_0x57981d):undefined);return;}if(!_0x2da8ea||!_0x14b5f1||!_0x436fa2)return;if(!_0x34a554)_0x436fa2=UrlUtil['encodeForHash'](_0x436fa2);if(_0x5d676b&&!_0x5832cf)_0x5d676b=UrlUtil[_0x295cf0(0x107)](_0x5d676b);if(!_0x5d676b)_0x5d676b=_0x436fa2;if(_0x367db8){const _0x5590c4=JSON[_0x295cf0(0xb1)](_0x367db8);_0x5d676b+=Renderer[_0x295cf0(0xc7)][_0x295cf0(0xa1)](_0x5590c4);}const _0x478f48={'page':_0x2da8ea,'source':_0x14b5f1,'hash':_0x5d676b,'preloadId':_0x7d8e91,'isDelay':!!_0x466af4[_0x295cf0(0xa9)][_0x295cf0(0xe9)][_0x295cf0(0x106)]};Renderer[_0x295cf0(0xce)][_0x295cf0(0xa0)](_0x466af4,this,_0x478f48)[_0x295cf0(0xc3)](null);})['on'](_0x2f7f15(0xda),_0x2f7f15(0xe6),function(_0x33910f){const _0x541be2=_0x2f7f15;Renderer[_0x541be2(0xce)][_0x541be2(0x94)](_0x33910f,this);})['on'](_0x2f7f15(0xa8),_0x2f7f15(0xe6),function(_0x20e3a9){const _0x36fc4f=_0x2f7f15;Renderer[_0x36fc4f(0xce)][_0x36fc4f(0xb8)](_0x20e3a9,this);})['on'](_0x2f7f15(0xd1),'[data-plut-rich-link]',function(_0x23975f){const _0x1de231=_0x2f7f15,_0x112667=_0x23975f[_0x1de231(0xa9)][_0x1de231(0xe9)][_0x1de231(0x93)],_0x34932e=_0x23975f[_0x1de231(0xa9)][_0x1de231(0xe9)][_0x1de231(0xb4)],_0x163e33=_0x23975f[_0x1de231(0xa9)][_0x1de231(0xe9)][_0x1de231(0x103)];let _0x42ba70=_0x23975f[_0x1de231(0xa9)][_0x1de231(0xe9)][_0x1de231(0xb7)];const _0x34b75b=!!_0x23975f['currentTarget']['dataset']['plutHoverHashPreEncoded'],_0x29ec2f=_0x23975f[_0x1de231(0xa9)][_0x1de231(0xe9)][_0x1de231(0xe0)];if(!_0x34932e||!_0x163e33||!_0x42ba70||!_0x112667)return;if(!_0x34b75b)_0x42ba70=UrlUtil[_0x1de231(0x107)](_0x42ba70);if(_0x29ec2f){const _0x21bded=JSON[_0x1de231(0xb1)](_0x29ec2f);_0x42ba70+=Renderer['utils'][_0x1de231(0xa1)](_0x21bded);}_0x23975f[_0x1de231(0xbc)](),_0x23975f[_0x1de231(0xa7)][_0x1de231(0xd3)]['setData']('text/plain',JSON[_0x1de231(0xd6)]({'type':_0x112667,'subType':UtilEvents[_0x1de231(0xc2)],'page':_0x34932e,'source':_0x163e33,'hash':_0x42ba70,'originalText':_0x23975f[_0x1de231(0xa9)]['dataset'][_0x1de231(0xdc)]}));})['on'](_0x2f7f15(0xd0),'[data-plut-owned-link]',function(_0x2e6247){const _0x4c3d7f=_0x2f7f15,_0x2773ce=_0x2e6247[_0x4c3d7f(0xa9)]['dataset']['parentEntity'],_0x6b2084=_0x2e6247[_0x4c3d7f(0xa9)]['dataset'][_0x4c3d7f(0x96)],_0x41eb13=_0x2e6247[_0x4c3d7f(0xa9)][_0x4c3d7f(0xe9)]['parentId'],_0x11ad28=_0x2e6247[_0x4c3d7f(0xa9)]['dataset'][_0x4c3d7f(0x104)],_0x125f5e=CONFIG[_0x2773ce],_0x1bb127=_0x125f5e[_0x4c3d7f(0x9f)][_0x4c3d7f(0xb3)][_0x4c3d7f(0xff)](_0x41eb13);if(!_0x1bb127){const _0xe1c616=_0x4c3d7f(0x101)+_0x2773ce+'\x20\x22'+_0x41eb13+'\x22!';return console[_0x4c3d7f(0xf6)](...LGT,_0xe1c616),ui['notifications'][_0x4c3d7f(0xf6)](_0xe1c616);}if(_0x1bb127['permission']<CONST['ENTITY_PERMISSIONS'][_0x4c3d7f(0xe2)])return ui[_0x4c3d7f(0xeb)][_0x4c3d7f(0xf6)](_0x4c3d7f(0xd2)+_0x2773ce+'.');const _0x5b34d2=_0x1bb127['items'][_0x4c3d7f(0xff)](_0x11ad28);if(_0x5b34d2[_0x4c3d7f(0xcd)]<CONST['ENTITY_PERMISSIONS'][_0x4c3d7f(0xe2)])return ui['notifications'][_0x4c3d7f(0xf6)](_0x4c3d7f(0xd2)+_0x6b2084+'.');if(Config[_0x4c3d7f(0xff)](_0x4c3d7f(0x9e),_0x4c3d7f(0x99))||_0x2e6247[_0x4c3d7f(0xd9)]){_0x5b34d2[_0x4c3d7f(0xf5)]();return;}_0x5b34d2[_0x4c3d7f(0x9d)][_0x4c3d7f(0xe4)](!![]);})['on']('click',_0x2f7f15(0xad),async function(_0xae838b){const _0x299883=_0x2f7f15,_0x307084=_0xae838b['currentTarget'][_0x299883(0xe9)][_0x299883(0xdd)],_0x1b46ea=CONFIG[_0x299883(0xa5)][_0x299883(0x9f)][_0x299883(0xb3)]['get'](_0x307084);if(!_0x1b46ea)return;if(_0x1b46ea[_0x299883(0xcd)]<CONST[_0x299883(0x95)]['OBSERVER'])return ui['notifications']['warn']('You\x20do\x20not\x20have\x20permissions\x20to\x20view\x20this\x20Folder.');const _0x40d0c8=CONFIG[_0x1b46ea['type']]?.['documentClass']?.[_0x299883(0x9b)]?.[_0x299883(0x9f)];if(!_0x40d0c8)return;await ui['sidebar'][_0x299883(0xab)](_0x40d0c8);const _0x8b7655=ui['sidebar'][_0x299883(0xa6)][_0x40d0c8],_0x214a4f=_0x8b7655[_0x299883(0xee)]['find'](_0x299883(0xf0)+_0x1b46ea['id']+'\x22]');if(!_0x1b46ea[_0x299883(0xfa)]){game[_0x299883(0xca)][_0x299883(0xe1)][_0x1b46ea['id']]=!![],_0x214a4f['removeClass'](_0x299883(0xcf));if(_0x8b7655[_0x299883(0x105)])this[_0x299883(0xba)]();}_0x214a4f[0x0][_0x299883(0xbe)]({'block':_0x299883(0xc4)}),_0x214a4f[_0x299883(0xfd)]('jlnk__folder-pulse-1s'),setTimeout(()=>_0x214a4f[_0x299883(0xaf)](_0x299883(0xb5)),0x3e8);}),Renderer[_0x2f7f15(0x102)][_0x2f7f15(0xa2)]({'element':element}),UtilEvents[_0x2f7f15(0x98)]['forEach'](({eventType:_0x18a1f4,selector:_0x4a53f9,fnEvent:_0x14b683})=>this[_0x2f7f15(0x108)]({'element':element,'eventType':_0x18a1f4,'selector':_0x4a53f9,'fnEvent':_0x14b683})),UtilEvents[_0x2f7f15(0xea)][_0x2f7f15(0xd8)](element);}static[_0x5a3f3f(0xf9)]({eventType:_0x249d92,selector:_0xb0da4c,fnEvent:_0x4a77e2}){const _0x3f0c35=_0x5a3f3f;UtilEvents[_0x3f0c35(0x98)][_0x3f0c35(0xcc)]({'eventType':_0x249d92,'selector':_0xb0da4c,'fnEvent':_0x4a77e2}),UtilEvents[_0x3f0c35(0xea)][_0x3f0c35(0xf2)](_0x51ef3b=>this[_0x3f0c35(0x108)]({'element':_0x51ef3b,'eventType':_0x249d92,'selector':_0xb0da4c,'fnEvent':_0x4a77e2}));}static[_0x5a3f3f(0x108)]({element:_0x4ee745,eventType:_0x2cdb5f,selector:_0x5d6473,fnEvent:_0x2b0d45}){$(_0x4ee745)['on'](_0x2cdb5f,_0x5d6473,_0x2b0d45);}static[_0x5a3f3f(0x100)]({element:element=document[_0x5a3f3f(0xf8)]}={}){const _0x2262cf=_0x5a3f3f;UtilEvents['_BOUND_DOCUMENT_ELEMENTS'][_0x2262cf(0xfb)](element);}static[_0x5a3f3f(0xc0)](_0xabe4e9){const _0x5262da=_0x5a3f3f;let _0x5635c1;for(const _0xee44df of UtilEvents[_0x5262da(0xc9)]){if(!_0xabe4e9[_0x5262da(0xd3)][_0x5262da(0xb0)][_0x5262da(0x10a)](_0xee44df))continue;try{const _0x92dde4=_0xabe4e9[_0x5262da(0xd3)][_0x5262da(0xdb)](_0xee44df);if(!_0x92dde4)return;_0x5635c1=JSON['parse'](_0x92dde4);}catch(_0x4bdb82){}}return _0x5635c1;}}UtilEvents[_0x5a3f3f(0xc9)]=[_0x5a3f3f(0xe3),_0x5a3f3f(0x97)],UtilEvents[_0x5a3f3f(0xc2)]=SharedConsts[_0x5a3f3f(0xb6)]+_0x5a3f3f(0x109),UtilEvents[_0x5a3f3f(0xf1)]=SharedConsts['MODULE_NAME_FAKE']+_0x5a3f3f(0xae),UtilEvents[_0x5a3f3f(0xea)]=new Set(),UtilEvents['_ADDITIONAL_DOCUMENT_HANDLERS']=[];export{UtilEvents};