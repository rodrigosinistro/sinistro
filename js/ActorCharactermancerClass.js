const _0x14319d=_0x5a3d;(function(_0x21dfc5,_0x1cff6c){const _0x331441=_0x5a3d,_0x4ac4bd=_0x21dfc5();while(!![]){try{const _0x212a42=-parseInt(_0x331441(0x22f))/0x1*(parseInt(_0x331441(0x279))/0x2)+parseInt(_0x331441(0x1f2))/0x3+parseInt(_0x331441(0x24f))/0x4*(parseInt(_0x331441(0x1c2))/0x5)+parseInt(_0x331441(0x1f0))/0x6+-parseInt(_0x331441(0x27e))/0x7*(parseInt(_0x331441(0x211))/0x8)+-parseInt(_0x331441(0x278))/0x9*(parseInt(_0x331441(0x289))/0xa)+-parseInt(_0x331441(0x22a))/0xb*(-parseInt(_0x331441(0x21a))/0xc);if(_0x212a42===_0x1cff6c)break;else _0x4ac4bd['push'](_0x4ac4bd['shift']());}catch(_0xe5d60d){_0x4ac4bd['push'](_0x4ac4bd['shift']());}}}(_0x2e26,0xe8cf0));function _0x5a3d(_0x4b7c63,_0x38144b){const _0x2e2668=_0x2e26();return _0x5a3d=function(_0x5a3d90,_0x2e4e5e){_0x5a3d90=_0x5a3d90-0x1b5;let _0x22a6e3=_0x2e2668[_0x5a3d90];return _0x22a6e3;},_0x5a3d(_0x4b7c63,_0x38144b);}import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_HpInfo,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_FeatureOptionsSelect,Charactermancer_OtherProficiencySelect,Charactermancer_Util}from'./UtilCharactermancer.js';import{DataConverterClass}from'./DataConverterClass.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{SharedConsts}from'../shared/SharedConsts.js';import{LGT}from'./Util.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{Charactermancer_Spell_Util}from'./UtilCharactermancerSpellSlotLevelSelect.js';class ActorCharactermancerClass extends ActorCharactermancerBaseComponent{constructor(_0x1527be){const _0x58b833=_0x5a3d;_0x1527be=_0x1527be||{},super(),this[_0x58b833(0x20b)]=_0x1527be[_0x58b833(0x29d)],this[_0x58b833(0x221)]=_0x1527be[_0x58b833(0x254)],this['_parent']=_0x1527be[_0x58b833(0x299)],this[_0x58b833(0x245)]=_0x1527be['tabClass'],this[_0x58b833(0x223)]=new ModalFilterClassesFvtt({'namespace':_0x58b833(0x202),'allData':this[_0x58b833(0x221)]['class']}),this[_0x58b833(0x218)]=[],this[_0x58b833(0x1ff)]=[],this[_0x58b833(0x1ed)]=[],this[_0x58b833(0x292)]=[],this[_0x58b833(0x28c)]=[],this[_0x58b833(0x207)]=[],this[_0x58b833(0x282)]=[],this[_0x58b833(0x243)]=[],this[_0x58b833(0x1ce)]=[],this['_$wrpsClassTable']=[],this[_0x58b833(0x22c)]=[];}get[_0x14319d(0x1d2)](){return this['_modalFilterClasses'];}get['compsClassStartingProficiencies'](){const _0x52fba5=_0x14319d;return this[_0x52fba5(0x1ff)];}get[_0x14319d(0x27f)](){const _0x4e9bce=_0x14319d;return this[_0x4e9bce(0x1ed)];}get[_0x14319d(0x1d8)](){const _0x2349cc=_0x14319d;return this[_0x2349cc(0x28c)];}get[_0x14319d(0x264)](){const _0x40670a=_0x14319d;return this[_0x40670a(0x207)];}get[_0x14319d(0x297)](){const _0x42fb13=_0x14319d;return this[_0x42fb13(0x282)];}get['existingClassMetas'](){return this['_existingClassMetas'];}async[_0x14319d(0x255)](){const _0x2ad7d9=_0x14319d;await this[_0x2ad7d9(0x223)][_0x2ad7d9(0x267)](),await this[_0x2ad7d9(0x1fe)]();}async[_0x14319d(0x1fe)](){const _0x1b314b=_0x14319d,_0x490b13=this[_0x1b314b(0x20b)][_0x1b314b(0x26c)][_0x1b314b(0x286)](_0x346fa9=>_0x346fa9[_0x1b314b(0x1e3)]===_0x1b314b(0x25f)),_0x1c4290=this[_0x1b314b(0x20b)]['items'][_0x1b314b(0x286)](_0x1de802=>_0x1de802[_0x1b314b(0x1e3)]==='subclass');this[_0x1b314b(0x22c)]=_0x490b13[_0x1b314b(0x22b)](_0x21d434=>{const _0x4cc506=_0x1b314b,_0x4da7fe=this['_pLoad_getExistingClassIndex'](_0x21d434),_0x110ddc=_0x1c4290[_0x4cc506(0x20a)](_0x2c76be=>_0x2c76be[_0x4cc506(0x254)][_0x4cc506(0x254)][_0x4cc506(0x224)]===_0x21d434[_0x4cc506(0x254)][_0x4cc506(0x254)][_0x4cc506(0x1e0)]);let _0x26835c=-0x1;if(~_0x4da7fe){if(!_0x110ddc)_0x26835c=null;else{const _0x289fd0=this[_0x4cc506(0x221)][_0x4cc506(0x25f)][_0x4da7fe];_0x26835c=_0x289fd0[_0x4cc506(0x232)][_0x4cc506(0x1ba)](_0x3e47b0=>(_0x110ddc[_0x4cc506(0x283)]||'')['toLowerCase']()[_0x4cc506(0x298)]()===_0x3e47b0['name'][_0x4cc506(0x1cf)]()['trim']()&&(!Config[_0x4cc506(0x1f7)](_0x4cc506(0x1d4),_0x4cc506(0x21c))||(UtilDataConverter[_0x4cc506(0x222)](_0x110ddc)[_0x4cc506(0x28f)]||'')[_0x4cc506(0x1cf)]()===Parser[_0x4cc506(0x1d3)](_0x3e47b0['source'])[_0x4cc506(0x1cf)]()));}}const _0x4c0af9=this[_0x4cc506(0x20b)][_0x4cc506(0x254)]['data']?.[_0x4cc506(0x1de)]?.[_0x4cc506(0x28d)]?this['_actor']['data'][_0x4cc506(0x254)]?.[_0x4cc506(0x1de)]?.[_0x4cc506(0x28d)]===_0x21d434['id']:!!_0x21d434[_0x4cc506(0x254)][_0x4cc506(0x1f3)]?.[SharedConsts['MODULE_NAME_FAKE']]?.[_0x4cc506(0x26b)],_0x1b8266=~_0x4da7fe?null:_0x4cc506(0x210)+_0x21d434[_0x4cc506(0x283)]+_0x4cc506(0x1fa)+_0x21d434[_0x4cc506(0x254)][_0x4cc506(0x254)]['source']+_0x4cc506(0x252)+Charactermancer_Util['STR_WARN_SOURCE_SELECTION'];_0x1b8266&&(ui[_0x4cc506(0x1c4)][_0x4cc506(0x26e)](_0x1b8266),console[_0x4cc506(0x26e)](...LGT,_0x1b8266,'Strict\x20source\x20matching\x20is:\x20'+Config['get'](_0x4cc506(0x1d4),_0x4cc506(0x21c))+'.'));const _0x381eaf=_0x26835c==null||~_0x26835c?null:_0x4cc506(0x280)+_0x110ddc[_0x4cc506(0x283)]+_0x4cc506(0x212)+Charactermancer_Util['STR_WARN_SOURCE_SELECTION'];return _0x381eaf&&(ui[_0x4cc506(0x1c4)][_0x4cc506(0x26e)](_0x381eaf),console[_0x4cc506(0x26e)](...LGT,_0x381eaf,_0x4cc506(0x1eb)+Config['get'](_0x4cc506(0x1d4),_0x4cc506(0x21c))+'.')),new ActorCharactermancerClass['ExistingClassMeta']({'item':_0x21d434,'ixClass':_0x4da7fe,'isUnknownClass':!~_0x4da7fe,'ixSubclass':_0x26835c,'isUnknownSubclass':_0x26835c==null&&!~_0x26835c,'level':Number(_0x21d434['data'][_0x4cc506(0x254)][_0x4cc506(0x1e2)]||0x0),'isPrimary':_0x4c0af9});});if(!this[_0x1b314b(0x22c)][_0x1b314b(0x296)])return;this[_0x1b314b(0x284)][_0x1b314b(0x1ec)]=this['_existingClassMetas'][_0x1b314b(0x296)]-0x1;for(let _0x8b4d3a=0x0;_0x8b4d3a<this[_0x1b314b(0x22c)][_0x1b314b(0x296)];++_0x8b4d3a){const _0x144dbc=this[_0x1b314b(0x22c)][_0x8b4d3a],{propIxClass:_0x4f7241,propIxSubclass:_0x1ffd1c}=ActorCharactermancerBaseComponent[_0x1b314b(0x215)](_0x8b4d3a);await this[_0x1b314b(0x1e5)](_0x4f7241,_0x144dbc[_0x1b314b(0x1c6)]),await this['_pDoProxySetBase'](_0x1ffd1c,_0x144dbc['ixSubclass']);if(_0x144dbc[_0x1b314b(0x23d)])this[_0x1b314b(0x284)][_0x1b314b(0x23f)]=_0x8b4d3a;}if(!this['_existingClassMetas'][_0x1b314b(0x1dd)](_0x197381=>_0x197381[_0x1b314b(0x23d)]))this[_0x1b314b(0x284)][_0x1b314b(0x23f)]=0x0;}[_0x14319d(0x235)](_0x23a19a){const _0x3f8cbe=_0x14319d,_0x7af486=(_0x23a19a[_0x3f8cbe(0x283)]||'')[_0x3f8cbe(0x1cf)]()[_0x3f8cbe(0x298)]();let _0x5db186=this[_0x3f8cbe(0x221)][_0x3f8cbe(0x25f)]['findIndex'](_0xe9350c=>{const _0x1e0fab=_0x3f8cbe;return _0x7af486===_0xe9350c['name'][_0x1e0fab(0x1cf)]()[_0x1e0fab(0x298)]()&&(!Config['get'](_0x1e0fab(0x1d4),_0x1e0fab(0x21c))||(UtilDataConverter[_0x1e0fab(0x222)](_0x23a19a)['source']||'')[_0x1e0fab(0x1cf)]()===Parser[_0x1e0fab(0x1d3)](_0xe9350c[_0x1e0fab(0x28f)])['toLowerCase']());});if(~_0x5db186)return _0x5db186;const _0x40cbad=/^(.*?)\(.*\)$/[_0x3f8cbe(0x22d)](_0x7af486);if(!_0x40cbad)return _0x5db186;return this[_0x3f8cbe(0x221)]['class'][_0x3f8cbe(0x1ba)](_0x5be18c=>{const _0x36f82b=_0x3f8cbe;return _0x40cbad[0x1]['trim']()===_0x5be18c[_0x36f82b(0x283)][_0x36f82b(0x1cf)]()['trim']()&&(!Config[_0x36f82b(0x1f7)](_0x36f82b(0x1d4),'isStrictMatching')||(UtilDataConverter['getItemSource'](_0x23a19a)[_0x36f82b(0x28f)]||'')[_0x36f82b(0x1cf)]()===Parser[_0x36f82b(0x1d3)](_0x5be18c[_0x36f82b(0x28f)])[_0x36f82b(0x1cf)]());});}['getExistingClassTotalLevels_'](){const _0x1c3729=_0x14319d;return this[_0x1c3729(0x22c)][_0x1c3729(0x286)](Boolean)[_0x1c3729(0x22b)](_0x1610b3=>_0x1610b3[_0x1c3729(0x209)])[_0x1c3729(0x1dc)]();}['_getExistingClassCount'](){const _0x2a69aa=_0x14319d;return this['_existingClassMetas']['filter'](Boolean)[_0x2a69aa(0x296)];}[_0x14319d(0x25c)]({ix:_0x8dad89,propIxClass:_0x1e1498}){const _0x443d4e=_0x14319d;if(_0x8dad89==null&&_0x1e1498==null)throw new Error(_0x443d4e(0x219));if(_0x1e1498!=null){if(this['_state'][_0x1e1498]==null)return null;if(!~this[_0x443d4e(0x284)][_0x1e1498])return DataConverterClass['getClassStub']();return this[_0x443d4e(0x221)]['class'][this['_state'][_0x1e1498]];}if(_0x8dad89!=null&&~_0x8dad89)return this[_0x443d4e(0x221)]['class'][_0x8dad89];return DataConverterClass['getClassStub']();}[_0x14319d(0x26d)]({cls:_0xd578b7,propIxSubclass:_0x3cd1f6,ix:_0x500bc7}){const _0x12f607=_0x14319d;if(_0x500bc7==null&&_0x3cd1f6==null)throw new Error(_0x12f607(0x219));if(!_0xd578b7)return null;if(_0x3cd1f6!=null){if(this[_0x12f607(0x284)][_0x3cd1f6]==null)return null;if(!~this[_0x12f607(0x284)][_0x3cd1f6])return DataConverterClass[_0x12f607(0x288)]({'cls':_0xd578b7});if(!_0xd578b7[_0x12f607(0x232)]?.[_0x12f607(0x296)])return DataConverterClass['getSubclassStub']({'cls':_0xd578b7});return _0xd578b7[_0x12f607(0x232)][this[_0x12f607(0x284)][_0x3cd1f6]];}if(_0x500bc7!=null&&~_0x500bc7)return _0xd578b7[_0x12f607(0x232)][_0x500bc7];return DataConverterClass[_0x12f607(0x288)]({'cls':_0xd578b7});}[_0x14319d(0x249)]({ix:_0x32d5f5}){const _0x48cab3=_0x14319d;return!!this[_0x48cab3(0x22c)][_0x32d5f5];}[_0x14319d(0x29a)]({ix:_0x3044ed}){const _0x493aee=_0x14319d;return this[_0x493aee(0x22c)][_0x3044ed]&&(this[_0x493aee(0x22c)][_0x3044ed][_0x493aee(0x237)]!=null||this[_0x493aee(0x22c)][_0x3044ed][_0x493aee(0x229)]);}['render'](){const _0x2a026a=_0x14319d,_0x5c8371=this['_tabClass']?.[_0x2a026a(0x1e1)];if(!_0x5c8371)return;const _0x2cf1cf=$$`<div class="ve-flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x3953cc=$$`<div class="ve-flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0x460916=0x0;_0x460916<this[_0x2a026a(0x284)]['class_ixMax']+0x1;++_0x460916)this[_0x2a026a(0x273)](_0x2cf1cf,_0x3953cc,_0x460916);this[_0x2a026a(0x228)](_0x2a026a(0x23f),()=>this[_0x2a026a(0x284)][_0x2a026a(0x238)]=!this[_0x2a026a(0x284)][_0x2a026a(0x238)]);const _0x48b0b5=$(_0x2a026a(0x1b9))[_0x2a026a(0x216)](()=>{const _0x2e5d6f=_0x2a026a;this[_0x2e5d6f(0x273)](_0x2cf1cf,_0x3953cc,++this['_state']['class_ixMax']);});$$`<div class="ve-flex w-100 h-100">
			<div class="ve-flex-col w-100">
				${_0x2cf1cf}
				<div class="mt-2">${_0x48b0b5}</div>
			</div>
			<div class="vr-1"></div>
			${_0x3953cc}
		</div>`[_0x2a026a(0x200)](_0x5c8371);}static[_0x14319d(0x1f9)](_0x206b09){const _0x4543f3=_0x14319d;return{'lockChangeClass':'class_'+_0x206b09+_0x4543f3(0x1df),'lockChangeSubclass':_0x4543f3(0x277)+_0x206b09+'_pHkChangeSubclass','lockRenderFeatureOptionsSelects':_0x4543f3(0x277)+_0x206b09+_0x4543f3(0x250)};}[_0x14319d(0x273)](_0xcb50b9,_0x361ea5,_0x5b670b){const _0xb942e9=_0x14319d,{propPrefixClass:_0x36b260,propIxClass:_0x2af452,propPrefixSubclass:_0x5bc829,propIxSubclass:_0x2bd7b0,propCntAsi:_0x1d2abd,propCurLevel:_0x24d4f2,propTargetLevel:_0x9387c9}=ActorCharactermancerBaseComponent[_0xb942e9(0x215)](_0x5b670b),_0x4805d1=FilterBox[_0xb942e9(0x25a)]+_0xb942e9(0x233)+_0x5b670b+_0xb942e9(0x269),_0x3940c0=FilterBox[_0xb942e9(0x25a)]+_0xb942e9(0x233)+_0x5b670b+_0xb942e9(0x285),{lockChangeClass:_0x10269e,lockChangeSubclass:_0x249fcd,lockRenderFeatureOptionsSelects:_0x33b7a5}=this[_0xb942e9(0x24d)]['_class_getLocks'](_0x5b670b);this[_0xb942e9(0x228)](_0x2af452,()=>this[_0xb942e9(0x284)]['class_pulseChange']=!this[_0xb942e9(0x284)][_0xb942e9(0x238)]);const {$wrp:_0x2d5cc8,$iptDisplay:_0x4ba5fb,$iptSearch:_0x31834c,fnUpdateHidden:_0x206482}=ComponentUiUtil[_0xb942e9(0x1d7)](this,_0x2af452,{'values':this[_0xb942e9(0x221)]['class'][_0xb942e9(0x22b)]((_0x42ea9c,_0x1af484)=>_0x1af484),'isAllowNull':!![],'fnDisplay':_0x49054f=>{const _0x1a12d1=_0xb942e9,_0x473de0=this[_0x1a12d1(0x25c)]({'ix':_0x49054f});if(!_0x473de0)return console[_0x1a12d1(0x26e)](...LGT,_0x1a12d1(0x24a)+_0x49054f+'\x20('+this['_data']['class'][_0x1a12d1(0x296)]+_0x1a12d1(0x1e4)),_0x1a12d1(0x1fb);return _0x473de0[_0x1a12d1(0x283)]+'\x20'+(_0x473de0[_0x1a12d1(0x28f)]!==SRC_PHB?'['+Parser[_0x1a12d1(0x1d3)](_0x473de0[_0x1a12d1(0x28f)])+']':'');},'asMeta':!![],'isDisabled':this[_0xb942e9(0x249)]({'ix':_0x5b670b})});_0x4ba5fb[_0xb942e9(0x1db)]('bl-0'),_0x31834c[_0xb942e9(0x1db)](_0xb942e9(0x27b));const _0x41e36b=()=>{const _0x50e2ff=_0xb942e9,_0x31e141=this[_0x50e2ff(0x223)][_0x50e2ff(0x281)]['filterBox'][_0x50e2ff(0x29f)](),_0x5aa436=this['_data'][_0x50e2ff(0x25f)]['map'](_0x4b6b7b=>!this['_modalFilterClasses'][_0x50e2ff(0x281)][_0x50e2ff(0x1fd)](_0x31e141,_0x4b6b7b));_0x206482(_0x5aa436,![]);},_0x3ba9db=()=>{const _0x160faf=_0xb942e9,_0x2c1c24=this['getClass_']({'propIxClass':_0x2af452});if(!_0x2c1c24||!this[_0x160faf(0x218)][_0x5b670b])return;const _0x34c34c=this[_0x160faf(0x223)][_0x160faf(0x281)][_0x160faf(0x1ee)][_0x160faf(0x29f)](),_0x3072b1=_0x2c1c24[_0x160faf(0x232)][_0x160faf(0x22b)](_0xfe7913=>!this[_0x160faf(0x223)][_0x160faf(0x281)][_0x160faf(0x1fd)](_0x34c34c,_0xfe7913));this[_0x160faf(0x218)][_0x5b670b][_0x160faf(0x23a)](_0x3072b1,![]);};this[_0xb942e9(0x223)]['pageFilter'][_0xb942e9(0x1ee)]['on'](FilterBox[_0xb942e9(0x25a)],()=>_0x41e36b()),_0x41e36b();const _0x5bf38e=$(_0xb942e9(0x208))[_0xb942e9(0x216)](async()=>{const _0x785a2e=_0xb942e9,_0x27d8e7=this[_0x785a2e(0x25c)]({'propIxClass':_0x2af452}),_0x19f734=this[_0x785a2e(0x26d)]({'cls':_0x27d8e7,'propIxSubclass':_0x2bd7b0}),_0x37dae9=this[_0x785a2e(0x249)]({'ix':_0x5b670b}),_0x5b5c38=this[_0x785a2e(0x29a)]({'ix':_0x5b670b}),_0x23270c=await this[_0x785a2e(0x223)][_0x785a2e(0x291)]({'selectedClass':_0x27d8e7,'selectedSubclass':_0x19f734,'isClassDisabled':_0x37dae9,'isSubclassDisabled':_0x5b5c38});if(_0x37dae9&&_0x5b5c38)return;if(_0x23270c==null||!_0x23270c['class'])return;const _0x2822ce=this[_0x785a2e(0x221)][_0x785a2e(0x25f)][_0x785a2e(0x1ba)](_0x1f81d4=>_0x1f81d4[_0x785a2e(0x283)]===_0x23270c[_0x785a2e(0x25f)][_0x785a2e(0x283)]&&_0x1f81d4[_0x785a2e(0x28f)]===_0x23270c[_0x785a2e(0x25f)][_0x785a2e(0x28f)]);if(!~_0x2822ce)throw new Error(_0x785a2e(0x261)+JSON[_0x785a2e(0x22e)](_0x23270c[_0x785a2e(0x25f)]));this[_0x785a2e(0x284)][_0x2af452]=_0x2822ce,await this[_0x785a2e(0x1b7)](_0x10269e);if(_0x23270c[_0x785a2e(0x1f4)]!=null){const _0xb4b42f=this[_0x785a2e(0x25c)]({'propIxClass':_0x2af452}),_0x1537ea=_0xb4b42f[_0x785a2e(0x232)][_0x785a2e(0x1ba)](_0x2e9c31=>_0x2e9c31[_0x785a2e(0x283)]===_0x23270c[_0x785a2e(0x1f4)][_0x785a2e(0x283)]&&_0x2e9c31[_0x785a2e(0x28f)]===_0x23270c[_0x785a2e(0x1f4)][_0x785a2e(0x28f)]);if(!~_0x1537ea)throw new Error('Could\x20not\x20find\x20selected\x20subclass:\x20'+JSON[_0x785a2e(0x22e)](_0x23270c[_0x785a2e(0x1f4)]));this['_state'][_0x2bd7b0]=_0x1537ea;}else this[_0x785a2e(0x284)][_0x2bd7b0]=null;}),_0x544d15=async _0x277b3d=>{const _0x3f81c0=_0xb942e9;this[_0x3f81c0(0x223)][_0x3f81c0(0x281)]['filterBox'][_0x3f81c0(0x25d)](_0x3940c0);if(_0x277b3d){const _0x4dea44=Object['keys'](this[_0x3f81c0(0x1d9)])[_0x3f81c0(0x286)](_0x14f1a4=>_0x14f1a4[_0x3f81c0(0x241)](_0x36b260)&&_0x14f1a4!==_0x2af452)[_0x3f81c0(0x28e)](_0x6ea42d=>({[_0x6ea42d]:null}));this[_0x3f81c0(0x1bd)](_0x3f81c0(0x257),_0x4dea44);}const _0x3771f5=this[_0x3f81c0(0x25c)]({'propIxClass':_0x2af452}),_0x19d263=this[_0x3f81c0(0x26d)]({'cls':_0x3771f5,'propIxSubclass':_0x2bd7b0});this[_0x3f81c0(0x1ca)]({'$stgSelectSubclass':_0x4b5759,'cls':_0x3771f5,'ix':_0x5b670b,'propIxSubclass':_0x2bd7b0,'idFilterBoxChangeSubclass':_0x3940c0,'doApplyFilterToSelSubclass':_0x3ba9db}),this[_0x3f81c0(0x28a)]({'$stgHpMode':_0x1b0f31,'ix':_0x5b670b,'cls':_0x3771f5}),this[_0x3f81c0(0x1f6)]({'$stgHpInfo':_0x560de3,'ix':_0x5b670b,'cls':_0x3771f5}),this['_class_renderClass_stgStartingProficiencies']({'$stgStartingProficiencies':_0x5b711b,'ix':_0x5b670b,'cls':_0x3771f5}),await this[_0x3f81c0(0x20f)]({'$stgLevelSelect':_0x139e5b,'$stgFeatureOptions':_0x132beb,'ix':_0x5b670b,'cls':_0x3771f5,'sc':_0x19d263,'propIxSubclass':_0x2bd7b0,'propCurLevel':_0x24d4f2,'propTargetLevel':_0x9387c9,'propCntAsi':_0x1d2abd,'lockRenderFeatureOptionsSelects':_0x33b7a5,'idFilterBoxChangeClassLevels':_0x4805d1}),this[_0x3f81c0(0x284)][_0x3f81c0(0x213)]=this[_0x3f81c0(0x27d)](),this[_0x3f81c0(0x276)]({'$stgSkills':_0x4288fa,'ix':_0x5b670b,'propIxClass':_0x2af452}),await this['_class_renderClass_pDispClass']({'ix':_0x5b670b,'$dispClass':_0x1c2979,'cls':_0x3771f5,'sc':_0x19d263}),_0x3b6e0c[_0x3f81c0(0x227)]();},_0x40c53a=async _0x4e0e33=>{const _0x2ece59=_0xb942e9;try{await this[_0x2ece59(0x27c)](_0x10269e),await _0x544d15(_0x4e0e33);}finally{this[_0x2ece59(0x1c9)](_0x10269e);}};this['_addHookBase'](_0x2af452,_0x40c53a);const _0x4cfb55=async()=>{const _0x4bac1e=_0xb942e9;this[_0x4bac1e(0x223)][_0x4bac1e(0x281)]['filterBox'][_0x4bac1e(0x25d)](_0x3940c0);const _0x581996=Object[_0x4bac1e(0x259)](this[_0x4bac1e(0x1d9)])[_0x4bac1e(0x286)](_0x1f5639=>_0x1f5639['startsWith'](_0x5bc829)&&_0x1f5639!==_0x2bd7b0)[_0x4bac1e(0x28e)](_0x1a7c0d=>({[_0x1a7c0d]:null}));this[_0x4bac1e(0x1bd)](_0x4bac1e(0x257),_0x581996);const _0x5644a1=this[_0x4bac1e(0x25c)]({'propIxClass':_0x2af452}),_0x557c56=this[_0x4bac1e(0x26d)]({'cls':_0x5644a1,'propIxSubclass':_0x2bd7b0}),_0x24b6cd=this[_0x4bac1e(0x1c7)](_0x5644a1,_0x557c56);if(this[_0x4bac1e(0x28c)][_0x5b670b])this[_0x4bac1e(0x28c)][_0x5b670b][_0x4bac1e(0x217)](_0x24b6cd);await this[_0x4bac1e(0x1e9)]({'ix':_0x5b670b,'propCntAsi':_0x1d2abd,'filteredFeatures':_0x24b6cd,'$stgFeatureOptions':_0x132beb,'lockRenderFeatureOptionsSelects':_0x33b7a5}),this[_0x4bac1e(0x223)][_0x4bac1e(0x281)]['filterBox']['on'](_0x3940c0,()=>_0x3ba9db()),_0x3ba9db(),await this[_0x4bac1e(0x1d5)]({'ix':_0x5b670b,'$dispSubclass':_0x3b6e0c,'cls':_0x5644a1,'sc':_0x557c56});},_0x5302be=async()=>{const _0x11df87=_0xb942e9;try{await this[_0x11df87(0x27c)](_0x249fcd),await _0x4cfb55();}finally{this['_unlock'](_0x249fcd);}};this[_0xb942e9(0x228)](_0x2bd7b0,_0x5302be);const _0x4a148b=$('<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>'),_0x4b5759=$$`<div class="ve-flex-col w-100"></div>`['hideVe'](),_0x1b0f31=$$`<div class="ve-flex-col"></div>`[_0xb942e9(0x1f5)](),_0x560de3=$$`<div class="ve-flex-col"></div>`[_0xb942e9(0x1f5)](),_0x5b711b=$$`<div class="ve-flex-col"></div>`['hideVe'](),_0x139e5b=$$`<div class="ve-flex-col"></div>`[_0xb942e9(0x1f5)](),_0x132beb=$$`<div class="ve-flex-col"></div>`[_0xb942e9(0x1f5)](),_0x4288fa=$$`<div class="ve-flex-col"></div>`[_0xb942e9(0x1f5)]();let _0x559eab=null;if(!this[_0xb942e9(0x22c)]['length']){_0x559eab=$(_0xb942e9(0x236))[_0xb942e9(0x216)](()=>this[_0xb942e9(0x284)][_0xb942e9(0x23f)]=_0x5b670b);const _0x538a62=()=>{const _0x3685b6=_0xb942e9;_0x559eab[_0x3685b6(0x25e)](this[_0x3685b6(0x284)][_0x3685b6(0x23f)]===_0x5b670b?_0x3685b6(0x1d6):_0x3685b6(0x1e6))[_0x3685b6(0x23e)](this[_0x3685b6(0x284)][_0x3685b6(0x23f)]===_0x5b670b?_0x3685b6(0x294):'Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.')['prop']('disabled',this['_state'][_0x3685b6(0x23f)]===_0x5b670b);};this[_0xb942e9(0x228)]('class_ixPrimaryClass',_0x538a62),_0x538a62();}const _0x114dde=$(_0xb942e9(0x24b))[_0xb942e9(0x216)](()=>{const _0x48a746=_0xb942e9,_0x4f1920=_0x114dde[_0x48a746(0x25e)]()===_0x48a746(0x1b8);_0x114dde[_0x48a746(0x25e)](_0x4f1920?_0x48a746(0x258):_0x48a746(0x1b8));if(_0x4f1920)_0x4a148b[_0x48a746(0x25e)](_0x48a746(0x20d));else{const _0x4a443c=this[_0x48a746(0x25c)]({'propIxClass':_0x2af452}),_0x5ae369=this[_0x48a746(0x26d)]({'cls':_0x4a443c,'propIxSubclass':_0x2bd7b0});if(_0x4a443c)_0x4a148b[_0x48a746(0x25e)](''+_0x4a443c[_0x48a746(0x283)]+(_0x5ae369?'\x20('+_0x5ae369[_0x48a746(0x283)]+')':''));else _0x4a148b[_0x48a746(0x25e)](_0x48a746(0x20d));}_0x5720fe[_0x48a746(0x268)]();}),_0x1c2979=$$`<div class="ve-flex-col w-100"></div>`,_0x3b6e0c=$$`<div class="ve-flex-col w-100"></div>`,_0x5720fe=$$`<div class="ve-flex-col w-100 mt-2">
			<div class="ve-flex btn-group w-100">
				<div class="ve-flex no-shrink">
					${_0x5bf38e}
				</div>
				<div class="ve-flex-col w-100">
					${_0x2d5cc8}
					${_0x4b5759}
				</div>
			</div>
			${_0x1b0f31}
			${_0x560de3}
			${_0x5b711b}
			${_0x4288fa}
			${_0x139e5b}
			${_0x132beb}
		</div>`,_0x2ca2af=$$`<div class="ve-flex-col">
			${_0x5b670b>0x0?_0xb942e9(0x204):''}

			<div class="split-v-center">
				${_0x4a148b}
				<div class="ve-flex-v-center">
					${_0x559eab}
					${_0x114dde}
				</div>
			</div>

			${_0x5720fe}
		</div>`[_0xb942e9(0x200)](_0xcb50b9),_0x2d1656=$$`<div>
			${_0x5b670b>0x0?_0xb942e9(0x240):''}

			${_0x1c2979}
			${_0x3b6e0c}
		</div>`[_0xb942e9(0x200)](_0x361ea5);_0x40c53a()['then'](()=>_0x5302be());}[_0x14319d(0x1ca)]({$stgSelectSubclass:_0x657322,cls:_0x32172f,ix:_0x18398a,propIxSubclass:_0x3004c1,idFilterBoxChangeSubclass:_0x29a98b,doApplyFilterToSelSubclass:_0x4c6b75}){const _0x2808a9=_0x14319d;_0x657322['empty']();if(this[_0x2808a9(0x218)][_0x18398a])this[_0x2808a9(0x218)][_0x18398a][_0x2808a9(0x29e)]();if(_0x32172f&&_0x32172f[_0x2808a9(0x232)]&&_0x32172f[_0x2808a9(0x232)][_0x2808a9(0x296)]){const _0x5193c0=ComponentUiUtil[_0x2808a9(0x1d7)](this,_0x3004c1,{'values':_0x32172f[_0x2808a9(0x232)][_0x2808a9(0x22b)]((_0x1fc607,_0x3706d0)=>_0x3706d0),'isAllowNull':!![],'fnDisplay':_0x48dfb1=>{const _0x1719bd=_0x2808a9,_0x4077ce=this[_0x1719bd(0x26d)]({'cls':_0x32172f,'ix':_0x48dfb1});if(!_0x4077ce)return console[_0x1719bd(0x26e)](...LGT,'Could\x20not\x20find\x20subclass\x20with\x20index\x20'+_0x48dfb1+'\x20('+_0x32172f[_0x1719bd(0x232)][_0x1719bd(0x296)]+_0x1719bd(0x28b)+_0x32172f[_0x1719bd(0x283)]+')'),_0x1719bd(0x1fb);return _0x4077ce[_0x1719bd(0x283)]+'\x20'+(_0x4077ce[_0x1719bd(0x28f)]!==SRC_PHB?'['+Parser[_0x1719bd(0x1d3)](_0x4077ce[_0x1719bd(0x28f)])+']':'');},'asMeta':!![],'isDisabled':this[_0x2808a9(0x29a)]({'ix':_0x18398a}),'displayNullAs':'Select\x20a\x20Subclass'});_0x5193c0[_0x2808a9(0x275)][_0x2808a9(0x1db)](_0x2808a9(0x27b)),_0x5193c0['$iptSearch'][_0x2808a9(0x1db)](_0x2808a9(0x27b)),this['_metaHksClassStgSubclass'][_0x18398a]=_0x5193c0,this[_0x2808a9(0x223)][_0x2808a9(0x281)][_0x2808a9(0x1ee)]['on'](_0x29a98b,()=>_0x4c6b75()),_0x4c6b75();const _0x3658e8=$$`<div class="ve-flex-col w-100 mt-1">
				${_0x5193c0['$wrp']}
			</div>`;_0x657322[_0x2808a9(0x1b5)]()[_0x2808a9(0x272)](_0x3658e8);}else _0x657322[_0x2808a9(0x1f5)](),this[_0x2808a9(0x218)][_0x18398a]=null;}[_0x14319d(0x28a)]({$stgHpMode:_0x25b586,ix:_0x213544,cls:_0x18ee5f}){const _0x426365=_0x14319d;_0x25b586[_0x426365(0x227)](),_0x18ee5f&&Charactermancer_Class_HpIncreaseModeSelect[_0x426365(0x231)](_0x18ee5f)?(_0x25b586[_0x426365(0x1b5)]()[_0x426365(0x272)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points\x20Increase\x20Mode</div>'),this['_compsClassHpIncreaseMode'][_0x213544]=new Charactermancer_Class_HpIncreaseModeSelect(),this[_0x426365(0x1ed)][_0x213544][_0x426365(0x205)](_0x25b586)):(_0x25b586[_0x426365(0x1f5)](),this[_0x426365(0x1ed)][_0x213544]=null);}[_0x14319d(0x1f6)]({$stgHpInfo:_0xfe751f,ix:_0x5abcad,cls:_0x235bba}){const _0xcba42c=_0x14319d;_0xfe751f[_0xcba42c(0x227)](),_0x235bba&&Charactermancer_Class_HpIncreaseModeSelect[_0xcba42c(0x231)](_0x235bba)?(_0xfe751f[_0xcba42c(0x1b5)]()[_0xcba42c(0x272)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points</div>'),this[_0xcba42c(0x292)][_0x5abcad]=new Charactermancer_Class_HpInfo({'className':_0x235bba[_0xcba42c(0x283)],'hitDice':_0x235bba['hd']}),this['_compsClassHpInfo'][_0x5abcad][_0xcba42c(0x205)](_0xfe751f)):(_0xfe751f[_0xcba42c(0x1f5)](),this[_0xcba42c(0x292)][_0x5abcad]=null);}['_class_renderClass_stgStartingProficiencies']({$stgStartingProficiencies:_0x30e0fd,ix:_0x579a0b,cls:_0x42f3ca}){const _0x1cb6fd=_0x14319d,_0xab06d4=this[_0x1cb6fd(0x234)](_0x579a0b);if(_0xab06d4)return;if(this[_0x1cb6fd(0x1ce)][_0x579a0b])this[_0x1cb6fd(0x1ce)][_0x579a0b][_0x1cb6fd(0x29e)]();_0x30e0fd[_0x1cb6fd(0x227)](),this['_parent'][_0x1cb6fd(0x1d0)]['unregister'](this[_0x1cb6fd(0x1ff)][_0x579a0b]);_0x42f3ca&&(_0x42f3ca[_0x1cb6fd(0x201)]||_0x42f3ca[_0x1cb6fd(0x203)]?.[_0x1cb6fd(0x21b)])?(_0x30e0fd[_0x1cb6fd(0x1b5)]()[_0x1cb6fd(0x272)](_0x1cb6fd(0x230)),this['_compsClassStartingProficiencies'][_0x579a0b]=Charactermancer_Class_StartingProficiencies['get']({'featureSourceTracker':this['_parent'][_0x1cb6fd(0x1d0)],'primaryProficiencies':_0x42f3ca['startingProficiencies'],'multiclassProficiencies':_0x42f3ca[_0x1cb6fd(0x203)]?.[_0x1cb6fd(0x21b)],'savingThrowsProficiencies':_0x42f3ca[_0x1cb6fd(0x239)],'existingProficienciesFvttArmor':MiscUtil[_0x1cb6fd(0x1f7)](this[_0x1cb6fd(0x20b)],'data',_0x1cb6fd(0x254),_0x1cb6fd(0x26f),_0x1cb6fd(0x271)),'existingProficienciesFvttWeapons':MiscUtil[_0x1cb6fd(0x1f7)](this[_0x1cb6fd(0x20b)],_0x1cb6fd(0x254),'data',_0x1cb6fd(0x26f),'weaponProf'),'existingProficienciesFvttTools':MiscUtil[_0x1cb6fd(0x1f7)](this[_0x1cb6fd(0x20b)],_0x1cb6fd(0x254),_0x1cb6fd(0x254),_0x1cb6fd(0x26f),_0x1cb6fd(0x287)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies['getExistingProficienciesFvttSavingThrows'](this['_actor'])}),this[_0x1cb6fd(0x1ff)][_0x579a0b][_0x1cb6fd(0x205)](_0x30e0fd)):(_0x30e0fd[_0x1cb6fd(0x1f5)](),this[_0x1cb6fd(0x1ff)][_0x579a0b]=null);const _0x70e48e=()=>{const _0x1aa093=_0x1cb6fd;if(this[_0x1aa093(0x1ff)][_0x579a0b])this[_0x1aa093(0x1ff)][_0x579a0b][_0x1aa093(0x1cb)]=this['_state'][_0x1aa093(0x23f)]===_0x579a0b?Charactermancer_Class_ProficiencyImportModeSelect[_0x1aa093(0x263)]:Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS'];};this[_0x1cb6fd(0x228)](_0x1cb6fd(0x23f),_0x70e48e),this['_metaHksClassStgStartingProficiencies'][_0x579a0b]={'unhook':()=>this[_0x1cb6fd(0x290)]('class_ixPrimaryClass',_0x70e48e)},_0x70e48e();}['_class_getExistingClassMeta'](_0x194c5f){const _0x23f941=_0x14319d;if(this[_0x23f941(0x22c)][_0x194c5f])return this[_0x23f941(0x22c)][_0x194c5f];const {propIxClass:_0x5eccf1}=ActorCharactermancerBaseComponent[_0x23f941(0x215)](_0x194c5f),_0x209c86=this['getClass_']({'propIxClass':_0x5eccf1}),_0x173e31=Charactermancer_Class_Util[_0x23f941(0x1f1)](this['_actor'],_0x209c86),_0x5e97c7=_0x173e31['length']?_0x173e31[0x0]:null;if(!_0x5e97c7)return null;return{'item':_0x5e97c7,'level':Number(_0x5e97c7['data'][_0x23f941(0x254)][_0x23f941(0x1e2)]||0x0)};}async[_0x14319d(0x20f)]({$stgLevelSelect:_0x333ac6,$stgFeatureOptions:_0x2094d1,ix:_0x53f8ae,cls:_0x2ebb0b,sc:_0x1f4af2,propIxSubclass:_0x2f88b5,propCurLevel:_0x1f25c5,propTargetLevel:_0x15474b,propCntAsi:_0x2a08e7,lockRenderFeatureOptionsSelects:_0x55aba2,idFilterBoxChangeClassLevels:_0x5bcea3}){const _0x38e3e9=_0x14319d;_0x333ac6[_0x38e3e9(0x227)]();if(_0x2ebb0b){_0x333ac6[_0x38e3e9(0x1b5)]()[_0x38e3e9(0x272)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>');const _0x22e8b1=this['_class_getFilteredFeatures'](_0x2ebb0b,_0x1f4af2),_0x399c7b=this[_0x38e3e9(0x234)](_0x53f8ae);this[_0x38e3e9(0x28c)][_0x53f8ae]=new Charactermancer_Class_LevelSelect({'features':_0x22e8b1,'isRadio':!![],'isForceSelect':this[_0x38e3e9(0x1d1)]()===0x0||!_0x399c7b,'maxPreviousLevel':_0x399c7b?.[_0x38e3e9(0x209)],'isSubclass':!![]}),this['_compsClassLevelSelect'][_0x53f8ae]['render'](_0x333ac6);const _0x1b19a0=async()=>{const _0x30355d=_0x38e3e9,_0x226305=this[_0x30355d(0x26d)]({'cls':_0x2ebb0b,'propIxSubclass':_0x2f88b5}),_0x12603a=this[_0x30355d(0x1c7)](_0x2ebb0b,_0x226305);await this[_0x30355d(0x1e9)]({'ix':_0x53f8ae,'propCntAsi':_0x2a08e7,'filteredFeatures':_0x12603a,'$stgFeatureOptions':_0x2094d1,'lockRenderFeatureOptionsSelects':_0x55aba2}),this[_0x30355d(0x284)][_0x1f25c5]=this[_0x30355d(0x28c)][_0x53f8ae][_0x30355d(0x266)](),this[_0x30355d(0x284)][_0x15474b]=this[_0x30355d(0x28c)][_0x53f8ae][_0x30355d(0x23b)](),this[_0x30355d(0x284)][_0x30355d(0x213)]=this['class_getTotalLevels']();};this[_0x38e3e9(0x28c)][_0x53f8ae][_0x38e3e9(0x1da)](_0x1b19a0),await _0x1b19a0(),this['_modalFilterClasses']['pageFilter'][_0x38e3e9(0x1ee)]['on'](_0x5bcea3,()=>{const _0x3f22a7=_0x38e3e9;if(!this[_0x3f22a7(0x28c)][_0x53f8ae])return;const _0x19dce7=this[_0x3f22a7(0x26d)]({'cls':_0x2ebb0b,'propIxSubclass':_0x2f88b5}),_0x34a2ba=this[_0x3f22a7(0x1c7)](_0x2ebb0b,_0x19dce7);if(this['_compsClassLevelSelect'][_0x53f8ae])this[_0x3f22a7(0x28c)][_0x53f8ae][_0x3f22a7(0x217)](_0x34a2ba);this[_0x3f22a7(0x1e9)]({'ix':_0x53f8ae,'propCntAsi':_0x2a08e7,'filteredFeatures':_0x34a2ba,'$stgFeatureOptions':_0x2094d1,'lockRenderFeatureOptionsSelects':_0x55aba2});});}else _0x333ac6['hideVe'](),this[_0x38e3e9(0x28c)][_0x53f8ae]=null,_0x2094d1[_0x38e3e9(0x227)]()[_0x38e3e9(0x1f5)](),this[_0x38e3e9(0x251)](_0x53f8ae),this[_0x38e3e9(0x284)][_0x2a08e7]=null,this['_modalFilterClasses'][_0x38e3e9(0x281)]['filterBox'][_0x38e3e9(0x25d)](_0x5bcea3);}[_0x14319d(0x276)]({$stgSkills:_0x20b123,ix:_0x3d1749,propIxClass:_0x3e1134}){const _0x4a7047=_0x14319d,_0xcfecf=this['_class_getExistingClassMeta'](_0x3d1749);if(_0xcfecf)return;if(this[_0x4a7047(0x243)][_0x3d1749])this[_0x4a7047(0x243)][_0x3d1749][_0x4a7047(0x29e)]();const _0x41363c=()=>{const _0x52c077=_0x4a7047;_0x20b123[_0x52c077(0x227)]();const _0x512d89=this[_0x52c077(0x25c)]({'propIxClass':_0x3e1134}),_0x1105b0=this['_state'][_0x52c077(0x23f)]===_0x3d1749;this[_0x52c077(0x1c1)][_0x52c077(0x1d0)][_0x52c077(0x270)](this[_0x52c077(0x282)][_0x3d1749]);if(_0x512d89&&(_0x1105b0&&_0x512d89[_0x52c077(0x201)]?.[_0x52c077(0x1b6)]||!_0x1105b0&&_0x512d89[_0x52c077(0x203)]?.['proficienciesGained']?.[_0x52c077(0x1b6)])){_0x20b123[_0x52c077(0x1b5)]()['append']('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>');const _0x17b9be=_0x1105b0?_0x512d89['startingProficiencies'][_0x52c077(0x1b6)]:_0x512d89['multiclassing']['proficienciesGained'][_0x52c077(0x1b6)],_0x200544={'skillProficiencies':MiscUtil[_0x52c077(0x1f7)](this[_0x52c077(0x20b)],_0x52c077(0x254),_0x52c077(0x254),_0x52c077(0x1b6))};this[_0x52c077(0x282)][_0x3d1749]=new Charactermancer_OtherProficiencySelect({'featureSourceTracker':this[_0x52c077(0x1c1)]['featureSourceTracker_'],'existing':Charactermancer_OtherProficiencySelect['getExisting'](_0x200544),'existingFvtt':_0x200544,'available':Charactermancer_OtherProficiencySelect['getMappedSkillProficiencies'](_0x17b9be)}),this[_0x52c077(0x282)][_0x3d1749][_0x52c077(0x205)](_0x20b123);}else _0x20b123[_0x52c077(0x1f5)](),this[_0x52c077(0x282)][_0x3d1749]=null;};this[_0x4a7047(0x228)]('class_ixPrimaryClass',_0x41363c),this[_0x4a7047(0x243)][_0x3d1749]={'unhook':()=>this['_removeHookBase'](_0x4a7047(0x23f),_0x41363c)},_0x41363c();}async[_0x14319d(0x1ef)]({ix:_0x24ea50,$dispClass:_0x130284,cls:_0x22aa2d,sc:_0x19724f}){const _0x1b0e13=_0x14319d;if(this['_$wrpsClassTable'][_0x24ea50])this[_0x1b0e13(0x206)][_0x24ea50][_0x1b0e13(0x220)]();else this[_0x1b0e13(0x206)][_0x24ea50]=$(_0x1b0e13(0x27a));_0x130284[_0x1b0e13(0x227)]();if(_0x22aa2d){const _0x546789=await DataUtil['class'][_0x1b0e13(0x225)](_0x22aa2d);let _0x351389=MiscUtil[_0x1b0e13(0x20e)](_0x546789[_0x1b0e13(0x253)]||[])[_0x1b0e13(0x1f8)]();_0x351389=Charactermancer_Class_Util[_0x1b0e13(0x23c)](_0x351389,this['_modalFilterClasses'][_0x1b0e13(0x281)],this[_0x1b0e13(0x223)]['pageFilter'][_0x1b0e13(0x1ee)][_0x1b0e13(0x29f)]());const _0x469707={'type':_0x1b0e13(0x25b),'entries':_0x351389};this['_class_renderEntriesSection'](_0x130284,_0x22aa2d[_0x1b0e13(0x283)],_0x469707,{'$wrpTable':this[_0x1b0e13(0x206)][_0x24ea50]}),await this[_0x1b0e13(0x244)]({'ix':_0x24ea50,'cls':_0x22aa2d,'sc':_0x19724f});}}async['_class_renderClass_pDispSubclass']({ix:_0x196635,$dispSubclass:_0x321519,cls:_0x11bd86,sc:_0x382339}){const _0x1d8c81=_0x14319d;_0x321519[_0x1d8c81(0x227)]();if(_0x382339){_0x321519['append']('<hr\x20class=\x22hr-1\x22>');const _0x1159e0=await DataUtil[_0x1d8c81(0x25f)][_0x1d8c81(0x20c)](_0x382339);let _0x5b4356=MiscUtil[_0x1d8c81(0x20e)](_0x1159e0[_0x1d8c81(0x256)])[_0x1d8c81(0x1f8)]();_0x5b4356=Charactermancer_Class_Util[_0x1d8c81(0x23c)](_0x5b4356,this[_0x1d8c81(0x223)][_0x1d8c81(0x281)],this[_0x1d8c81(0x223)][_0x1d8c81(0x281)]['filterBox']['getValues']());const _0x500d0b={'type':_0x1d8c81(0x25b),'entries':_0x5b4356};if(_0x500d0b[_0x1d8c81(0x1c3)][0x0]&&_0x500d0b[_0x1d8c81(0x1c3)][0x0][_0x1d8c81(0x283)])delete _0x500d0b[_0x1d8c81(0x1c3)][0x0][_0x1d8c81(0x283)];this['_class_renderEntriesSection'](_0x321519,_0x382339['name'],_0x500d0b);}await this[_0x1d8c81(0x244)]({'ix':_0x196635,'cls':_0x11bd86,'sc':_0x382339});}async[_0x14319d(0x244)]({ix:_0x2609a6,cls:_0x413702,sc:_0x57b8eb}){const _0x154f64=_0x14319d,_0x45e42b=_0x413702?await DataUtil['class'][_0x154f64(0x225)](_0x413702):null,_0x4997df=_0x57b8eb?await DataUtil[_0x154f64(0x25f)]['pGetDereferencedSubclassData'](_0x57b8eb):null,_0x2c98ba=_0x45e42b?.[_0x154f64(0x253)]||_0x4997df?.[_0x154f64(0x256)]?this[_0x154f64(0x223)]['pageFilter'][_0x154f64(0x1ee)][_0x154f64(0x29f)]():null;_0x45e42b?.[_0x154f64(0x253)]&&(_0x45e42b[_0x154f64(0x253)]=_0x45e42b[_0x154f64(0x253)]['map'](_0x3ec0b1=>{const _0x5a4bcd=_0x154f64;return _0x3ec0b1=MiscUtil['copy'](_0x3ec0b1),_0x3ec0b1=Charactermancer_Class_Util[_0x5a4bcd(0x23c)](_0x3ec0b1,this[_0x5a4bcd(0x223)][_0x5a4bcd(0x281)],_0x2c98ba),_0x3ec0b1;}));_0x4997df?.[_0x154f64(0x256)]&&(_0x4997df[_0x154f64(0x256)]=_0x4997df[_0x154f64(0x256)][_0x154f64(0x22b)](_0x9d6d4b=>{const _0x258b99=_0x154f64;return _0x9d6d4b=MiscUtil[_0x258b99(0x20e)](_0x9d6d4b),_0x9d6d4b=Charactermancer_Class_Util['getFilteredEntries'](_0x9d6d4b,this[_0x258b99(0x223)][_0x258b99(0x281)],_0x2c98ba),_0x9d6d4b;}));const _0x2323c9=DataConverterClass[_0x154f64(0x1cc)](_0x45e42b,_0x4997df);this['_$wrpsClassTable'][_0x2609a6][_0x154f64(0x293)]('')['fastSetHtml'](_0x2323c9);}[_0x14319d(0x1c7)](_0xcccd96,_0x3680aa){const _0x34c0b6=_0x14319d;if(!_0xcccd96)return[];return _0xcccd96=MiscUtil[_0x34c0b6(0x20e)](_0xcccd96),_0xcccd96[_0x34c0b6(0x232)]=[_0x3680aa][_0x34c0b6(0x286)](Boolean),Charactermancer_Util[_0x34c0b6(0x1bc)](Charactermancer_Class_Util[_0x34c0b6(0x21e)](_0xcccd96),this[_0x34c0b6(0x223)][_0x34c0b6(0x281)],this[_0x34c0b6(0x223)][_0x34c0b6(0x281)][_0x34c0b6(0x1ee)][_0x34c0b6(0x29f)]());}async[_0x14319d(0x1e9)](_0x16e074){const _0x179747=_0x14319d,{lockRenderFeatureOptionsSelects:_0x4661b}=_0x16e074;try{return await this['_pLock'](_0x4661b),this[_0x179747(0x1be)](_0x16e074);}finally{this[_0x179747(0x1c9)](_0x4661b);}}async[_0x14319d(0x1be)]({ix:_0x4935b6,propCntAsi:_0x579d29,filteredFeatures:_0x190990,$stgFeatureOptions:_0x5d580b}){const _0x4cacb5=_0x14319d,_0x37bd21=this[_0x4cacb5(0x207)][_0x4935b6]||[];_0x37bd21[_0x4cacb5(0x260)](_0x21fab0=>this['_parent']['featureSourceTracker_'][_0x4cacb5(0x270)](_0x21fab0)),_0x5d580b['empty']();const _0x1f7078=this[_0x4cacb5(0x22c)][_0x4935b6]?new Charactermancer_Class_Util[(_0x4cacb5(0x24c))](this[_0x4cacb5(0x20b)]):null,_0xd230c2=Charactermancer_Util[_0x4cacb5(0x29b)](_0x190990),_0x12c5d2=MiscUtil[_0x4cacb5(0x20e)](_0xd230c2);Charactermancer_Util[_0x4cacb5(0x26a)](_0x12c5d2,this[_0x4cacb5(0x223)]['pageFilter'],this[_0x4cacb5(0x223)][_0x4cacb5(0x281)][_0x4cacb5(0x1ee)][_0x4cacb5(0x29f)]());const _0x1478e3=Charactermancer_Util[_0x4cacb5(0x242)](_0x12c5d2),{lvlMin:_0x2b2dd6,lvlMax:_0x5a0a00}=await this[_0x4cacb5(0x248)](_0x4935b6);this[_0x4cacb5(0x251)](_0x4935b6);let _0x42f44a=0x0;for(const _0x379e1c of _0x1478e3){const {topLevelFeature:_0x57acad,optionsSets:_0x1ddf50}=_0x379e1c;if(_0x57acad[_0x4cacb5(0x209)]<_0x2b2dd6||_0x57acad[_0x4cacb5(0x209)]>_0x5a0a00)continue;const _0x1a97f4=_0x57acad[_0x4cacb5(0x283)][_0x4cacb5(0x1cf)]();if(_0x1a97f4===_0x4cacb5(0x1e7)){_0x42f44a++;continue;}for(const _0x46f033 of _0x1ddf50){const _0x5e6b05=new Charactermancer_FeatureOptionsSelect({'featureSourceTracker':this[_0x4cacb5(0x1c1)]['featureSourceTracker_'],'existingFeatureChecker':_0x1f7078,'actor':this[_0x4cacb5(0x20b)],'optionsSet':_0x46f033,'level':_0x57acad[_0x4cacb5(0x209)],'modalFilterSpells':this[_0x4cacb5(0x1c1)][_0x4cacb5(0x1c0)][_0x4cacb5(0x21f)]});this[_0x4cacb5(0x207)][_0x4935b6][_0x4cacb5(0x295)](_0x5e6b05),_0x5e6b05[_0x4cacb5(0x21d)](_0x37bd21);}}this[_0x4cacb5(0x284)][_0x579d29]=_0x42f44a,await this['_class_pRenderFeatureComps'](_0x4935b6,{'$stgFeatureOptions':_0x5d580b});}[_0x14319d(0x251)](_0x6198e4){const _0x4c28dd=_0x14319d;(this[_0x4c28dd(0x207)][_0x6198e4]||[])[_0x4c28dd(0x260)](_0x1cf128=>_0x1cf128[_0x4c28dd(0x226)]()),this[_0x4c28dd(0x207)][_0x6198e4]=[];}async[_0x14319d(0x248)](_0x45b26a){const _0x4d5c0b=_0x14319d;let _0x160fa3=0x0,_0x231379=0x0;if(this[_0x4d5c0b(0x28c)][_0x45b26a]){const _0x1a736c=await this[_0x4d5c0b(0x28c)][_0x45b26a][_0x4d5c0b(0x1bb)]()['data'];_0x160fa3=Math[_0x4d5c0b(0x1e8)](..._0x1a736c)+0x1,_0x231379=Math[_0x4d5c0b(0x1cd)](..._0x1a736c)+0x1;}return{'lvlMin':_0x160fa3,'lvlMax':_0x231379};}async['_class_pRenderFeatureComps'](_0x26f9e2,{$stgFeatureOptions:_0x5db002}){const _0x55dd76=_0x14319d;for(const _0x289303 of this[_0x55dd76(0x207)][_0x26f9e2]){if(await _0x289303[_0x55dd76(0x265)]()&&!await _0x289303[_0x55dd76(0x274)]())continue;(!await _0x289303[_0x55dd76(0x265)]()||await _0x289303[_0x55dd76(0x1bf)]())&&_0x5db002[_0x55dd76(0x1b5)]()[_0x55dd76(0x272)](''+(_0x289303[_0x55dd76(0x1c5)]?'<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>'+_0x289303[_0x55dd76(0x1c5)]+_0x55dd76(0x24e):'')),_0x289303[_0x55dd76(0x205)](_0x5db002);}}[_0x14319d(0x214)](_0x56f64c,_0x3cb5ea,_0xc71a5e,{$wrpTable:$wrpTable=null}={}){const _0x286bfa=_0x14319d,_0x3f1d75=$('<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x286bfa(0x216)](()=>{const _0x354999=_0x286bfa;_0x3f1d75[_0x354999(0x25e)](_0x3f1d75[_0x354999(0x25e)]()===_0x354999(0x1b8)?_0x354999(0x258):_0x354999(0x1b8));if($wrpTable)$wrpTable['toggleVe']();_0x5603a1[_0x354999(0x268)]();}),_0x5603a1=Renderer['hover'][_0x286bfa(0x1ea)](_0xc71a5e);$$`<div class="ve-flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x3cb5ea||'')['qq']()}</div></div>
				${_0x3f1d75}
			</div>
			${$wrpTable}
			${_0x5603a1}
		</div>`[_0x286bfa(0x200)](_0x56f64c);}['class_getPrimaryClass'](){const _0x5ef37d=_0x14319d;if(!~this['_state']['class_ixPrimaryClass'])return null;const {propIxClass:_0x422c7e}=ActorCharactermancerBaseComponent[_0x5ef37d(0x215)](this[_0x5ef37d(0x284)][_0x5ef37d(0x23f)]);return this[_0x5ef37d(0x221)]['class'][this[_0x5ef37d(0x284)][_0x422c7e]];}[_0x14319d(0x27d)](){const _0x5d0951=_0x14319d;return this[_0x5d0951(0x28c)][_0x5d0951(0x286)](Boolean)[_0x5d0951(0x22b)](_0x4c2bd0=>_0x4c2bd0[_0x5d0951(0x23b)]()||_0x4c2bd0[_0x5d0951(0x266)]())['reduce']((_0x2cb9c3,_0x2ef21d)=>_0x2cb9c3+_0x2ef21d,0x0);}['class_getMinMaxSpellLevel'](){const _0x59fb95=_0x14319d,_0x45d4af=[],_0x258cdc=[];let _0x5b3634=![];for(let _0x458868=0x0;_0x458868<this['_state'][_0x59fb95(0x1ec)]+0x1;++_0x458868){const {propIxClass:_0x550766,propIxSubclass:_0x599642,propCurLevel:_0x57b197,propTargetLevel:_0x4f9c70}=ActorCharactermancerBaseComponent[_0x59fb95(0x215)](_0x458868),_0x289250=this['getClass_']({'propIxClass':_0x550766});if(!_0x289250)continue;const _0x25a381=this[_0x59fb95(0x26d)]({'cls':_0x289250,'propIxSubclass':_0x599642}),_0x59b2d5=this[_0x59fb95(0x284)][_0x57b197],_0x39579b=this[_0x59fb95(0x284)][_0x4f9c70],_0x3eea57=DataConverter['getMaxCasterProgression'](_0x289250['casterProgression'],_0x25a381?.[_0x59fb95(0x1c8)]),_0x5b1dba=Charactermancer_Spell_Util['getCasterProgressionMeta']({'casterProgression':_0x3eea57,'curLevel':_0x59b2d5,'targetLevel':_0x39579b,'isBreakpointsOnly':!![]})?.[_0x59fb95(0x247)];if(_0x5b1dba!=null)_0x45d4af[_0x59fb95(0x295)](_0x5b1dba);const _0x5656dd=Charactermancer_Spell_Util[_0x59fb95(0x1fc)]({'casterProgression':_0x3eea57,'curLevel':_0x59b2d5,'targetLevel':_0x39579b,'isBreakpointsOnly':!![]})?.['spellLevelHigh'];if(_0x5656dd!=null)_0x258cdc['push'](_0x5656dd);_0x5b3634=_0x5b3634||Charactermancer_Spell_Util[_0x59fb95(0x29c)]({'cls':_0x289250,'sc':_0x25a381,'targetLevel':_0x39579b})!=null;}return{'min':_0x45d4af[_0x59fb95(0x296)]?Math[_0x59fb95(0x1e8)](..._0x45d4af):null,'max':_0x258cdc[_0x59fb95(0x296)]?Math[_0x59fb95(0x1cd)](..._0x258cdc):null,'isAnyCantrips':_0x5b3634};}['_getDefaultState'](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![]};}}function _0x2e26(){const _0x1ddf1e=['_addHookBase','isUnknownClass','33MwrIHw','map','_existingClassMetas','exec','stringify','328667JxLpyh','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Proficiencies</div>','isHpAvailable','subclasses','.class_','_class_getExistingClassMeta','_pLoad_getExistingClassIndex','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>','ixSubclass','class_pulseChange','proficiency','fnUpdateHidden','getTargetLevel','getFilteredEntries','isPrimary','title','class_ixPrimaryClass','<hr\x20class=\x22hr-2\x20hr--heavy\x22>','startsWith','getFeaturesGroupedByOptionsSet','_metaHksClassStgSkills','_class_renderClass_pClassTable','_tabClass','item','spellLevelLow','_class_pGetMinMaxLevel','_class_isClassSelectionDisabled','Could\x20not\x20find\x20class\x20with\x20index\x20','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','ExistingFeatureChecker','constructor','</div>','4UszdUQ','_renderFeatureOptionsSelects','_class_unregisterFeatureSourceTrackingFeatureComps','\x22)\x20in\x20loaded\x20data.\x20','classFeatures','data','pLoad','subclassFeatures','state','[‒]','keys','EVNT_VALCHANGE','section','getClass_','off','text','class','forEach','Could\x20not\x20find\x20selected\x20class:\x20','ExistingClassMeta','MODE_PRIMARY','compsClassFeatureOptionsSelect','pIsNoChoice','getCurLevel','pPreloadHidden','toggleVe','_classLevels','doApplyFilterToFeatureEntries','isPrimaryClass','items','getSubclass_','warn','traits','unregister','armorProf','append','_class_renderClass','pIsAvailable','$iptDisplay','_class_renderClass_stgSkills','class_','522gEaOKW','8HeOtcV','<div\x20class=\x22ve-flex-col\x20w-100\x22></div>','bl-0','_pLock','class_getTotalLevels','88963SHpfOu','compsClassHpIncreaseMode','Could\x20not\x20find\x20subclass\x20\x22','pageFilter','_compsClassSkillProficiencies','name','_state','_subclass','filter','toolProf','getSubclassStub','313580QDcNRe','_class_renderClass_stgHpMode','\x20subclasses\x20were\x20available\x20for\x20class\x20','_compsClassLevelSelect','originalClass','mergeMap','source','_removeHookBase','pGetUserSelection','_compsClassHpInfo','html','This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','push','length','compsClassSkillProficiencies','trim','parent','_class_isSubclassSelectionDisabled','getImportableFeatures','getMaxLearnedCantrips','actor','unhook','getValues','showVe','skills','_pGate','[+]','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>','findIndex','pGetFormData','getFilteredFeatures','_proxyAssignSimple','_class_pRenderFeatureOptionsSelects_','pIsForceDisplay','compSpell','_parent','952090SfSjUT','entries','notifications','modalTitle','ixClass','_class_getFilteredFeatures','casterProgression','_unlock','_class_renderClass_stgSelectSubclass','mode','getRenderedClassTableFromDereferenced','max','_metaHksClassStgStartingProficiencies','toLowerCase','featureSourceTracker_','getExistingClassTotalLevels_','modalFilterClasses','sourceJsonToAbv','import','_class_renderClass_pDispSubclass','Primary\x20Class','$getSelSearchable','compsClassLevelSelect','__state','onchange','addClass','sum','some','details','_pHkChangeClass','identifier','$wrpTab','levels','type','\x20classes\x20were\x20available)','_pDoProxySetBase','Make\x20Primary','ability\x20score\x20improvement','min','_class_pRenderFeatureOptionsSelects','$getHoverContent_generic','Strict\x20source\x20matching\x20is:\x20','class_ixMax','_compsClassHpIncreaseMode','filterBox','_class_renderClass_pDispClass','5620446jURPmy','getExistingClassItems','29808yNxMyz','flags','subclass','hideVe','_class_renderClass_stgHpInfo','get','flat','_class_getLocks','\x22\x20(\x22','(Unknown)','getCasterProgressionMeta','toDisplay','_pLoad_pDoHandleExistingClassItems','_compsClassStartingProficiencies','appendTo','startingProficiencies','ActorCharactermancer.classes','multiclassing','<hr\x20class=\x22hr-3\x20hr--heavy\x22>','render','_$wrpsClassTable','_compsClassFeatureOptionsSelect','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btr-0\x20bbr-0\x20pr-2\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span>\x20Filter</button>','level','find','_actor','pGetDereferencedSubclassData','Select\x20a\x20Class','copy','_class_renderClass_pStgLevelSelect','Could\x20not\x20find\x20class\x20\x22','624ZXFjoP','\x22\x20in\x20loaded\x20data.\x20','class_totalLevels','_class_renderEntriesSection','class_getProps','click','setFeatures','_metaHksClassStgSubclass','At\x20least\x20one\x20argument\x20must\x20be\x20provided!','15764892rmPYSC','proficienciesGained','isStrictMatching','findAndCopyStateFrom','getAllFeatures','modalFilterSpells','detach','_data','getItemSource','_modalFilterClasses','classIdentifier','pGetDereferencedClassData','unregisterFeatureSourceTracking','empty'];_0x2e26=function(){return _0x1ddf1e;};return _0x2e26();}ActorCharactermancerClass[_0x14319d(0x262)]=class{constructor({item:_0x2c6a81,ixClass:_0x592549,ixSubclass:_0x1ad549,level:_0x4691fa}){const _0x2f3520=_0x14319d;this[_0x2f3520(0x246)]=_0x2c6a81,this[_0x2f3520(0x1c6)]=_0x592549,this[_0x2f3520(0x237)]=_0x1ad549,this[_0x2f3520(0x209)]=_0x4691fa;if(isNaN(this['level']))this['level']=0x0;}};export{ActorCharactermancerClass};