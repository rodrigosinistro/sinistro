const _0x278b9b=_0x5ba5;(function(_0x39c8c1,_0x25d3f5){const _0x231369=_0x5ba5,_0x537619=_0x39c8c1();while(!![]){try{const _0x50959d=-parseInt(_0x231369(0xae))/0x1*(parseInt(_0x231369(0xf9))/0x2)+-parseInt(_0x231369(0x12a))/0x3*(parseInt(_0x231369(0x89))/0x4)+parseInt(_0x231369(0xd2))/0x5*(-parseInt(_0x231369(0x100))/0x6)+parseInt(_0x231369(0xce))/0x7+-parseInt(_0x231369(0x109))/0x8*(parseInt(_0x231369(0xdc))/0x9)+parseInt(_0x231369(0x130))/0xa+parseInt(_0x231369(0xba))/0xb;if(_0x50959d===_0x25d3f5)break;else _0x537619['push'](_0x537619['shift']());}catch(_0x4caf9c){_0x537619['push'](_0x537619['shift']());}}}(_0x56a4,0xa7b46));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';import{UtilActors}from'./UtilActors.js';import{Consts}from'./Consts.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';function _0x5ba5(_0x582a45,_0x759c27){const _0x56a4d8=_0x56a4();return _0x5ba5=function(_0x5ba518,_0x54162c){_0x5ba518=_0x5ba518-0x86;let _0xd96a65=_0x56a4d8[_0x5ba518];return _0xd96a65;},_0x5ba5(_0x582a45,_0x759c27);}import{UtilCompendium}from'./UtilCompendium.js';import{DataConverterClassSubclassFeature}from'./DataConverterClassSubclassFeature.js';function _0x56a4(){const _0x164ace=['_getDataHitDice','_pGetSubclassDescription','276ZukrPq','getNameWithSourcePart','pGetRenderedClassTable','join','getClassStub','</th>','keys','_cntStartingSkillChoices','SKILL_TO_ATB_ABV','<div\x20class=\x22mb-2\x20ve-flex-col\x22>','setFirstSection','_pGetClassSubclassItemEffectsRaw','getSrdCompendiumEntity','pGetClassImagePath','choose','_SIDE_LOAD_OPTS_SUBCLASS','advancement','<td\x20class=\x22cls-tbl__col-prof-bonus\x22>+','init','isActorItem','casterProgression','</p>','\x0a\x09\x09\x09<tr>\x0a\x09\x09\x09\x09<th\x20colspan=\x22','foundrySubclass','<div\x20class=\x22inline-block\x22>','<td>','Unknown\x20Subclass','modules/','_getAllSkillChoices','getMappedCasterType','<table\x20class=\x22cls-tbl\x20shadow-big\x20w-100\x20mb-3\x22>\x0a\x09\x09\x09<tbody>\x0a\x09\x09\x09<tr><th\x20class=\x22border\x22\x20colspan=\x2215\x22></th></tr>\x0a\x09\x09\x09','\x22></th>','classTableGroups','forEach','_getClassSubclassItemEffects','<th\x20colspan=\x22','_pGetFlagsSideLoaded','1Ietsbz','pGetClassSubclassSideData','CHAR_MAX_LEVEL','_pGetDataSideLoaded','MODULE_NAME','foundryEffects','rowsSpellProgression','_pGetClassDescription','ATB_ABV_TO_FULL','mutEffectsDisabledTransfer','pOptionallySaveImageToServerAndGetUrl','<tr\x20class=\x22cls-tbl__stripe-odd\x22>\x0a\x09\x09\x09\x09<td\x20class=\x22cls-tbl__col-level\x22>','19795644TbRuUI','getSourceWithPagePart','isImportClassTable','<th\x20class=\x22cls-tbl__col-prof-bonus\x22>Proficiency\x20Bonus</th>','<th\x20class=\x22cls-tbl__col-group\x22\x20colspan=\x22','proficienciesGained','SKILL_ABV_TO_FULL','\x0a\x09\x09\x09</tr>\x0a\x09\x09\x09<tr>\x0a\x09\x09\x09\x09<th\x20class=\x22cls-tbl__col-level\x22>Level</th>\x0a\x09\x09\x09\x09','classFeatures','flat','colLabels','section','getOrdinalForm','getCleanEntityName','_pGetEffectsSideLoaded','MODE_MULTICLASS','pGetDereferencedClassData','classSource','effects','subclasses','2361205QLKMys','</td>','permissions','_pGetStarSideLoadedFound','5cIOohN','getItemEffects','getRenderedClassTableFromDereferenced','STUB_SUBCLASS','test','_SIDE_LOAD_OPTS','URL_TO_HASH_BUILDER','level','isFvttSyntheticFeatureLink','isStubSubclass','1167030DiTzUa','permission','</th></tr>','/media/icon/laurels.svg','pHasSubclassSideLoadedEffects','foundryClass','skills','push','startingSkills','subclassTableGroups','render','filterValues','getExpandedEffects','data','isScDereferenced','setImplSideData','source','\x0a\x09\x09\x09</tr>\x0a\x09\x09\x09','pPreloadSideData','MODE_PRIMARY','<span\x20class=\x22mr-1\x22>,</span>','Unknown\x20Class','MODULE_NAME_FAKE','size','_pGetAdvancementSideLoaded','entries','_IMG_FALLBACK','pHasClassSideLoadedEffects','actor','901826BvrDsw','startingProficiencies','proficiencyImportMode','get','importClass','_cntStartingSkillChoicesMutliclass','isImportDescription','132924GYVddo','isStubClass','</div>','\x0a\x09\x09\x09\x09','add','foundryImg','copy','has','defaultPermission','56HNJmcU','pGetSideLoadedMatch','find','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','pGetDereferencedSubclassData','ceil','length','<th\x20class=\x22cls-tbl__col-generic-center\x22><div\x20class=\x22cls__squash_header\x22>','pGetClassSubclassFeatureItem','map','pGetCompendiumImage','className','isAddPermission','walk','</td>\x0a\x09\x09\x09\x09','_getIdentifier','pGetBrewProcessed','_pGetSubclassImagePath','PG_CLASSES','isClsDereferenced','pGetSubclassItemEffects','pGetClassItemEffects','stripTags','_getClassSubclassFlags','proficiency','rows','fluff','subclass','filter','ScaleValue','pGetWithDescriptionPlugins','spellcastingAbility','{@note\x20Note:\x20importing\x20a\x20class\x20as\x20an\x20item\x20is\x20provided\x20for\x20display\x20purposes\x20only.\x20If\x20you\x20wish\x20to\x20import\x20a\x20class\x20to\x20a\x20character\x20sheet,\x20please\x20use\x20the\x20importer\x20on\x20the\x20sheet\x20instead.}','43302PDEcQd','isDirectImport','name','faces','getSubclassStub','_SIDE_DATA','9267020IdnMWS','_getRenderedClassTableFromDereferenced_getSpellsOnlyTableGroup','STUB_CLASS','class','</div></th>','_fluff','_getDoNotUseNote','type','title','Unhandled\x20type\x20\x22'];_0x56a4=function(){return _0x164ace;};return _0x56a4();}import{UtilDataConverter}from'./UtilDataConverter.js';import{Charactermancer_Class_ProficiencyImportModeSelect,PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';class DataConverterClass extends DataConverter{static [_0x278b9b(0xd7)]={'propBrew':_0x278b9b(0xe1),'fnLoadJson':async()=>this['pPreloadSideData'](),'propJson':_0x278b9b(0x133)};static [_0x278b9b(0x98)]={'propBrew':_0x278b9b(0xa0),'fnLoadJson':async()=>this['pPreloadSideData'](),'propJson':_0x278b9b(0x124),'propsMatch':['classSource',_0x278b9b(0x114),_0x278b9b(0xec),_0x278b9b(0x12c)]};static [_0x278b9b(0xf6)]=_0x278b9b(0xa4)+SharedConsts[_0x278b9b(0xb2)]+_0x278b9b(0xdf);static[_0x278b9b(0x9b)](){const _0x1b3c6d=_0x278b9b;PageFilterClassesFoundry[_0x1b3c6d(0xeb)](_0x1b3c6d(0x133),this),PageFilterClassesFoundry['setImplSideData'](_0x1b3c6d(0x124),this);}static[_0x278b9b(0x136)](){const _0x46ea02=_0x278b9b;return UtilDataConverter[_0x46ea02(0x127)](()=>'<p>'+Renderer['get']()[_0x46ea02(0xe6)](_0x46ea02(0x129))+_0x46ea02(0x9e));}static[_0x278b9b(0x87)](_0x596984){const _0x454674=_0x278b9b;return'd'+((_0x596984['hd']||{})[_0x454674(0x12d)]||0x6);}static['_getDataSaves'](_0x4f38c7){const _0x453c2c=_0x278b9b;return(_0x4f38c7[_0x453c2c(0x121)]||[])[_0x453c2c(0x125)](_0x564367=>Parser[_0x453c2c(0xb6)][_0x564367]);}static async[_0x278b9b(0x96)](_0x2d01fa,{isReturnDefault:isReturnDefault=!![]}={}){const _0x39ad28=_0x278b9b;if(_0x2d01fa['foundryImg'])return _0x2d01fa['foundryImg'];const _0x5b6b61=await UtilCompendium[_0x39ad28(0x113)](_0x39ad28(0x133),_0x2d01fa);if(_0x5b6b61)return _0x5b6b61;return isReturnDefault?'modules/'+SharedConsts[_0x39ad28(0xb2)]+_0x39ad28(0xdf):null;}static async[_0x278b9b(0x11a)](_0x43f898,_0x30676f){const _0x1c299c=_0x278b9b;if(_0x30676f[_0x1c299c(0x105)])return _0x30676f[_0x1c299c(0x105)];const _0x2b51fb=await UtilCompendium[_0x1c299c(0x113)]('subclass',_0x30676f);if(_0x2b51fb)return _0x2b51fb;const _0x31744c=await this['pGetClassImagePath'](_0x43f898,{'isReturnDefault':![]});if(_0x31744c)return _0x31744c;return'modules/'+SharedConsts[_0x1c299c(0xb2)]+_0x1c299c(0xdf);}static['_getIdentifier'](_0x18d88d){const _0x85579d=_0x278b9b;return _0x18d88d[_0x85579d(0x12c)]['slugify']({'strict':!![]});}static async['pGetClassItem'](_0x2e41b9,_0x2c62b1){const _0x8f38a9=_0x278b9b;_0x2c62b1=_0x2c62b1||{};if(_0x2c62b1[_0x8f38a9(0xf8)])_0x2c62b1['isActorItem']=!![];!_0x2c62b1[_0x8f38a9(0x11c)]&&(_0x2e41b9=MiscUtil[_0x8f38a9(0x106)](_0x2e41b9),_0x2e41b9=await DataUtil['class'][_0x8f38a9(0xca)](_0x2e41b9));const _0x2d3c6f=await UtilCompendium[_0x8f38a9(0x95)](_0x8f38a9(0x133),_0x2e41b9),_0x301f6e=this[_0x8f38a9(0x118)](_0x2e41b9),_0x3dc372=await Vetools['pOptionallySaveImageToServerAndGetUrl'](await this[_0x8f38a9(0x96)](_0x2e41b9)),_0x27cb2f=await this[_0x8f38a9(0xb1)](_0x2e41b9),_0x20db3b=await this['_pGetFlagsSideLoaded'](_0x2e41b9),_0x2f57d8=await this['_pGetAdvancementSideLoaded'](_0x2e41b9),_0x124a77=_0x2c62b1[_0x8f38a9(0x9c)]?[]:await this[_0x8f38a9(0xc8)]({'ent':_0x2e41b9,'img':_0x3dc372});DataConverter[_0x8f38a9(0xb7)](_0x124a77,'importClass');const _0x13eb58={'name':UtilApplications[_0x8f38a9(0xc7)](UtilDataConverter[_0x8f38a9(0x8a)](_0x2e41b9,{'isActorItem':_0x2c62b1[_0x8f38a9(0x9c)]})),'type':_0x8f38a9(0x133),'data':{'identifier':_0x301f6e,'description':{'value':await this['_pGetClassDescription'](_0x2e41b9,_0x2c62b1),'chat':'','unidentified':''},'source':UtilDataConverter[_0x8f38a9(0xbb)](_0x2e41b9),'levels':_0x2c62b1[_0x8f38a9(0xd9)]??Consts['CHAR_MAX_LEVEL'],'hitDice':this['_getDataHitDice'](_0x2e41b9),'hitDiceUsed':0x0,'spellcasting':{'progression':UtilActors['getMappedCasterType'](_0x2e41b9['casterProgression'])||_0x2e41b9[_0x8f38a9(0x9d)],'ability':_0x2e41b9[_0x8f38a9(0x128)]},'saves':_0x2c62b1['proficiencyImportMode']===Charactermancer_Class_ProficiencyImportModeSelect[_0x8f38a9(0xef)]?this['_getDataSaves'](_0x2e41b9):[],'skills':{'number':_0x2c62b1[_0x8f38a9(0xfb)]===Charactermancer_Class_ProficiencyImportModeSelect[_0x8f38a9(0xc9)]?_0x2e41b9[_0x8f38a9(0xfe)]||0x0:_0x2e41b9[_0x8f38a9(0x90)]||0x0,'choices':_0x2c62b1[_0x8f38a9(0xfb)]===Charactermancer_Class_ProficiencyImportModeSelect[_0x8f38a9(0xc9)]?this[_0x8f38a9(0xa5)](MiscUtil[_0x8f38a9(0xfc)](_0x2e41b9,'multiclassing',_0x8f38a9(0xbf),'skills')||[]):this[_0x8f38a9(0xa5)](MiscUtil[_0x8f38a9(0xfc)](_0x2e41b9,_0x8f38a9(0xfa),_0x8f38a9(0xe2))||[]),'value':_0x2c62b1[_0x8f38a9(0xe4)]},'advancement':[...(_0x2d3c6f?.[_0x8f38a9(0xe9)]?.[_0x8f38a9(0x99)]||[])['filter'](_0x334180=>_0x334180[_0x8f38a9(0x137)]===_0x8f38a9(0x126)),..._0x2f57d8||[]],..._0x27cb2f},'flags':{...this[_0x8f38a9(0x120)]({'cls':_0x2e41b9,'sc':_0x2c62b1['sc'],'filterValues':_0x2c62b1[_0x8f38a9(0xe7)],'proficiencyImportMode':_0x2c62b1[_0x8f38a9(0xfb)],'isActorItem':_0x2c62b1[_0x8f38a9(0x9c)]}),..._0x20db3b},'effects':_0x124a77,'img':_0x3dc372};if(_0x2c62b1[_0x8f38a9(0x108)]!=null)_0x13eb58[_0x8f38a9(0xdd)]={'default':_0x2c62b1[_0x8f38a9(0x108)]};else{if(_0x2c62b1[_0x8f38a9(0x115)])_0x13eb58['permission']={'default':Config[_0x8f38a9(0xfc)](_0x8f38a9(0xfd),_0x8f38a9(0xd0))};}return _0x13eb58;}static async[_0x278b9b(0xb5)](_0x4fb438,_0x1fc641){const _0x4e4b59=_0x278b9b,_0x3a8d8e=!_0x1fc641['isActorItem']?await this[_0x4e4b59(0x136)]():'',_0x46c797=await UtilDataConverter[_0x4e4b59(0x127)](()=>this[_0x4e4b59(0x8b)](_0x4fb438)),_0x16f848=_0x4fb438?.[_0x4e4b59(0x123)]?.['length']?Renderer[_0x4e4b59(0xfc)]()[_0x4e4b59(0x93)](!![])[_0x4e4b59(0xe6)]({'type':_0x4fb438['fluff'][0x0][_0x4e4b59(0x137)]||_0x4e4b59(0xc5),'entries':_0x4fb438[_0x4e4b59(0x123)][0x0][_0x4e4b59(0xf5)]||[]}):'',_0x21d79d=!_0x1fc641[_0x4e4b59(0x9c)]?await UtilDataConverter[_0x4e4b59(0x127)](()=>Renderer[_0x4e4b59(0xfc)]()[_0x4e4b59(0x93)](!![])[_0x4e4b59(0xe6)]({'type':_0x4e4b59(0xc5),'entries':_0x4fb438[_0x4e4b59(0xc2)][_0x4e4b59(0xc3)]()})):'';if(!Config['get'](_0x4e4b59(0xfd),'isImportDescription'))return _0x4e4b59(0x92)+_0x3a8d8e+_0x46c797+'</div>';return'<div\x20class=\x22mb-2\x20ve-flex-col\x22>'+_0x3a8d8e+_0x46c797+_0x16f848+_0x21d79d+'</div>';}static[_0x278b9b(0x120)]({cls:_0x16a2d6,sc:_0x40451f,filterValues:_0x2745b2,proficiencyImportMode:_0x354f30,isActorItem:_0x36d0f3}){const _0x317393=_0x278b9b,_0x1e246c={[SharedConsts[_0x317393(0xf2)]]:{'page':UrlUtil[_0x317393(0x11b)],'source':_0x16a2d6[_0x317393(0xec)],'hash':UrlUtil[_0x317393(0xd8)][UrlUtil['PG_CLASSES']](_0x16a2d6),'sourceSubclass':_0x40451f?_0x40451f[_0x317393(0xec)]:null,'hashSubclass':_0x40451f?UrlUtil[_0x317393(0xd8)]['subclass'](_0x40451f):null,'propDroppable':_0x40451f?_0x317393(0x124):_0x317393(0x133),'filterValues':_0x2745b2,'isPrimaryClass':_0x354f30===Charactermancer_Class_ProficiencyImportModeSelect[_0x317393(0xef)]}};if(_0x36d0f3)_0x1e246c[SharedConsts[_0x317393(0xf2)]][_0x317393(0x12b)]=!![];return _0x1e246c;}static[_0x278b9b(0xa5)](_0x2aa5e5){const _0x35fac3=_0x278b9b,_0x5b542c=new Set();return _0x2aa5e5[_0x35fac3(0xaa)](_0x4849c0=>{const _0x1d2a1b=_0x35fac3;Object[_0x1d2a1b(0x8f)](Parser[_0x1d2a1b(0x91)])['filter'](_0x4084f7=>_0x4849c0[_0x4084f7])['forEach'](_0x43475c=>_0x5b542c[_0x1d2a1b(0x104)](_0x43475c)),_0x4849c0[_0x1d2a1b(0x97)]?.['from']?.[_0x1d2a1b(0x10f)]&&_0x4849c0[_0x1d2a1b(0x97)]['from'][_0x1d2a1b(0x125)](_0x4f81fb=>Parser[_0x1d2a1b(0x91)][_0x4f81fb])[_0x1d2a1b(0xaa)](_0x4ad570=>_0x5b542c[_0x1d2a1b(0x104)](_0x4ad570));}),Object[_0x35fac3(0xf5)](UtilActors[_0x35fac3(0xc0)])[_0x35fac3(0x125)](([,_0x384b64])=>_0x5b542c[_0x35fac3(0x107)](_0x384b64))[_0x35fac3(0x112)](([_0x54dd46])=>_0x54dd46);}static async['pGetSubclassItem'](_0x4aad4f,_0x453dfc,_0x5dd353){const _0x308394=_0x278b9b;_0x5dd353=_0x5dd353||{};if(_0x5dd353[_0x308394(0xf8)])_0x5dd353[_0x308394(0x9c)]=!![];!_0x5dd353[_0x308394(0xea)]&&(_0x453dfc=MiscUtil[_0x308394(0x106)](_0x453dfc),_0x453dfc=await DataUtil['class'][_0x308394(0x10d)](_0x453dfc));const _0x4b8d29=await UtilCompendium[_0x308394(0x95)]('subclass',_0x453dfc),_0x32eafa=this[_0x308394(0x118)](_0x4aad4f),_0x410bf8=this[_0x308394(0x118)](_0x453dfc),_0x4e17e7=await Vetools[_0x308394(0xb8)](await this['_pGetSubclassImagePath'](_0x4aad4f,_0x453dfc)),_0x32bfec=await this['_pGetDataSideLoaded'](_0x453dfc,{'propOpts':'_SIDE_LOAD_OPTS_SUBCLASS'}),_0x5214e9=await this[_0x308394(0xad)](_0x453dfc,{'propOpts':_0x308394(0x98)}),_0x37b2c7=await this[_0x308394(0xf4)](_0x453dfc,{'propOpts':_0x308394(0x98)}),_0x19f956=_0x5dd353[_0x308394(0x9c)]?[]:await this[_0x308394(0xc8)]({'ent':_0x453dfc,'img':_0x4e17e7},{'propOpts':_0x308394(0x98)});DataConverter[_0x308394(0xb7)](_0x19f956,'importClass');const _0x566b9e={'name':UtilApplications[_0x308394(0xc7)](UtilDataConverter['getNameWithSourcePart'](_0x453dfc,{'isActorItem':_0x5dd353[_0x308394(0x9c)]})),'type':_0x308394(0x124),'data':{'identifier':_0x410bf8,'classIdentifier':_0x32eafa,'description':{'value':await this[_0x308394(0x88)](_0x4aad4f,_0x453dfc,_0x5dd353),'chat':'','unidentified':''},'source':UtilDataConverter[_0x308394(0xbb)](_0x453dfc),'spellcasting':{'progression':UtilActors[_0x308394(0xa6)](_0x453dfc[_0x308394(0x9d)])||_0x453dfc[_0x308394(0x9d)],'ability':_0x453dfc[_0x308394(0x128)]},'advancement':[...(_0x4b8d29?.[_0x308394(0xe9)]?.[_0x308394(0x99)]||[])['filter'](_0x1a02ee=>_0x1a02ee[_0x308394(0x137)]===_0x308394(0x126)),..._0x37b2c7||[]],..._0x32bfec},'flags':{...this[_0x308394(0x120)]({'cls':_0x4aad4f,'sc':_0x453dfc,'filterValues':_0x5dd353[_0x308394(0xe7)],'proficiencyImportMode':_0x5dd353['proficiencyImportMode'],'isActorItem':_0x5dd353[_0x308394(0x9c)]}),..._0x5214e9},'effects':_0x19f956,'img':_0x4e17e7};if(_0x5dd353[_0x308394(0x108)]!=null)_0x566b9e[_0x308394(0xdd)]={'default':_0x5dd353['defaultPermission']};else{if(_0x5dd353[_0x308394(0x115)])_0x566b9e['permission']={'default':Config[_0x308394(0xfc)](_0x308394(0xfd),'permissions')};}return _0x566b9e;}static async['_pGetSubclassDescription'](_0x1d3f35,_0x51e0cf,_0x187c67){const _0x511578=_0x278b9b,_0x52c8ad=!_0x187c67[_0x511578(0x9c)]?await this[_0x511578(0x136)]():'',_0x5043dc=MiscUtil['getWalker']({'keyBlacklist':MiscUtil[_0x511578(0x10c)]})[_0x511578(0x116)](MiscUtil[_0x511578(0x106)](_0x51e0cf[_0x511578(0x135)][_0x511578(0xf5)]),{'array':_0x25d2c2=>{const _0x1820fb=_0x511578;return _0x25d2c2[_0x1820fb(0x125)](_0x5d6d5f=>!_0x5d6d5f?.['data']?.[_0x1820fb(0xda)]);}}),_0x59045c=_0x187c67['isActorItem']?Renderer[_0x511578(0xfc)]()[_0x511578(0x93)](!![])[_0x511578(0xe6)]({'type':_0x511578(0xf5),'entries':_0x5043dc}):'',_0x2ea459=!_0x187c67[_0x511578(0x9c)]?await UtilDataConverter['pGetWithDescriptionPlugins'](()=>Renderer['get']()[_0x511578(0x93)](!![])[_0x511578(0xe6)]({'type':_0x511578(0xc5),'entries':_0x51e0cf['subclassFeatures'][_0x511578(0xc3)]()})):'';if(!Config['get']('importClass',_0x511578(0xff)))return _0x511578(0x92)+_0x52c8ad+_0x511578(0x102);return _0x511578(0x92)+_0x52c8ad+_0x59045c+_0x2ea459+_0x511578(0x102);}static async[_0x278b9b(0x111)](_0x215a81,_0x20a695){const _0x5d7bf2=_0x278b9b,{entity:_0x640739,type:_0x5a1c8d}=_0x215a81;return DataConverterClassSubclassFeature[_0x5d7bf2(0x111)](_0x640739,{'type':_0x5a1c8d,'actor':_0x20a695});}static[_0x278b9b(0xd3)](_0x5d6241,_0x3c2759,_0x2dfaa9){const _0x4a5efc=_0x278b9b;return this[_0x4a5efc(0xab)](_0x5d6241,_0x2dfaa9,[_0x3c2759]);}static async[_0x278b9b(0xf7)]({cls:_0x594373}){const _0x2acc34=_0x278b9b,_0x7a3f46=await this[_0x2acc34(0x94)]({'cls':_0x594373});return!!_0x7a3f46[_0x2acc34(0x10f)];}static async[_0x278b9b(0xe0)]({sc:_0x15354e}){const _0x502910=_0x278b9b,_0x428a74=await this[_0x502910(0x94)]({'sc':_0x15354e});return!!_0x428a74['length'];}static async[_0x278b9b(0x11e)]({actor:_0x37ebd2,cls:_0x1d4f61,sheetItem:_0x4af616}){const _0x15ffba=_0x278b9b,_0x4ae2ee=await this[_0x15ffba(0x94)]({'cls':_0x1d4f61});return this[_0x15ffba(0xab)](_0x37ebd2,_0x4af616,_0x4ae2ee,{'parentName':_0x1d4f61[_0x15ffba(0x12c)]});}static async[_0x278b9b(0x11d)]({actor:_0x18ba47,sc:_0x4f3537,sheetItem:_0x1fda2c}){const _0x380aa9=_0x278b9b,_0x2f31e7=await this['_pGetClassSubclassItemEffectsRaw']({'sc':_0x4f3537});return this[_0x380aa9(0xab)](_0x18ba47,_0x1fda2c,_0x2f31e7,{'parentName':_0x4f3537[_0x380aa9(0x12c)]});}static async[_0x278b9b(0x94)]({cls:_0x22bbc9,sc:_0x224d6d}){const _0x2cda8e=_0x278b9b,_0x247910=_0x22bbc9?await this[_0x2cda8e(0x10a)](_0x22bbc9,_0x2cda8e(0x133)):{},_0x7f8113=_0x224d6d?await this[_0x2cda8e(0x10a)](_0x224d6d,_0x2cda8e(0x124)):{},_0x5131ff=_0x22bbc9?await DataConverter[_0x2cda8e(0xd1)](_0x22bbc9,{'propFromEntity':_0x2cda8e(0xb3),'propFromSideLoaded':'effects','found':_0x247910}):null,_0x4c98f9=_0x224d6d?await DataConverter[_0x2cda8e(0xd1)](_0x224d6d,{'propFromEntity':_0x2cda8e(0xb3),'propFromSideLoaded':_0x2cda8e(0xcc),'found':_0x7f8113}):null;return[..._0x5131ff||[],..._0x4c98f9||[]];}static[_0x278b9b(0xab)](_0x5e113e,_0x71b39,_0x1b9960,{parentName:parentName=''}={}){const _0x14ca7f=_0x278b9b;return UtilActiveEffects[_0x14ca7f(0xe8)](_0x1b9960,{'actor':_0x5e113e,'sheetItem':_0x71b39,'parentName':parentName});}static async[_0x278b9b(0xee)](){const _0x23ef78=_0x278b9b;if(!DataConverterClass['_SIDE_DATA'])DataConverterClass[_0x23ef78(0x12f)]=await Vetools[_0x23ef78(0xaf)]();return DataConverterClass[_0x23ef78(0x12f)];}static async[_0x278b9b(0x10a)](_0x5cf06c,_0x440066){const _0x152824=_0x278b9b;if(!_0x5cf06c)return null;const _0x6e4d97=await BrewUtil2[_0x152824(0x119)]();switch(_0x440066){case _0x152824(0x133):{let _0x3bc1c4=(MiscUtil[_0x152824(0xfc)](_0x6e4d97,_0x152824(0xe1))||[])[_0x152824(0x10b)](_0x3b5a2c=>_0x3b5a2c[_0x152824(0x12c)]===_0x5cf06c[_0x152824(0x12c)]&&_0x3b5a2c['source']===_0x5cf06c[_0x152824(0xec)]);if(!_0x3bc1c4){const _0x5d6459=await this[_0x152824(0xee)]();_0x3bc1c4=(_0x5d6459[_0x152824(0x133)]||[])[_0x152824(0x10b)](_0x66ecf=>_0x66ecf['name']===_0x5cf06c[_0x152824(0x12c)]&&_0x66ecf[_0x152824(0xec)]===_0x5cf06c[_0x152824(0xec)]);}if(!_0x3bc1c4)return null;return _0x3bc1c4;}case _0x152824(0x124):{let _0x4102ac=(MiscUtil[_0x152824(0xfc)](_0x6e4d97,'foundrySubclass')||[])[_0x152824(0x10b)](_0x2ed70a=>_0x2ed70a['name']===_0x5cf06c[_0x152824(0x12c)]&&_0x2ed70a[_0x152824(0xec)]===_0x5cf06c[_0x152824(0xec)]&&_0x2ed70a['className']===_0x5cf06c[_0x152824(0x114)]&&_0x2ed70a[_0x152824(0xcb)]===_0x5cf06c['classSource']);if(!_0x4102ac){const _0x5b2548=await this[_0x152824(0xee)]();_0x4102ac=(_0x5b2548[_0x152824(0x124)]||[])[_0x152824(0x10b)](_0x1fbd25=>_0x1fbd25[_0x152824(0x12c)]===_0x5cf06c[_0x152824(0x12c)]&&_0x1fbd25['source']===_0x5cf06c[_0x152824(0xec)]&&_0x1fbd25[_0x152824(0x114)]===_0x5cf06c[_0x152824(0x114)]&&_0x1fbd25[_0x152824(0xcb)]===_0x5cf06c['classSource']);}if(!_0x4102ac)return null;return _0x4102ac;}default:throw new Error(_0x152824(0x86)+_0x440066+'\x22');}}static async[_0x278b9b(0x8b)](_0x1d857f,_0x2887b9,_0x2d038f={}){const _0x369804=_0x278b9b;if(!Config[_0x369804(0xfc)](_0x369804(0xfd),_0x369804(0xbc)))return'';return UtilDataConverter[_0x369804(0x127)](async()=>{const _0x2b15b8=_0x369804;return _0x1d857f=MiscUtil[_0x2b15b8(0x106)](_0x1d857f),_0x1d857f=await DataUtil['class']['pGetDereferencedClassData'](_0x1d857f),_0x2887b9&&(_0x2887b9=MiscUtil[_0x2b15b8(0x106)](_0x2887b9),_0x2887b9=await DataUtil[_0x2b15b8(0x133)][_0x2b15b8(0x10d)](_0x2887b9)),this[_0x2b15b8(0xd4)](_0x1d857f,_0x2887b9,_0x2d038f);});}static['getRenderedClassTableFromDereferenced'](_0x291356,_0x37b1e5,{isAddHeader:isAddHeader=![],isSpellsOnly:isSpellsOnly=![]}={}){const _0x36f5f3=_0x278b9b;if(!_0x291356)return'';Renderer[_0x36f5f3(0xfc)]()[_0x36f5f3(0x93)](!![]);const _0x50915e=[],_0x1ac9fb=[],_0x556f34=_0x1b1dff=>{const _0x1c58ea=_0x36f5f3;let _0x484b8a;_0x1b1dff[_0x1c58ea(0x138)]?_0x484b8a=_0x1c58ea(0xbe)+_0x1b1dff['colLabels'][_0x1c58ea(0x10f)]+'\x22>'+_0x1b1dff[_0x1c58ea(0x138)]+_0x1c58ea(0x8e):_0x484b8a=_0x1c58ea(0xac)+_0x1b1dff[_0x1c58ea(0xc4)][_0x1c58ea(0x10f)]+_0x1c58ea(0xa8),_0x50915e['push'](_0x484b8a),_0x1b1dff[_0x1c58ea(0xc4)][_0x1c58ea(0xaa)](_0x21dbba=>{const _0x362b63=_0x1c58ea;_0x1ac9fb[_0x362b63(0xe3)](_0x362b63(0x110)+Renderer[_0x362b63(0xfc)]()[_0x362b63(0xe6)](_0x21dbba)+_0x362b63(0x134));});};_0x291356['classTableGroups']&&_0x291356[_0x36f5f3(0xa9)][_0x36f5f3(0xaa)](_0x3b8a16=>{if(isSpellsOnly)_0x3b8a16=this['_getRenderedClassTableFromDereferenced_getSpellsOnlyTableGroup'](_0x3b8a16);if(!_0x3b8a16)return;_0x556f34(_0x3b8a16);});_0x37b1e5?.[_0x36f5f3(0xe5)]&&_0x37b1e5[_0x36f5f3(0xe5)][_0x36f5f3(0xaa)](_0x453639=>{const _0x51ee96=_0x36f5f3;if(isSpellsOnly)_0x453639=this[_0x51ee96(0x131)](_0x453639);if(!_0x453639)return;_0x556f34(_0x453639);});const _0x2e5651=_0x291356[_0x36f5f3(0xc2)][_0x36f5f3(0x112)]((_0x7faf37,_0xf57472)=>{const _0x46b0a0=_0x36f5f3,_0x4e8da7=Math[_0x46b0a0(0x10e)]((_0xf57472+0x1)/0x4)+0x1,_0xefc153=_0x7faf37[_0x46b0a0(0x125)](_0x5e76e1=>_0x5e76e1[_0x46b0a0(0x12c)]&&_0x5e76e1[_0x46b0a0(0x137)]!=='inset'),_0x1efb4f=_0xefc153[_0x46b0a0(0x112)]((_0x1f1009,_0x54f85f)=>_0x46b0a0(0xa1)+_0x1f1009[_0x46b0a0(0x12c)]+(_0x54f85f===_0xefc153[_0x46b0a0(0x10f)]-0x1?'':_0x46b0a0(0xf0))+'</div>'),_0x220568=[],_0x485f31=_0x34e9b0=>{const _0x28f8bb=_0x46b0a0,_0x415275=(_0x34e9b0[_0x28f8bb(0xb4)]||_0x34e9b0[_0x28f8bb(0x122)])[_0xf57472]||[],_0x1a4092=_0x415275['map'](_0x37edf5=>'<td\x20class=\x22cls-tbl__col-generic-center\x22>'+(_0x37edf5===0x0?'—':Renderer[_0x28f8bb(0xfc)]()[_0x28f8bb(0xe6)](_0x37edf5))+'</td>');_0x220568[_0x28f8bb(0xe3)](..._0x1a4092);};return _0x291356[_0x46b0a0(0xa9)]&&_0x291356['classTableGroups'][_0x46b0a0(0xaa)](_0x51be36=>{const _0x1d4575=_0x46b0a0;if(isSpellsOnly)_0x51be36=this[_0x1d4575(0x131)](_0x51be36);if(!_0x51be36)return;_0x485f31(_0x51be36);}),_0x37b1e5?.[_0x46b0a0(0xe5)]&&_0x37b1e5[_0x46b0a0(0xe5)][_0x46b0a0(0xaa)](_0x5117ea=>{const _0x395ef3=_0x46b0a0;if(isSpellsOnly)_0x5117ea=this[_0x395ef3(0x131)](_0x5117ea);if(!_0x5117ea)return;_0x485f31(_0x5117ea);}),_0x46b0a0(0xb9)+Parser[_0x46b0a0(0xc6)](_0xf57472+0x1)+_0x46b0a0(0x117)+(isSpellsOnly?'':_0x46b0a0(0x9a)+_0x4e8da7+_0x46b0a0(0xcf))+_0x46b0a0(0x103)+(isSpellsOnly?'':_0x46b0a0(0xa2)+(_0x1efb4f[_0x46b0a0(0x8c)]('')||'—')+_0x46b0a0(0xcf))+_0x46b0a0(0x103)+_0x220568['join']('')+'\x0a\x09\x09\x09</tr>';});return _0x36f5f3(0xa7)+(isAddHeader?'<tr><th\x20class=\x22cls-tbl__disp-name\x22\x20colspan=\x2215\x22>'+_0x291356[_0x36f5f3(0x12c)]+_0x36f5f3(0xde):'')+_0x36f5f3(0x9f)+(isSpellsOnly?'1':'3')+'\x22></th>\x0a\x09\x09\x09\x09'+_0x50915e[_0x36f5f3(0x8c)]('')+_0x36f5f3(0xc1)+(isSpellsOnly?'':_0x36f5f3(0xbd))+_0x36f5f3(0x103)+(isSpellsOnly?'':'<th>Features</th>')+_0x36f5f3(0x103)+_0x1ac9fb[_0x36f5f3(0x8c)]('')+_0x36f5f3(0xed)+_0x2e5651[_0x36f5f3(0x8c)]('')+'\x0a\x09\x09\x09<tr><th\x20class=\x22border\x22\x20colspan=\x2215\x22></th></tr>\x0a\x09\x09\x09</tbody>\x0a\x09\x09</table>';}static[_0x278b9b(0x131)](_0x251c07){const _0x3f22f6=_0x278b9b;_0x251c07=MiscUtil['copy'](_0x251c07);if(/spell/i[_0x3f22f6(0xd6)](''+(_0x251c07[_0x3f22f6(0x138)]||'')))return _0x251c07;if(!_0x251c07[_0x3f22f6(0xc4)])return null;const _0x31c974=new Set(_0x251c07['colLabels'][_0x3f22f6(0x112)]((_0x278914,_0x251e5d)=>{const _0x3efc1d=_0x3f22f6,_0xb3d30d=Renderer[_0x3efc1d(0x11f)](''+(_0x278914||''));return/cantrip|spell|slot level/i[_0x3efc1d(0xd6)](_0xb3d30d)?_0x251e5d:null;})['filter'](_0x47cfcf=>_0x47cfcf!=null));if(!_0x31c974[_0x3f22f6(0xf3)])return null;_0x251c07['colLabels']=_0x251c07[_0x3f22f6(0xc4)][_0x3f22f6(0x125)]((_0x3c34b1,_0x1bc7cc)=>_0x31c974[_0x3f22f6(0x107)](_0x1bc7cc));if(_0x251c07[_0x3f22f6(0xb4)])_0x251c07[_0x3f22f6(0xb4)]=_0x251c07[_0x3f22f6(0xb4)]['map'](_0x566b2d=>_0x566b2d[_0x3f22f6(0x125)]((_0x321fae,_0x21d4f8)=>_0x31c974[_0x3f22f6(0x107)](_0x21d4f8)));if(_0x251c07[_0x3f22f6(0x122)])_0x251c07[_0x3f22f6(0x122)]=_0x251c07['rows'][_0x3f22f6(0x112)](_0x2fd7d2=>_0x2fd7d2['filter']((_0xd4dc92,_0x3e4842)=>_0x31c974[_0x3f22f6(0x107)](_0x3e4842)));return _0x251c07;}static[_0x278b9b(0x101)](_0x51ab54){const _0x4076a2=_0x278b9b;if(!_0x51ab54)return![];return _0x51ab54[_0x4076a2(0x12c)]===DataConverterClass[_0x4076a2(0x132)][_0x4076a2(0x12c)]&&_0x51ab54[_0x4076a2(0xec)]===DataConverterClass[_0x4076a2(0x132)]['source'];}static[_0x278b9b(0xdb)](_0x141908){const _0x403602=_0x278b9b;if(!_0x141908)return![];return _0x141908[_0x403602(0x12c)]===DataConverterClass['STUB_SUBCLASS'][_0x403602(0x12c)]&&_0x141908[_0x403602(0xec)]===DataConverterClass[_0x403602(0xd5)]['source'];}static[_0x278b9b(0x8d)](){const _0x492469=_0x278b9b,_0x58c8a5=MiscUtil[_0x492469(0x106)](DataConverterClass['STUB_CLASS']);return _0x58c8a5[_0x492469(0xcd)]=[{...MiscUtil['copy'](DataConverterClass['STUB_SUBCLASS']),'className':_0x58c8a5[_0x492469(0x12c)],'classSource':_0x58c8a5['source']}],_0x58c8a5;}static[_0x278b9b(0x12e)]({cls:_0x5a5834}){const _0x882fdb=_0x278b9b,_0x3e5924=MiscUtil[_0x882fdb(0x106)](DataConverterClass[_0x882fdb(0xd5)]);return _0x3e5924[_0x882fdb(0x114)]=_0x5a5834['name'],_0x3e5924[_0x882fdb(0xcb)]=_0x5a5834['source'],_0x3e5924;}}DataConverterClass[_0x278b9b(0x12f)]=null,DataConverterClass[_0x278b9b(0x132)]={'name':_0x278b9b(0xf1),'source':SRC_PHB,'classFeatures':[...new Array(Consts[_0x278b9b(0xb0)])][_0x278b9b(0x112)](()=>[]),'_isStub':!![]},DataConverterClass[_0x278b9b(0xd5)]={'name':_0x278b9b(0xa3),'source':SRC_PHB,'subclassFeatures':[],'_isStub':!![]};export{DataConverterClass};