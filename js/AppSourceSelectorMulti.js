const _0x6d004e=_0x26ea;function _0x2373(){const _0x434d6e=['Failed\x20to\x20load\x20sources!\x20','No\x20sources\x20to\x20be\x20loaded!\x20Please\x20finish\x20entering\x20source\x20details\x20first.','<button\x20class=\x22btn-5et\x20veapp__btn-filter\x22>Filter</button>','identifier','222828uKGhzK','disabled','fnGetDedupedData','_getRenderedCollection','MODULE_LOCATION','handleSelectClick','<i\x20class=\x22fas\x20fa-fw\x20fa-beer\x20mr-1\x20sourceHomebrew\x20sourceHomebrew--local\x22\x20title=\x22','<input\x20type=\x22checkbox\x22\x20class=\x22no-events\x22>','_resolve','<div\x20class=\x22veapp-loading__wrp-outer\x22><i>Loading...</i></div>','row\x20imp-wiz__row\x20veapp__list-row-hoverable\x20ve-flex-v-center\x20','uploadedFileMetas','displayName','_handleFilterChange','SOURCE_TYP_BREW','_pAcceptAndResolveSelection','Enter','<input\x20type=\x22radio\x22\x20name=\x22radio\x22\x20class=\x22no-events\x20mx-1\x22>','label','uploadedFiles','<div\x20class=\x22veapp__list\x20mb-1\x20h-100\x20min-h-0\x22></div>','col-0-5\x20ve-flex-vh-center','span','warn','\x22></i>','pSet','_filterNamespace','_pGetOutputEntities','toDisplay','uid','Failed\x20to\x20read\x20file!\x20','Continue\x20and\x20Remember','_pPopulateBoxOptions','filter','pageFilter','1072612RiXULB','setAttribute','comp','urlMetas','placeholder','_getFilterTypesIcon','_isRadio','_props','props','No\x20sources\x20selected!','$btnUpload','click','isCustom','_proxyAssignSimple','ascSort','_$stgUrl','render','items','isRadio','handlePostClose','pGetSelectedSources','error','val','SOURCE_TYPE_ORDER__FILTER','some','toggleVe','SOURCE_TYP_ARCANA','_comp','isFile','savedSelectionKey','_addHookBase','col-11-5','SOURCE_TYP_CUSTOM','JSON\x20URL','_addHookAll','parse','SOURCE_TYP_BREW_LOCAL','sourcesToDisplay','<button\x20class=\x22btn\x20btn-5et\x20btn-default\x20btn-xs\x22>Add\x20Custom</button>','_$stgNone','abbreviations','151991iwtcvW','notifications','27eSGxsk','change','isForceSelectAllSources','_pageFilter','pInitFilterBox','$getIptStr','trim','_renderCollection','24nwpKFQ','_$getStageUpload','272532ImbZmD','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20btn-danger\x22\x20title=\x22Delete\x22><span\x20class=\x22glyphicon\x20glyphicon-trash\x22></span></button>','fromObject','filterNamespace','url','_$stgUpload','_triggerCollectionUpdate','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-1\x22>Upload\x20File</button>','_sourcesToDisplay','has','result','746660ENKVOQ','Type','_page','forEach','_$stgSpecial','_pGetInitialSources','1092304dMhUgu','addClass','pAddToHomebrew','Select\x20Sources','<button\x20class=\x22mt-auto\x20btn\x20btn-5et\x22>Confirm</button>','_pUserInput','map','AppSourceSelectorAppFilter','getListItem','pDoMetaMerge','getValues','SOURCE_TYP_UNKNOWN','<button\x20class=\x22btn\x20btn-5et\x20btn-default\x20btn-xs\x22>Add\x20File</button>','addEventListener','_fnGetBlacklistFilteredData','isDefault','disable','includes','dataSources','<i\x20class=\x22fas\x20fa-fw\x20fa-vial\x20mr-1\x20sourceSpicy\x22\x20title=\x22','STR_SEE_CONSOLE','addItem','_sortTypeFilterItems','toObject','close','activateListeners','handleSelectClickRadio','push','bind','teardown','filterBox','user','<i\x20class=\x22fas\x20fa-fw\x20fa-beer\x20mr-1\x20sourceHomebrew\x22\x20title=\x22','length','_fnGetDedupedData','showVe','specialMetas','_$getStageSpecial','pGetAllContent','Custom\x20Url','AppSourceSelectorMulti__massSelectionWarning','contents','files','addToFilters','checked','item','$wrpRow','<div\x20class=\x22w-100\x20italic\x20','init','Cancel','_$getStageNone','_pGetElements_pGetListElements','text','pGetElements','data','<div\x20class=\x22ve-flex-col\x20w-100\x22></div>','indexOf','appendTo','mutateForFilters','<input\x20type=\x22search\x22\x20class=\x22search\x20w-100\x20form-control\x22\x20placeholder=\x22Find\x20source...\x22>','_detachCollection','_list','state','filterTypes','title','isGmForceSelectAllowedSources','target','pWaitForUserInput','empty','5FiqcZu','Enter\x20JSON\x20URL','_state','readAsText','isShowCustomUrlForm','parent','SOURCE_TYP_OFFICIAL_SINGLE','_typeFilter','<div\x20class=\x22fltr__mini-view\x20btn-group\x22></div>','_reject','isStreamerMode','get','isGM','68XmNKzN','_savedSelectionKey','<div\x20class=\x22imp__disp-filename\x20mr-1\x20ve-muted\x20w-100\x22></div>','name','text-sneaky','19431pFnsud','cacheKey','407qgLhav','filters','getMaxWindowHeight','_pGetInitialSourceIds','hideVe','<i\x20class=\x22fab\x20fa-d-and-d\x20mr-1\x20sourceAL\x22\x20title=\x22','keydown','_$getStageUrl','pLoadInitialSelection','sortListItems'];_0x2373=function(){return _0x434d6e;};return _0x2373();}(function(_0x201635,_0x2b2f6a){const _0x5c6b78=_0x26ea,_0xc181c4=_0x201635();while(!![]){try{const _0x5234bb=parseInt(_0x5c6b78(0x239))/0x1+parseInt(_0x5c6b78(0x1cc))/0x2*(-parseInt(_0x5c6b78(0x1d1))/0x3)+-parseInt(_0x5c6b78(0x204))/0x4*(parseInt(_0x5c6b78(0x1bf))/0x5)+parseInt(_0x5c6b78(0x237))/0x6*(parseInt(_0x5c6b78(0x22d))/0x7)+-parseInt(_0x5c6b78(0x17a))/0x8+-parseInt(_0x5c6b78(0x22f))/0x9*(parseInt(_0x5c6b78(0x174))/0xa)+parseInt(_0x5c6b78(0x1d3))/0xb*(parseInt(_0x5c6b78(0x1e1))/0xc);if(_0x5234bb===_0x2b2f6a)break;else _0xc181c4['push'](_0xc181c4['shift']());}catch(_0x5dcce9){_0xc181c4['push'](_0xc181c4['shift']());}}}(_0x2373,0x3039a));import{SharedConsts}from'../shared/SharedConsts.js';import{Util}from'./Util.js';function _0x26ea(_0x18601e,_0x294de0){const _0x237303=_0x2373();return _0x26ea=function(_0x26eaa1,_0x1c3489){_0x26eaa1=_0x26eaa1-0x172;let _0x1d12a7=_0x237303[_0x26eaa1];return _0x1d12a7;},_0x26ea(_0x18601e,_0x294de0);}import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{AppFilter}from'./FilterApplications.js';import{UtilDataSource}from'./UtilDataSource.js';class AppSourceSelectorMulti extends Application{constructor(_0x5605e7){const _0x51f9fb=_0x26ea;super({'title':_0x5605e7['title']||_0x51f9fb(0x17d),'width':0x320,'template':SharedConsts[_0x51f9fb(0x1e5)]+'/template/AppSourceSelectorMulti.hbs','height':Util[_0x51f9fb(0x1d5)](),'resizable':!![]}),this[_0x51f9fb(0x241)]=_0x5605e7[_0x51f9fb(0x229)],this['_savedSelectionKey']=_0x5605e7[_0x51f9fb(0x221)],this[_0x51f9fb(0x1fb)]=_0x5605e7[_0x51f9fb(0x23c)],this[_0x51f9fb(0x20b)]=_0x5605e7[_0x51f9fb(0x20c)],this[_0x51f9fb(0x20a)]=!!_0x5605e7[_0x51f9fb(0x216)],this[_0x51f9fb(0x1b7)]=null,this['_pageFilter']=null,this['_$stgNone']=null,this[_0x51f9fb(0x23e)]=null,this[_0x51f9fb(0x213)]=null,this['_$stgSpecial']=null,this[_0x51f9fb(0x21f)]=BaseComponent['fromObject']({'uploadedFileMetas':[],'isShowCustomUrlForm':![],'urlMetas':[],'specialMetas':[]}),this['_isDedupable']=!!_0x5605e7['isDedupable'],this[_0x51f9fb(0x176)]=_0x5605e7['page'],this['_fnGetDedupedData']=_0x5605e7[_0x51f9fb(0x1e3)],this['_fnGetBlacklistFilteredData']=_0x5605e7['fnGetBlacklistFilteredData'],this[_0x51f9fb(0x1e9)]=null,this['_reject']=null,this[_0x51f9fb(0x17f)]=null;}get[_0x6d004e(0x203)](){const _0x24f6be=_0x6d004e;return this[_0x24f6be(0x232)];}get[_0x6d004e(0x1f4)](){const _0x4c8be2=_0x6d004e;return this[_0x4c8be2(0x21f)]['_state'][_0x4c8be2(0x1ec)][_0x4c8be2(0x180)](_0x427687=>_0x427687[_0x4c8be2(0x1b0)][_0x4c8be2(0x1a3)]);}['pGetSelectedSources'](){const _0xa8fe74=_0x6d004e;if(!this['_list'])return this[_0xa8fe74(0x179)]();return this[_0xa8fe74(0x1b7)]['items'][_0xa8fe74(0x202)](_0x288319=>_0x288319['data']['cbSel'][_0xa8fe74(0x1a6)])[_0xa8fe74(0x180)](_0x4aaa69=>this['_sourcesToDisplay'][_0x4aaa69['ix']]);}async['pGetElements'](_0x573ceb,_0x51f332){const _0x3e27cc=_0x6d004e;return this[_0x3e27cc(0x1ad)](_0x573ceb,_0x51f332);}[_0x6d004e(0x1ac)](){return $('<div\x20class=\x22ve-flex-col\x20mb-1\x20w-100\x22>\x0a\x09\x09\x09<div\x20class=\x22ve-flex-v-center\x22><i>Select\x20a\x20source\x20to\x20view\x20import\x20options</i></div>\x0a\x09\x09\x09<hr\x20class=\x22hr-1\x22>\x0a\x09\x09</div>');}['_$getStageUpload'](){const _0x548ca5=_0x6d004e,_0x2235a2=$(_0x548ca5(0x186))[_0x548ca5(0x20f)](()=>{const _0x1a12a4=_0x548ca5,_0x10d8c3={'id':CryptUtil[_0x1a12a4(0x1fe)](),'data':{'name':null,'contents':null}};this['_comp'][_0x1a12a4(0x1c1)][_0x1a12a4(0x1ec)]=[...this[_0x1a12a4(0x21f)][_0x1a12a4(0x1c1)][_0x1a12a4(0x1ec)],_0x10d8c3];const _0x5a4ae3=this[_0x1a12a4(0x21f)][_0x1a12a4(0x1e4)]({'prop':_0x1a12a4(0x1ec)}),_0xd7428a=_0x5a4ae3[_0x10d8c3['id']];_0xd7428a[_0x1a12a4(0x20e)][_0x1a12a4(0x20f)]();}),_0x4b2a8c=$(_0x548ca5(0x1b1)),_0xfc2c6a=$$`<div class="ve-flex-col w-100 py-1">
			<div class="mb-1 split-v-center">
				<div>File Sources:</div>
				${_0x2235a2}
			</div>
			${_0x4b2a8c}
			<hr class="hr-1">
		</div>`,_0x438a2e=()=>{const _0x56f5eb=_0x548ca5;this['_comp'][_0x56f5eb(0x236)]({'prop':_0x56f5eb(0x1ec),'fnUpdateExisting':(_0xaa5549,_0x3f074d)=>{const _0x5027a1=_0x56f5eb;_0xaa5549[_0x5027a1(0x206)][_0x5027a1(0x211)](_0x5027a1(0x1b8),_0x3f074d[_0x5027a1(0x1b0)],!![]);if(!_0xaa5549[_0x5027a1(0x1a8)][_0x5027a1(0x1c4)]()['is'](_0x4b2a8c))_0xaa5549['$wrpRow']['appendTo'](_0x4b2a8c);},'fnGetNew':_0x15dc3a=>{const _0x129542=_0x56f5eb,_0xc9742=BaseComponent[_0x129542(0x23b)](_0x15dc3a[_0x129542(0x1b0)],'*');_0xc9742[_0x129542(0x226)](_0x129542(0x1b8),()=>{const _0x4665e7=_0x129542;_0x15dc3a[_0x4665e7(0x1b0)]=_0xc9742[_0x4665e7(0x191)]('*'),this[_0x4665e7(0x21f)][_0x4665e7(0x23f)](_0x4665e7(0x1ec));});const _0x453a83=$(_0x129542(0x1ce))['click'](()=>_0x30237a[_0x129542(0x20f)]()),_0x193830=()=>_0x453a83[_0x129542(0x1ae)](_0xc9742[_0x129542(0x1c1)][_0x129542(0x1cf)]||'Select\x20file...')[_0x129542(0x1ba)](_0xc9742[_0x129542(0x1c1)]['name']||'');_0xc9742[_0x129542(0x222)](_0x129542(0x1cf),_0x193830),_0x193830();const _0x30237a=$(_0x129542(0x240))[_0x129542(0x20f)](()=>{const _0x1cdbeb=_0x129542,_0x5ae9f9=$('<input\x20type=\x22file\x22\x20accept=\x22.json\x22\x20class=\x22ve-hidden\x22>')[_0x1cdbeb(0x230)](_0x542ca9=>{const _0x4f27a7=_0x1cdbeb,_0x574646=_0x542ca9[_0x4f27a7(0x1bc)],_0x564c6c=_0x5ae9f9[0x0][_0x4f27a7(0x1a4)],_0xb5c4b6=new FileReader();_0xb5c4b6['onload']=async()=>{const _0x552136=_0x4f27a7,_0x1425a8=_0x564c6c[0x0]||{};try{const _0x4523d=JSON[_0x552136(0x227)](_0xb5c4b6[_0x552136(0x173)]);await Vetools[_0x552136(0x17c)](_0x4523d);const _0x314160=await DataUtil[_0x552136(0x183)](CryptUtil[_0x552136(0x1fe)](),_0x4523d);_0xc9742[_0x552136(0x211)](_0x552136(0x1b8),{'name':_0x1425a8[_0x552136(0x1cf)],'contents':_0x314160});}catch(_0xe1715f){ui[_0x552136(0x22e)][_0x552136(0x219)](_0x552136(0x1ff)+VeCt[_0x552136(0x18e)]);throw _0xe1715f;}},_0xb5c4b6[_0x4f27a7(0x1c2)](_0x574646['files'][0x0]);})[_0x1cdbeb(0x20f)]();}),_0x18dc37=$(_0x129542(0x23a))['click'](()=>this[_0x129542(0x21f)][_0x129542(0x1c1)]['uploadedFileMetas']=this['_comp']['_state'][_0x129542(0x1ec)][_0x129542(0x202)](_0x98b40e=>_0x98b40e!==_0x15dc3a)),_0x5d2473=$$`<div class="ve-flex-v-center my-1 w-100">
						${_0x30237a}${_0x453a83}${_0x18dc37}
					</div>`['appendTo'](_0x4b2a8c);return{'comp':_0xc9742,'$wrpRow':_0x5d2473,'$btnUpload':_0x30237a};}});};return _0x438a2e(),this[_0x548ca5(0x21f)][_0x548ca5(0x222)]('uploadedFileMetas',_0x438a2e),_0xfc2c6a;}[_0x6d004e(0x1da)](){const _0x48d59f=_0x6d004e,_0x3f8538=$(_0x48d59f(0x22a))['click'](()=>{const _0x2e51cf=_0x48d59f,_0x1f95d0={'id':CryptUtil[_0x2e51cf(0x1fe)](),'data':{'displayName':_0x2e51cf(0x1a1),'isCustom':!![],'url':null}};this[_0x2e51cf(0x21f)][_0x2e51cf(0x1c1)][_0x2e51cf(0x207)]=[...this[_0x2e51cf(0x21f)]['_state'][_0x2e51cf(0x207)],_0x1f95d0];const _0x2bad01=this['_comp'][_0x2e51cf(0x1e4)]({'prop':_0x2e51cf(0x207)}),_0x316f8d=_0x2bad01[_0x1f95d0['id']];_0x316f8d['$iptUrl']['focus']();}),_0x2338b5=()=>_0x3f8538['toggleVe'](this[_0x48d59f(0x21f)][_0x48d59f(0x1c1)][_0x48d59f(0x1c3)]);this[_0x48d59f(0x21f)][_0x48d59f(0x222)]('isShowCustomUrlForm',_0x2338b5),_0x2338b5();const _0x14e4ef=$('<div\x20class=\x22ve-flex-col\x20w-100\x22></div>'),_0x7a2839=$$`<div class="ve-flex-col w-100 py-1">
			<div class="mb-1 split-v-center">
				<div>URL Sources:</div>
				${_0x3f8538}
			</div>
			${_0x14e4ef}
			<hr class="hr-1">
		</div>`,_0x40f90d=()=>{const _0x1661f5=_0x48d59f;this[_0x1661f5(0x21f)][_0x1661f5(0x236)]({'prop':'urlMetas','fnUpdateExisting':(_0x2cba91,_0x4e8d89)=>{const _0x3a7d03=_0x1661f5;_0x2cba91[_0x3a7d03(0x206)][_0x3a7d03(0x211)](_0x3a7d03(0x1b8),_0x4e8d89[_0x3a7d03(0x1b0)],!![]);if(!_0x2cba91[_0x3a7d03(0x1a8)][_0x3a7d03(0x1c4)]()['is'](_0x14e4ef))_0x2cba91[_0x3a7d03(0x1a8)][_0x3a7d03(0x1b3)](_0x14e4ef);},'fnGetNew':_0x3de543=>{const _0x1a82a0=_0x1661f5,_0x4a55f7=BaseComponent[_0x1a82a0(0x23b)](_0x3de543[_0x1a82a0(0x1b0)],'*');_0x4a55f7[_0x1a82a0(0x226)]('state',()=>{const _0x5442bd=_0x1a82a0;_0x3de543[_0x5442bd(0x1b0)]=_0x4a55f7['toObject']('*'),this[_0x5442bd(0x21f)][_0x5442bd(0x23f)](_0x5442bd(0x207));});const _0x2698df=ComponentUiUtil[_0x1a82a0(0x234)](_0x4a55f7,_0x1a82a0(0x23d));if(Config[_0x1a82a0(0x1ca)]('ui',_0x1a82a0(0x1c9)))_0x2698df[_0x1a82a0(0x17b)](_0x1a82a0(0x1d0));const _0x33dce2=()=>{const _0x30fa95=_0x1a82a0;_0x4a55f7['_state'][_0x30fa95(0x210)]?_0x2698df['title']('Enter\x20JSON\x20URL')[_0x30fa95(0x208)](_0x30fa95(0x1c0))[_0x30fa95(0x21a)](_0x4a55f7[_0x30fa95(0x1c1)][_0x30fa95(0x23d)]):_0x2698df[_0x30fa95(0x1ba)](_0x30fa95(0x225))[_0x30fa95(0x21a)](_0x4a55f7[_0x30fa95(0x1c1)][_0x30fa95(0x1ed)])[_0x30fa95(0x18a)]();};this[_0x1a82a0(0x21f)][_0x1a82a0(0x222)](_0x1a82a0(0x23d),_0x33dce2),this[_0x1a82a0(0x21f)][_0x1a82a0(0x222)](_0x1a82a0(0x1ed),_0x33dce2),_0x33dce2();const _0x5512e9=!_0x4a55f7[_0x1a82a0(0x1c1)][_0x1a82a0(0x210)]?null:$('<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20btn-danger\x20ml-2\x22\x20title=\x22Delete\x22><span\x20class=\x22glyphicon\x20glyphicon-trash\x22></span></button>')[_0x1a82a0(0x20f)](()=>this[_0x1a82a0(0x21f)]['_state'][_0x1a82a0(0x207)]=this[_0x1a82a0(0x21f)]['_state'][_0x1a82a0(0x207)][_0x1a82a0(0x202)](_0x37e911=>_0x37e911!==_0x3de543)),_0x1257e6=$$`<div class="ve-flex-v-center my-1 w-100">
						${_0x2698df}${_0x5512e9}
					</div>`[_0x1a82a0(0x1b3)](_0x14e4ef);return{'comp':_0x4a55f7,'$wrpRow':_0x1257e6,'$iptUrl':_0x2698df};}});};return _0x40f90d(),this['_comp'][_0x48d59f(0x222)](_0x48d59f(0x207),_0x40f90d),_0x7a2839;}[_0x6d004e(0x19f)](){const _0x147c3d=_0x6d004e,_0xa5ef45=$(_0x147c3d(0x1b1)),_0x2c2324=$$`<div class="ve-flex-col w-100 py-1">
			<div class="mb-1 ve-flex-v-center">
				<div>Pre-Compiled Sources:</div>
			</div>
			${_0xa5ef45}
			<hr class="hr-1">
		</div>`,_0x22b976=()=>{const _0x576ebc=_0x147c3d;this['_comp']['_renderCollection']({'prop':_0x576ebc(0x19e),'fnUpdateExisting':(_0x45a2d3,_0x172fa7)=>{const _0x1bc224=_0x576ebc;_0x45a2d3[_0x1bc224(0x206)][_0x1bc224(0x211)](_0x1bc224(0x1b8),_0x172fa7[_0x1bc224(0x1b0)],!![]);if(!_0x45a2d3[_0x1bc224(0x1a8)][_0x1bc224(0x1c4)]()['is'](_0xa5ef45))_0x45a2d3[_0x1bc224(0x1a8)][_0x1bc224(0x1b3)](_0xa5ef45);},'fnGetNew':_0x55d5f7=>{const _0x1fa220=_0x576ebc,_0x3002b0=BaseComponent[_0x1fa220(0x23b)](_0x55d5f7[_0x1fa220(0x1b0)],'*');_0x3002b0[_0x1fa220(0x226)](_0x1fa220(0x1b8),()=>{const _0x27fcf6=_0x1fa220;_0x55d5f7[_0x27fcf6(0x1b0)]=_0x3002b0[_0x27fcf6(0x191)]('*'),this[_0x27fcf6(0x21f)]['_triggerCollectionUpdate'](_0x27fcf6(0x207));});const _0x2589c1=$(_0x1fa220(0x1a9)+(Config[_0x1fa220(0x1ca)]('ui',_0x1fa220(0x1c9))?_0x1fa220(0x1d0):'')+'\x22></div>'),_0x272d64=()=>_0x2589c1['text'](_0x3002b0[_0x1fa220(0x1c1)]['displayName']);this[_0x1fa220(0x21f)][_0x1fa220(0x222)](_0x1fa220(0x1ed),_0x272d64),_0x272d64();const _0x49c6c7=$$`<div class="ve-flex-v-center my-1 w-100">${_0x2589c1}</div>`[_0x1fa220(0x1b3)](_0xa5ef45);return{'comp':_0x3002b0,'$wrpRow':_0x49c6c7};}});};return _0x22b976(),this[_0x147c3d(0x21f)][_0x147c3d(0x222)](_0x147c3d(0x19e),_0x22b976),_0x2c2324;}async[_0x6d004e(0x179)](){const _0x4facaf=_0x6d004e,_0x231553=await this[_0x4facaf(0x1d6)](),_0x3c13af=this[_0x4facaf(0x241)][_0x4facaf(0x202)](_0x12b1b9=>_0x231553[_0x4facaf(0x172)](_0x12b1b9['identifier']));if(!_0x3c13af[_0x4facaf(0x19b)])_0x3c13af[_0x4facaf(0x195)](...this[_0x4facaf(0x241)][_0x4facaf(0x202)](_0x538b29=>_0x538b29[_0x4facaf(0x189)]));return _0x3c13af;}async['_pGetInitialSourceIds'](){const _0x5786d3=_0x6d004e;if(this[_0x5786d3(0x231)]())return new Set(this[_0x5786d3(0x241)][_0x5786d3(0x180)](_0x14c3ad=>_0x14c3ad[_0x5786d3(0x1e0)]));return new Set(await StorageUtil['pGet'](this[_0x5786d3(0x1cd)])||[]);}[_0x6d004e(0x231)](){const _0x5988dc=_0x6d004e;if(this[_0x5988dc(0x20a)])return![];if(game[_0x5988dc(0x199)][_0x5988dc(0x1cb)])return Config[_0x5988dc(0x1ca)](_0x5988dc(0x18c),_0x5988dc(0x1bb));return Config[_0x5988dc(0x1ca)](_0x5988dc(0x18c),'isPlayerForceSelectAllowedSources');}static['$getFilterListElements']({isRadio:isRadio=![],isForceSelectAll:isForceSelectAll=![]}={}){const _0x368b58=_0x6d004e,_0x2ddb73=$(_0x368b58(0x1df)),_0x27b077=$('<button\x20class=\x22btn\x20btn-5et\x22\x20title=\x22Toggle\x20Filter\x20Summary\x20Display\x22><span\x20class=\x22glyphicon\x20glyphicon-resize-small\x22></span></button>'),_0x5966d5=$(_0x368b58(0x1b5)),_0x3a2f1d=$('<button\x20class=\x22btn-5et\x20veapp__btn-list-reset\x22>Reset</button>')[_0x368b58(0x20f)](()=>_0x5966d5[_0x368b58(0x21a)]('')),_0x4dec49=$(_0x368b58(0x1c7)),_0x1e8539=isRadio||isForceSelectAll,_0x33cf11=_0x1e8539?null:$(_0x368b58(0x1e8)),_0x432851=$$`<label class="btn btn-5et btn-xs col-0-5 ve-flex-vh-center" ${_0x1e8539?_0x368b58(0x1e2):''}>${_0x33cf11}</label>`,_0xd5773a=$$`<div class="ve-flex-v-stretch input-group input-group--bottom mb-1 no-shrink">
			${_0x432851}
			<button class="btn-5et btn-xs col-11-5 sort" data-sort="name">Name</button>
		</div>`,_0x546555=$(_0x368b58(0x1f5)),_0xeb2f93=$$`<div class="ve-flex-v-stretch input-group input-group--top no-shrink">
			${_0x2ddb73}
			${_0x27b077}
			${_0x5966d5}
			${_0x3a2f1d}
		</div>`;return{'$cbAll':_0x33cf11,'$wrpFilterControls':_0xeb2f93,'$wrpMiniPills':_0x4dec49,'$wrpBtnsSort':_0xd5773a,'$list':_0x546555,'$btnOpenFilter':_0x2ddb73,'$iptSearch':_0x5966d5,'$btnReset':_0x3a2f1d,'$btnToggleSummaryHidden':_0x27b077};}static[_0x6d004e(0x182)]({pageFilter:_0x1c18e0,isRadio:_0x383797,list:_0x1e0d5c,src:_0x4b751f,srcI:_0x3cc77a,fnOnClick:_0x1eb647,initialSources:_0x58c335,isSelected:_0x244560,isForceSelectAll:_0x9c260a}){const _0x1a35fe=_0x6d004e;_0x244560=_0x244560===undefined&&_0x58c335?_0x58c335[_0x1a35fe(0x18b)](_0x4b751f):!!_0x244560,_0x1c18e0['mutateAndAddToFilters'](_0x4b751f);const _0x508ab9=e_({'outer':_0x383797?_0x1a35fe(0x1f2):'<input\x20type=\x22checkbox\x22\x20class=\x22no-events\x20mx-1\x22>'});if(_0x244560)_0x508ab9[_0x1a35fe(0x1a6)]=!![];if(_0x9c260a)_0x508ab9[_0x1a35fe(0x205)](_0x1a35fe(0x1e2),!![]);const _0x3a1132=e_({'tag':_0x1a35fe(0x1f7),'clazz':_0x1a35fe(0x1f6),'children':[_0x508ab9]}),_0x590eaf=e_({'tag':_0x1a35fe(0x1f3),'clazz':_0x1a35fe(0x1eb)+(_0x244560?'list-multi-selected':''),'children':[_0x3a1132,e_({'tag':_0x1a35fe(0x1f7),'clazz':_0x1a35fe(0x223),'html':''+this[_0x1a35fe(0x209)](_0x4b751f[_0x1a35fe(0x1b9)])+_0x4b751f[_0x1a35fe(0x1cf)]})]}),_0x2beb02=new ListItem(_0x3cc77a,_0x590eaf,_0x4b751f[_0x1a35fe(0x1cf)],{'filterTypes':_0x4b751f['filterTypes'],'abbreviations':_0x4b751f[_0x1a35fe(0x22c)]||[]},{'cbSel':_0x508ab9});return!_0x9c260a&&_0x590eaf[_0x1a35fe(0x187)](_0x1a35fe(0x20f),_0x22facd=>{const _0x20508b=_0x1a35fe;if(_0x383797)ListUiUtil[_0x20508b(0x194)](_0x1e0d5c,_0x2beb02,_0x22facd);else ListUiUtil[_0x20508b(0x1e6)](_0x1e0d5c,_0x2beb02,_0x22facd);if(_0x1eb647)_0x1eb647({'list':_0x1e0d5c,'listItem':_0x2beb02});}),_0x2beb02;}async[_0x6d004e(0x1ad)](_0x30bac5,_0x4a2c6a=null){const _0x40ff77=_0x6d004e;this[_0x40ff77(0x22b)]=this[_0x40ff77(0x1ac)](),this[_0x40ff77(0x23e)]=this[_0x40ff77(0x238)](),this['_$stgUrl']=this['_$getStageUrl'](),this[_0x40ff77(0x178)]=this[_0x40ff77(0x19f)]();const _0x67392a=await this['_pGetInitialSources'](),_0x4823e5=({isSkipSave:_0x311bed}={})=>{const _0x26e836=_0x40ff77,_0x3cdeca=this['_list'][_0x26e836(0x215)][_0x26e836(0x202)](_0x591d27=>_0x591d27['data']['cbSel'][_0x26e836(0x1a6)])['map'](_0x12ccc3=>this['_sourcesToDisplay'][_0x12ccc3['ix']]),_0x57d886=_0x3cdeca[_0x26e836(0x180)](_0x1b159e=>_0x1b159e[_0x26e836(0x1e0)]);if(!_0x311bed)StorageUtil[_0x26e836(0x1fa)](this['_savedSelectionKey'],_0x57d886);const _0x44dff6=_0x3cdeca[_0x26e836(0x21c)](_0x440fac=>_0x440fac[_0x26e836(0x220)]),_0x4df61f=_0x3cdeca[_0x26e836(0x21c)](_0xf4e549=>_0xf4e549['url']!=null),_0x59b557=_0x3cdeca['some'](_0x296b7b=>_0x296b7b['url']==null&&!_0x296b7b[_0x26e836(0x220)]);this[_0x26e836(0x22b)][_0x26e836(0x21d)](!_0x44dff6&&!_0x4df61f&&!_0x59b557),this[_0x26e836(0x23e)][_0x26e836(0x21d)](_0x44dff6),this[_0x26e836(0x213)][_0x26e836(0x21d)](_0x4df61f),this['_$stgSpecial'][_0x26e836(0x21d)](_0x59b557);if(_0x4df61f){this[_0x26e836(0x21f)][_0x26e836(0x1c1)][_0x26e836(0x1c3)]=_0x3cdeca[_0x26e836(0x21c)](_0x4a75f=>_0x4a75f['url']==='');const _0x49569e=this[_0x26e836(0x21f)][_0x26e836(0x1c1)]['isShowCustomUrlForm']?this['_comp'][_0x26e836(0x1c1)][_0x26e836(0x207)][_0x26e836(0x202)](_0x5d50d5=>_0x5d50d5['data'][_0x26e836(0x210)]):[];this[_0x26e836(0x21f)][_0x26e836(0x1c1)]['urlMetas']=[..._0x3cdeca['filter'](_0x4287d1=>_0x4287d1[_0x26e836(0x23d)])[_0x26e836(0x180)](_0x48eda7=>({'id':_0x48eda7['url'],'data':{'isCustom':![],'displayName':_0x48eda7[_0x26e836(0x23d)]}})),..._0x49569e];}else this[_0x26e836(0x21f)]['_state'][_0x26e836(0x207)]=[];_0x59b557?this[_0x26e836(0x21f)][_0x26e836(0x1c1)][_0x26e836(0x19e)]=[..._0x3cdeca['filter'](_0x132985=>_0x132985['url']==null&&!_0x132985[_0x26e836(0x220)])['map'](_0x2bc94a=>({'id':_0x2bc94a[_0x26e836(0x1d2)],'data':{'displayName':_0x2bc94a[_0x26e836(0x1cf)]}}))]:this[_0x26e836(0x21f)][_0x26e836(0x1c1)]['specialMetas']=[];if(_0x4a2c6a)_0x4a2c6a(_0x3cdeca);};if(this[_0x40ff77(0x232)])this[_0x40ff77(0x232)][_0x40ff77(0x197)]();this['_pageFilter']=new AppSourceSelectorMulti[(_0x40ff77(0x181))]();const _0x148421=this[_0x40ff77(0x231)](),{$cbAll:_0x522315,$wrpFilterControls:_0x1fa59a,$wrpMiniPills:_0x568778,$wrpBtnsSort:_0xa1e837,$list:_0x50a63,$btnOpenFilter:_0xd353d5,$iptSearch:_0x5d08ab,$btnReset:_0x458249,$btnToggleSummaryHidden:_0x121c08}=this['constructor']['$getFilterListElements']({'isRadio':this[_0x40ff77(0x20a)],'isForceSelectAll':_0x148421});return $$(_0x30bac5)`
			${_0x1fa59a}
			${_0x568778}
			${_0xa1e837}
			${_0x50a63}
		`,this[_0x40ff77(0x1b7)]=new List({'$iptSearch':_0x5d08ab,'$wrpList':_0x50a63,'fnSort':UtilDataSource[_0x40ff77(0x1dc)][_0x40ff77(0x196)](UtilDataSource)}),SortUtil['initBtnSortHandlers'](_0xa1e837,this[_0x40ff77(0x1b7)]),_0x522315&&(ListUiUtil['bindSelectAllCheckbox'](_0x522315,this[_0x40ff77(0x1b7)]),_0x522315['change'](()=>_0x4823e5())),await this[_0x40ff77(0x232)][_0x40ff77(0x233)]({'$iptSearch':_0x5d08ab,'$btnReset':_0x458249,'$btnOpen':_0xd353d5,'$btnToggleSummaryHidden':_0x121c08,'$wrpMiniPills':_0x568778,'namespace':this[_0x40ff77(0x1fb)]}),this[_0x40ff77(0x241)][_0x40ff77(0x177)]((_0x36c7ff,_0x41d84f)=>{const _0x1a4138=_0x40ff77,_0xca9443=this['constructor'][_0x1a4138(0x182)]({'pageFilter':this[_0x1a4138(0x232)],'list':this['_list'],'isRadio':this['_isRadio'],'src':_0x36c7ff,'srcI':_0x41d84f,'fnOnClick':_0x4823e5,'initialSources':_0x67392a,'isForceSelectAll':_0x148421});this[_0x1a4138(0x1b7)][_0x1a4138(0x18f)](_0xca9443);}),_0x4823e5({'isSkipSave':!![]}),this[_0x40ff77(0x1b7)][_0x40ff77(0x1aa)](),this['_pageFilter']['trimState'](),this[_0x40ff77(0x232)][_0x40ff77(0x198)][_0x40ff77(0x214)](),this[_0x40ff77(0x232)][_0x40ff77(0x198)]['on'](FilterBox['EVNT_VALCHANGE'],this[_0x40ff77(0x1ee)][_0x40ff77(0x196)](this)),this['_handleFilterChange'](),{'$stgNone':this['_$stgNone'],'$stgUpload':this[_0x40ff77(0x23e)],'$stgUrl':this['_$stgUrl'],'$stgSpecial':this[_0x40ff77(0x178)],'$iptSearch':_0x5d08ab};}['_handleFilterChange'](){const _0x4e1271=_0x6d004e,_0xb5e4a9=this[_0x4e1271(0x232)]['filterBox'][_0x4e1271(0x184)]();this[_0x4e1271(0x1b7)][_0x4e1271(0x202)](_0x187bba=>this[_0x4e1271(0x232)]['toDisplay'](_0xb5e4a9,this['_sourcesToDisplay'][_0x187bba['ix']]));}static[_0x6d004e(0x209)](_0x5d7454){const _0x2b83a2=_0x6d004e;if(_0x5d7454[_0x2b83a2(0x18b)](UtilDataSource['SOURCE_TYP_OFFICIAL_ALL'])||_0x5d7454[_0x2b83a2(0x18b)](UtilDataSource[_0x2b83a2(0x1c5)]))return _0x2b83a2(0x1d8)+UtilDataSource['SOURCE_TYP_OFFICIAL_BASE']+'\x22></i>';if(_0x5d7454[_0x2b83a2(0x18b)](UtilDataSource['SOURCE_TYP_ARCANA']))return _0x2b83a2(0x18d)+UtilDataSource[_0x2b83a2(0x21e)]+_0x2b83a2(0x1f9);if(_0x5d7454[_0x2b83a2(0x18b)](UtilDataSource[_0x2b83a2(0x228)]))return _0x2b83a2(0x1e7)+UtilDataSource[_0x2b83a2(0x228)]+_0x2b83a2(0x1f9);if(_0x5d7454[_0x2b83a2(0x18b)](UtilDataSource[_0x2b83a2(0x1ef)]))return _0x2b83a2(0x19a)+UtilDataSource[_0x2b83a2(0x1ef)]+_0x2b83a2(0x1f9);if(_0x5d7454[_0x2b83a2(0x18b)](UtilDataSource[_0x2b83a2(0x224)]))return'<i\x20class=\x22fas\x20fa-fw\x20fa-user\x20ve-muted\x20mr-1\x22\x20title=\x22'+UtilDataSource['SOURCE_TYP_CUSTOM']+_0x2b83a2(0x1f9);if(_0x5d7454[_0x2b83a2(0x18b)](UtilDataSource[_0x2b83a2(0x185)]))return'<i\x20class=\x22fas\x20fa-fw\x20fa-question-circle\x20ve-muted\x20mr-1\x22\x20title=\x22'+UtilDataSource['SOURCE_TYP_CUSTOM']+_0x2b83a2(0x1f9);return'';}[_0x6d004e(0x193)](_0x133e74){((async()=>{const _0x49d77f=_0x26ea,_0x188c3e=$(_0x49d77f(0x1ea))[_0x49d77f(0x1b3)](_0x133e74[_0x49d77f(0x1be)]()),_0x13a074=$('<div\x20class=\x22ve-flex-col\x20w-100\x20h-100\x20min-h-0\x22></div>'),{$iptSearch:_0x4b1488}=await this[_0x49d77f(0x1af)](_0x13a074);_0x4b1488[_0x49d77f(0x1d9)](_0xf8ebab=>{const _0x543918=_0x49d77f;if(_0xf8ebab['key']===_0x543918(0x1f1))_0x141212[_0x543918(0x20f)]();});const _0x141212=$(_0x49d77f(0x17e))[_0x49d77f(0x20f)](()=>this[_0x49d77f(0x1f0)]({'$ovrLoading':_0x188c3e}));$$(_0x133e74)`
			${_0x13a074}
			<hr class="hr-1">
			<div class="ve-flex-col w-100 overflow-y-auto pr-1 max-h-40 imp__disp-import-from no-shrink">
				<h3 class="mb-1">Source</h3>
				${this[_0x49d77f(0x22b)]}
				${this[_0x49d77f(0x23e)]}
				${this[_0x49d77f(0x213)]}
				${this[_0x49d77f(0x178)]}
			</div>
			${_0x141212}
			${_0x188c3e[_0x49d77f(0x1d7)]()}`,_0x4b1488['focus']();})());}async[_0x6d004e(0x1f0)]({$ovrLoading:_0x8107b5,isSilent:isSilent=![],isBackground:isBackground=![]}={}){const _0x502ac1=_0x6d004e;try{if(_0x8107b5)_0x8107b5[_0x502ac1(0x19d)]();const _0x41023c=await this[_0x502ac1(0x218)]();if(!isSilent&&!_0x41023c[_0x502ac1(0x19b)]){if(_0x8107b5)_0x8107b5[_0x502ac1(0x1d7)]();return ui['notifications'][_0x502ac1(0x219)](_0x502ac1(0x20d));}if(!isSilent&&_0x41023c[_0x502ac1(0x19b)]>0xa){const _0xc430fe=await InputUiUtil['pGetUserBoolean']({'title':'You\x20have\x20many\x20sources\x20selected,\x20which\x20may\x20negatively\x20impact\x20performance.\x20Do\x20you\x20want\x20to\x20continue?','storageKey':_0x502ac1(0x1a2),'textYesRemember':_0x502ac1(0x200),'textYes':'Continue','textNo':_0x502ac1(0x1ab)});if(!_0xc430fe){if(_0x8107b5)_0x8107b5[_0x502ac1(0x1d7)]();return;}}const _0x50a9e7=await this[_0x502ac1(0x1fc)](_0x41023c,{'isBackground':isBackground});if(!isSilent&&!_0x50a9e7['length']){if(_0x8107b5)_0x8107b5['hideVe']();return ui[_0x502ac1(0x22e)][_0x502ac1(0x1f8)](_0x502ac1(0x1de));}this[_0x502ac1(0x1e9)](_0x50a9e7),this['close']();}catch(_0x4b0b62){if(_0x8107b5)_0x8107b5[_0x502ac1(0x1d7)]();ui[_0x502ac1(0x22e)][_0x502ac1(0x219)](_0x502ac1(0x1dd)+VeCt[_0x502ac1(0x18e)]);throw _0x4b0b62;}}async[_0x6d004e(0x1fc)](_0x3d5efb,{isBackground:isBackground=![]}={}){const _0x3bfd9a=_0x6d004e,{dedupedAllContentFlat:_0x1a8ec9}=await UtilDataSource[_0x3bfd9a(0x1a0)]({'sources':_0x3d5efb,'uploadedFiles':this[_0x3bfd9a(0x1f4)],'customUrls':this['getCustomUrls'](),'isBackground':isBackground,'props':this[_0x3bfd9a(0x20b)],'page':this[_0x3bfd9a(0x176)],'isDedupable':this['_isDedupable'],'fnGetDedupedData':this[_0x3bfd9a(0x19c)],'fnGetBlacklistFilteredData':this[_0x3bfd9a(0x188)]});return _0x1a8ec9;}['getCustomUrls'](){const _0x383758=_0x6d004e;return this[_0x383758(0x21f)][_0x383758(0x1c1)][_0x383758(0x207)]['filter'](_0x2a69fe=>_0x2a69fe[_0x383758(0x1b0)][_0x383758(0x210)]&&_0x2a69fe[_0x383758(0x1b0)][_0x383758(0x23d)]&&_0x2a69fe[_0x383758(0x1b0)][_0x383758(0x23d)]['trim']())[_0x383758(0x180)](_0x37a7dc=>_0x37a7dc['data']['url'][_0x383758(0x235)]());}['handlePreClose'](){const _0x2afd6c=_0x6d004e;this['_comp'][_0x2afd6c(0x1b6)](_0x2afd6c(0x207)),this[_0x2afd6c(0x21f)][_0x2afd6c(0x1b6)]('uploadedFileMetas'),this[_0x2afd6c(0x21f)][_0x2afd6c(0x1b6)]('specialMetas');}[_0x6d004e(0x217)](){const _0x16fd5e=_0x6d004e;if(this['_pageFilter'])this[_0x16fd5e(0x232)][_0x16fd5e(0x197)]();}async[_0x6d004e(0x192)](..._0x38a1c1){const _0x2346c0=_0x6d004e;this['handlePreClose'](),await super['close'](..._0x38a1c1),this[_0x2346c0(0x217)]();}[_0x6d004e(0x1bd)]({isRenderApp:isRenderApp=!![]}={}){const _0xb74ad6=_0x6d004e,_0x1a0c15=this['isForceSelectAllSources']();if(!_0x1a0c15&&isRenderApp)this[_0xb74ad6(0x214)](!![]);this[_0xb74ad6(0x17f)]=new Promise((_0x551b2d,_0x1c3825)=>{const _0x5703b5=_0xb74ad6;this[_0x5703b5(0x1e9)]=_0x551b2d,this[_0x5703b5(0x1c8)]=_0x1c3825;});if(_0x1a0c15)this[_0xb74ad6(0x1f0)]({'isSilent':!![],'isBackground':!![]})['then'](null);return this[_0xb74ad6(0x17f)];}async[_0x6d004e(0x1db)](){const _0x564291=_0x6d004e,_0x1f14e6=await this[_0x564291(0x179)]();return this['_pGetOutputEntities'](_0x1f14e6);}}AppSourceSelectorMulti[_0x6d004e(0x181)]=class extends AppFilter{static[_0x6d004e(0x190)](_0x2bed58,_0x2d1eb8){const _0x22f911=_0x6d004e;_0x2bed58=_0x2bed58[_0x22f911(0x1a7)],_0x2d1eb8=_0x2d1eb8[_0x22f911(0x1a7)];const _0x549969=UtilDataSource[_0x22f911(0x21b)][_0x22f911(0x1b2)](_0x2bed58),_0x1f7e2b=UtilDataSource['SOURCE_TYPE_ORDER__FILTER'][_0x22f911(0x1b2)](_0x2d1eb8);return SortUtil[_0x22f911(0x212)](_0x549969,_0x1f7e2b);}constructor(){const _0x594d34=_0x6d004e;super(),this[_0x594d34(0x1c6)]=new Filter({'header':_0x594d34(0x175),'itemSortFn':AppSourceSelectorMulti[_0x594d34(0x181)][_0x594d34(0x190)]});}static[_0x6d004e(0x1b4)](){}[_0x6d004e(0x1a5)](_0x55b961,_0x28a888){const _0x1708e2=_0x6d004e;if(_0x28a888)return;this[_0x1708e2(0x1c6)][_0x1708e2(0x18f)](_0x55b961[_0x1708e2(0x1b9)]);}async[_0x6d004e(0x201)](_0x19a90c){const _0x25f3fe=_0x6d004e;_0x19a90c[_0x25f3fe(0x1d4)]=[this['_typeFilter']];}[_0x6d004e(0x1fd)](_0x1332fb,_0x1291d8){const _0x2c5e27=_0x6d004e;return this['_filterBox'][_0x2c5e27(0x1fd)](_0x1332fb,_0x1291d8[_0x2c5e27(0x1b9)]);}};export{AppSourceSelectorMulti};