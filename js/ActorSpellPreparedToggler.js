const _0x556465=_0x5556;(function(_0x5d6b1a,_0x551688){const _0xea8b39=_0x5556,_0x588e72=_0x5d6b1a();while(!![]){try{const _0x3b87dd=-parseInt(_0xea8b39(0x129))/0x1*(-parseInt(_0xea8b39(0x166))/0x2)+-parseInt(_0xea8b39(0x13a))/0x3*(-parseInt(_0xea8b39(0xd9))/0x4)+parseInt(_0xea8b39(0xfc))/0x5+parseInt(_0xea8b39(0x11c))/0x6+parseInt(_0xea8b39(0xe0))/0x7+-parseInt(_0xea8b39(0x12b))/0x8+-parseInt(_0xea8b39(0x11d))/0x9*(parseInt(_0xea8b39(0x171))/0xa);if(_0x3b87dd===_0x551688)break;else _0x588e72['push'](_0x588e72['shift']());}catch(_0x5a3687){_0x588e72['push'](_0x588e72['shift']());}}}(_0x2973,0xa8c5b));import{SharedConsts}from'../shared/SharedConsts.js';function _0x2973(){const _0x437c9=['Saved\x20as\x20\x22','initBtnSortHandlers','length','pInitFilterBox','getData','Verbal','_list','saveId','.fltr__mini-view','pGetShowApplicationModal','_renderableCollectionRules','close','fromObject','158brhyTo','mode','getMaxWindowHeight','Spell\x20Prepared\x20Toggler','setNextState','_activeSaveId','flags','notifications','spells','actor','doAbsorbItems','300MWqDys','set','spellLists','appendTo','items','append','level','2718812TvMSvA','doReorderExistingComponent','fnCleanup','_cbClose','render','_activateListeners_initBtnListSave','[name=\x22btn-list-load\x22]','2693964oSUQVK','toDisplay','_doLoadSave','[name=\x22ipt-list-name\x22]','_$wrpSaveRows','_addHookBase','getNewRender','prop','type','pGet','STR_SEE_CONSOLE','visibleItems','.act-sp-prep__disp-modified','comp','SavedSpellListComponent','Somatic','push','addEventListener','input','activateListeners','_addHookAll','teardown','_miscFilter','checked','_$wrp','[name=\x22btn-list-save\x22]','_activateListeners_pInitListAndFilters','toggleClass','5481830SjjWmT','$dispModified','_activateListeners_initBtnReset','resetNextState','_compSaves','_pageFilter','somatic','_levelFilter','_$btnReset','Material','[name=\x22cb-select-all\x22]','index','/template/ActorSpellPreparedToggler.hbs','indexOf','_pDoLoadInitialState','detach','error','find','reset','getFltrSpellLevelStr','_getStorageKeyAllLists','concentration','entity','addToFilters','getNextState','sortMetaFilter','.search','AppFilter','_$iptName','Level','prepared','filter','1282458edXMbs','437994OATVsE','Loaded\x20list\x20\x22','ritual','name','EVNT_VALCHANGE','change','pUpdateDocument','_proxyAssignSimple','uid','forEach','<button\x20class=\x22btn\x20btn-xxs\x22\x20title=\x22Load\x22><span\x20class=\x22glyphicon\x20glyphicon-ok\x22></span></button>','_PROP_SPELL_LISTS','4877DaGbSw','_handleFilterChange','10307032XSMpft','$wrpRow','_actor','_activateListeners_initIptListName','MODULE_NAME_FAKE','_comp','map','cbClose','state','pCommitState','data','_$iptSearch','ele','Load\x20Prepared\x20Spell\x20List','_fMisc','6QMJdRt','trimState','then','tool-actor-spell-prepared-toggler','val','Failed\x20to\x20save\x20list!\x20','spell','bind','constructor','addHookSpellLists','filterBox','spellItemId','_activateListeners_initBtnListLoad','.veapp__list','get','_rows','_actorItems','_activateListeners_initBtnRun','_filterBox','click','triggerSpellListsCollectionUpdate','Components\x20&\x20Miscellaneous','_getActiveSave','preparation','info','[name=btn-toggle-summary]','_state','trim','components','ve-hidden','_activateListeners_initBtnListNew'];_0x2973=function(){return _0x437c9;};return _0x2973();}function _0x5556(_0x4d543f,_0x3c3659){const _0x297320=_0x2973();return _0x5556=function(_0x555678,_0x552bd7){_0x555678=_0x555678-0xd3;let _0x1c5aa0=_0x297320[_0x555678];return _0x1c5aa0;},_0x5556(_0x4d543f,_0x3c3659);}import{LGT,Util}from'./Util.js';import{AppFilter}from'./FilterApplications.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{UtilDocuments}from'./UtilDocuments.js';import{UtilApplications}from'./UtilApplications.js';class ActorSpellPreparedToggler extends Application{static['pHandleButtonClick'](_0x3a4ee1,_0x203a29,_0x5bf6b9,_0x4d3b6a){const _0x299a13=_0x5556,_0x2f4e39=new ActorSpellPreparedToggler(_0x203a29[_0x299a13(0x16f)]);_0x2f4e39['render'](!![]);}constructor(_0xc64229){const _0x1abee9=_0x5556;super({'title':_0x1abee9(0x169),'template':SharedConsts['MODULE_LOCATION']+_0x1abee9(0x108),'width':0x1e0,'height':Util[_0x1abee9(0x168)](),'resizable':!![]}),this[_0x1abee9(0x12d)]=_0xc64229,this[_0x1abee9(0x14a)]=this['_actor'][_0x1abee9(0xd6)]['filter'](_0x18f93d=>_0x18f93d[_0x1abee9(0xe8)]===_0x1abee9(0x140)&&_0x18f93d[_0x1abee9(0x135)][_0x1abee9(0x135)][_0x1abee9(0xd8)]!==0x0&&_0x18f93d[_0x1abee9(0x135)][_0x1abee9(0x135)][_0x1abee9(0x151)]&&_0x18f93d[_0x1abee9(0x135)][_0x1abee9(0x135)][_0x1abee9(0x151)][_0x1abee9(0x167)]==='prepared'),this[_0x1abee9(0x101)]=new ActorSpellPreparedToggler[(_0x1abee9(0x117))](),this[_0x1abee9(0x118)]=null,this[_0x1abee9(0x16b)]=null,this[_0x1abee9(0x100)]=null,this[_0x1abee9(0xe4)]=null,this[_0x1abee9(0x163)]=null,this[_0x1abee9(0x15f)]=null,this['_$btnReset']=null,this['_$iptSearch']=null;}[_0x556465(0x12a)](){const _0xe22e6c=_0x556465,_0x71067e=this[_0xe22e6c(0x101)][_0xe22e6c(0x144)]['getValues']();this[_0xe22e6c(0x15f)][_0xe22e6c(0x11b)](_0x18c010=>this['_pageFilter'][_0xe22e6c(0xe1)](_0x71067e,this['_rows'][_0x18c010['ix']]));}[_0x556465(0xf3)](_0x1ef670){const _0x37657f=_0x556465;super['activateListeners'](_0x1ef670),this[_0x37657f(0x12e)](_0x1ef670),this[_0x37657f(0x158)](_0x1ef670),this[_0x37657f(0xde)](_0x1ef670),this[_0x37657f(0x146)](_0x1ef670),this[_0x37657f(0x14b)](_0x1ef670),this[_0x37657f(0xfe)](_0x1ef670),this[_0x37657f(0xfa)](_0x1ef670)[_0x37657f(0x13c)](()=>this['_pDoLoadInitialState']());}[_0x556465(0x12e)](_0x162f99){const _0x556689=_0x556465;this[_0x556689(0x118)]=_0x162f99[_0x556689(0x10d)](_0x556689(0xe3));}['_activateListeners_initBtnListNew'](_0x12ecc8){const _0xb61bd1=_0x556465;_0x12ecc8[_0xb61bd1(0x10d)]('[name=\x22btn-list-new\x22]')[_0xb61bd1(0x14d)](async()=>{const _0x5852f6=_0xb61bd1;this[_0x5852f6(0x16b)]=null,this[_0x5852f6(0x118)][_0x5852f6(0x13e)]('');});}[_0x556465(0x150)]({activeSaveId:activeSaveId=null}={}){const _0x289860=_0x556465;return activeSaveId=activeSaveId||this['_activeSaveId'],this[_0x289860(0x100)][_0x289860(0xd4)][_0x289860(0x10d)](_0x5aecce=>_0x5aecce['id']===activeSaveId);}[_0x556465(0xde)](_0x3c2eb0){const _0x34b367=_0x556465;_0x3c2eb0[_0x34b367(0x10d)](_0x34b367(0xf9))[_0x34b367(0x14d)](async()=>{const _0x1fa25c=_0x34b367;try{let _0x103a9d=this[_0x1fa25c(0x150)]();!_0x103a9d&&(_0x103a9d={'id':CryptUtil[_0x1fa25c(0x125)](),'entity':{'name':'','spells':[]}},this[_0x1fa25c(0x100)][_0x1fa25c(0xd4)][_0x1fa25c(0xf0)](_0x103a9d));this['_activeSaveId']=_0x103a9d['id'],_0x103a9d[_0x1fa25c(0x112)][_0x1fa25c(0x120)]=this[_0x1fa25c(0x118)][_0x1fa25c(0x13e)]()[_0x1fa25c(0x155)]()||'(Unnamed\x20List)',this[_0x1fa25c(0x118)][_0x1fa25c(0x13e)](_0x103a9d[_0x1fa25c(0x112)][_0x1fa25c(0x120)]),_0x103a9d[_0x1fa25c(0x112)][_0x1fa25c(0x16e)]=this['_list'][_0x1fa25c(0xd6)][_0x1fa25c(0x131)](_0x10f01c=>{const _0x547f5b=_0x1fa25c,_0x30c7cc=this[_0x547f5b(0x12d)][_0x547f5b(0xd6)][_0x547f5b(0x148)](_0x10f01c[_0x547f5b(0x135)]['spellItemId']);if(!_0x30c7cc)return;return{'id':_0x10f01c['data'][_0x547f5b(0x145)],'isPrepared':_0x10f01c[_0x547f5b(0x135)]['getNextState']()};})['filter'](Boolean);const _0x1dadcc=this[_0x1fa25c(0x12d)][_0x1fa25c(0x16c)]?.[SharedConsts[_0x1fa25c(0x12f)]],_0x3206ea={..._0x1dadcc||{}};MiscUtil[_0x1fa25c(0xd3)](_0x3206ea,this[_0x1fa25c(0x142)]['name'],_0x1fa25c(0x160),this[_0x1fa25c(0x16b)]),await UtilDocuments[_0x1fa25c(0x123)](this[_0x1fa25c(0x12d)],{'flags':{[SharedConsts['MODULE_NAME_FAKE']]:_0x3206ea}}),this[_0x1fa25c(0x100)]['triggerSpellListsCollectionUpdate'](),ui[_0x1fa25c(0x16d)]['info'](_0x1fa25c(0x159)+_0x103a9d['entity'][_0x1fa25c(0x120)]+'\x22!');}catch(_0x27754c){ui[_0x1fa25c(0x16d)][_0x1fa25c(0x10c)](_0x1fa25c(0x13f)+VeCt[_0x1fa25c(0xea)]),console[_0x1fa25c(0x10c)](...LGT,_0x27754c);}});}[_0x556465(0x146)](_0x4fdefb){const _0x270ffa=_0x556465;_0x4fdefb[_0x270ffa(0x10d)](_0x270ffa(0xdf))[_0x270ffa(0x14d)](async()=>{const _0x91de75=_0x270ffa;try{const {$modalInner:_0x20a296,doClose:_0x194315}=await UtilApplications[_0x91de75(0x162)]({'title':_0x91de75(0x138),'cbClose':_0x28df41=>{const _0x2b6835=_0x91de75;this[_0x2b6835(0xe4)][_0x2b6835(0x10b)]();if(!_0x28df41)return;this[_0x2b6835(0xe2)](_0x28df41),ui['notifications'][_0x2b6835(0x152)](_0x2b6835(0x11e)+this[_0x2b6835(0x150)]()[_0x2b6835(0x112)]['name']+'\x22!');}});if(!this['_compSaves'][_0x91de75(0xd4)][_0x91de75(0x15b)])_0x20a296[_0x91de75(0xd7)]('<div\x20class=\x22italic\x20ve-muted\x20py-1\x22>No\x20saved\x20spell\x20lists\x20found.</div>');this[_0x91de75(0xe4)]=this['_$wrpSaveRows']||$('<div\x20class=\x22ve-flex-col\x20w-100\x20h-100\x22></div>'),this[_0x91de75(0xe4)][_0x91de75(0xd5)](_0x20a296);if(!this[_0x91de75(0x163)]){this[_0x91de75(0x163)]=new ActorSpellPreparedToggler['RenderableCollectionSpellLists'](this[_0x91de75(0x100)],this[_0x91de75(0xe4)]);const _0x23fd70=()=>{const _0x306a4e=_0x91de75;this['_renderableCollectionRules'][_0x306a4e(0xdd)](),StorageUtil['pSet'](this['_getStorageKeyAllLists'](),this[_0x306a4e(0x100)]['spellLists']);};this['_compSaves'][_0x91de75(0x143)](_0x23fd70),_0x23fd70();}this[_0x91de75(0x163)][_0x91de75(0x132)]=_0x194315;}catch(_0x4aaf1a){ui['notifications'][_0x91de75(0x10c)]('Failed\x20to\x20load\x20list!\x20'+VeCt[_0x91de75(0xea)]),console[_0x91de75(0x10c)](...LGT,_0x4aaf1a);}});}[_0x556465(0x14b)](_0x52893f){const _0x228ca0=_0x556465;_0x52893f[_0x228ca0(0x10d)]('[name=\x22btn-run\x22]')[_0x228ca0(0x14d)](async()=>{const _0x17bd97=_0x228ca0;for(const _0x16f944 of this[_0x17bd97(0x15f)][_0x17bd97(0xd6)]){await _0x16f944[_0x17bd97(0x135)][_0x17bd97(0x134)]();}});}['_activateListeners_initBtnReset'](_0x4e2bc4){const _0x38b442=_0x556465;this[_0x38b442(0x104)]=_0x4e2bc4[_0x38b442(0x10d)]('[name=\x22btn-reset\x22]')[_0x38b442(0x14d)](()=>{const _0x193970=_0x38b442;_0x4e2bc4[_0x193970(0x10d)]('.search')[_0x193970(0x13e)]('');if(!this[_0x193970(0x15f)])return;this[_0x193970(0x15f)][_0x193970(0x10e)](),this[_0x193970(0x15f)][_0x193970(0xd6)][_0x193970(0x126)](_0x1d6e69=>_0x1d6e69['data'][_0x193970(0xff)]());});}[_0x556465(0xfa)](_0x5a2afc){const _0x4dd9ce=_0x556465;this[_0x4dd9ce(0x136)]=_0x5a2afc[_0x4dd9ce(0x10d)](_0x4dd9ce(0x116)),this[_0x4dd9ce(0x15f)]=new List({'$iptSearch':this[_0x4dd9ce(0x136)],'$wrpList':_0x5a2afc[_0x4dd9ce(0x10d)](_0x4dd9ce(0x147)),'isUseJquery':!![],'fnSort':PageFilterSpells['sortSpells']}),SortUtil[_0x4dd9ce(0x15a)](_0x5a2afc['find']('[data-name=\x22wrp-btns-sort\x22]'),this['_list']);const _0x20e536=_0x5a2afc[_0x4dd9ce(0x10d)](_0x4dd9ce(0x106))[_0x4dd9ce(0x122)](()=>{const _0x2653b8=_0x4dd9ce,_0x2debe1=_0x20e536[_0x2653b8(0xe7)](_0x2653b8(0xf7));this['_list'][_0x2653b8(0xeb)][_0x2653b8(0x126)](_0x396f45=>_0x396f45[_0x2653b8(0x135)][_0x2653b8(0x16a)](_0x2debe1));});return this[_0x4dd9ce(0x101)][_0x4dd9ce(0x15c)]({'$iptSearch':this[_0x4dd9ce(0x136)],'$btnReset':this[_0x4dd9ce(0x104)],'$btnOpen':_0x5a2afc[_0x4dd9ce(0x10d)]('[name=btn-filter]'),'$btnToggleSummaryHidden':_0x5a2afc[_0x4dd9ce(0x10d)](_0x4dd9ce(0x153)),'$wrpMiniPills':_0x5a2afc[_0x4dd9ce(0x10d)](_0x4dd9ce(0x161)),'namespace':_0x4dd9ce(0x13d)})['then'](()=>{const _0x2f193b=_0x4dd9ce;this['_rows'][_0x2f193b(0x126)](_0x472a60=>this['_pageFilter'][_0x2f193b(0x113)](_0x472a60)),this[_0x2f193b(0x15f)][_0x2f193b(0x170)](this['_actorItems'],{'fnGetName':_0x1fd7b3=>_0x1fd7b3[_0x2f193b(0x120)],'fnGetValues':_0x1a36d7=>({'level':MiscUtil[_0x2f193b(0x148)](_0x1a36d7,_0x2f193b(0x135),_0x2f193b(0x135),_0x2f193b(0xd8))||-0x1}),'fnGetData':(_0x3fea16,_0x24d4f5)=>{const _0x1b8f5c=_0x2f193b,_0x492478=$(_0x3fea16[_0x1b8f5c(0x137)]);return{'spellItemId':_0x24d4f5['id'],'cbSel':_0x492478[_0x1b8f5c(0x10d)](_0x1b8f5c(0xf2))[0x0],'$dispModified':_0x492478[_0x1b8f5c(0x10d)](_0x1b8f5c(0xec))};},'fnBindListeners':(_0x469194,_0x46acb5)=>{const _0x30fbe4=_0x2f193b,_0x572a68={'prepared':_0x46acb5['data'][_0x30fbe4(0x135)]['preparation'][_0x30fbe4(0x11a)]},_0x325506=()=>{const _0x3d9fee=_0x30fbe4;_0x469194[_0x3d9fee(0x135)]['cbSel'][_0x3d9fee(0xf7)]=_0x572a68[_0x3d9fee(0x11a)],_0x469194[_0x3d9fee(0x135)][_0x3d9fee(0xfd)][_0x3d9fee(0xfb)](_0x3d9fee(0x157),_0x46acb5[_0x3d9fee(0x135)][_0x3d9fee(0x135)][_0x3d9fee(0x151)][_0x3d9fee(0x11a)]===_0x572a68[_0x3d9fee(0x11a)]);},_0x51ca3a=_0x1c81de=>{const _0x409eff=_0x30fbe4;_0x572a68[_0x409eff(0x11a)]=_0x1c81de,_0x325506();},_0x29ca42=()=>{const _0x30866a=_0x30fbe4;_0x572a68['prepared']=_0x46acb5[_0x30866a(0x135)][_0x30866a(0x135)][_0x30866a(0x151)][_0x30866a(0x11a)],_0x325506();},_0x5e3263=()=>_0x572a68['prepared'],_0xf3dc23=async()=>{const _0x58b95e=_0x30fbe4;await DataConverterSpell['pSetSpellItemIsPrepared'](_0x46acb5,_0x572a68[_0x58b95e(0x11a)]),_0x325506();};_0x469194[_0x30fbe4(0x135)][_0x30fbe4(0x16a)]=_0x51ca3a,_0x469194[_0x30fbe4(0x135)]['resetNextState']=_0x29ca42,_0x469194[_0x30fbe4(0x135)][_0x30fbe4(0x114)]=_0x5e3263,_0x469194[_0x30fbe4(0x135)][_0x30fbe4(0x134)]=_0xf3dc23,_0x469194['ele'][_0x30fbe4(0xf1)](_0x30fbe4(0x14d),_0x3747ba=>{const _0x4845df=_0x30fbe4;ListUiUtil['handleSelectClick'](this[_0x4845df(0x15f)],_0x469194,_0x3747ba,{'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x1330b7,_0x266af4)=>_0x1330b7[_0x4845df(0x135)]['setNextState'](_0x266af4)});});}}),this['_list']['init'](),this[_0x2f193b(0x101)][_0x2f193b(0x13b)](),this[_0x2f193b(0x101)][_0x2f193b(0x144)]['render'](),this[_0x2f193b(0x101)][_0x2f193b(0x144)]['on'](FilterBox[_0x2f193b(0x121)],this[_0x2f193b(0x12a)][_0x2f193b(0x141)](this)),this[_0x2f193b(0x12a)]();});}async[_0x556465(0x10a)](){const _0x9cf9d9=_0x556465;this[_0x9cf9d9(0x100)]=new ActorSpellPreparedToggler[(_0x9cf9d9(0xee))]();const _0x36d077=await StorageUtil[_0x9cf9d9(0xe9)](this['_getStorageKeyAllLists']());if(!_0x36d077?.[_0x9cf9d9(0x15b)])return;this[_0x9cf9d9(0x100)][_0x9cf9d9(0xd4)]=_0x36d077;const _0x1dea10=this[_0x9cf9d9(0x12d)][_0x9cf9d9(0x135)][_0x9cf9d9(0x16c)]?.[SharedConsts[_0x9cf9d9(0x12f)]];if(!_0x1dea10?.[this[_0x9cf9d9(0x142)][_0x9cf9d9(0x120)]]?.[_0x9cf9d9(0x160)])return;const _0x4c5f8f=_0x36d077['find'](_0x22fdd7=>_0x22fdd7['id']===_0x1dea10[this['constructor']['name']][_0x9cf9d9(0x160)]);if(!_0x4c5f8f)return;this[_0x9cf9d9(0xe2)](_0x4c5f8f);}[_0x556465(0xe2)](_0x3e5acd){const _0x4dcf8d=_0x556465;if(!_0x3e5acd?.[_0x4dcf8d(0x112)][_0x4dcf8d(0x16e)]?.[_0x4dcf8d(0x15b)])return;this[_0x4dcf8d(0x16b)]=_0x3e5acd['id'],this[_0x4dcf8d(0x118)][_0x4dcf8d(0x13e)](_0x3e5acd['entity'][_0x4dcf8d(0x120)]),_0x3e5acd[_0x4dcf8d(0x112)][_0x4dcf8d(0x16e)][_0x4dcf8d(0x126)](({id:_0x2c030d,isPrepared:_0x3169b9})=>{const _0x23c5ed=_0x4dcf8d,_0xef1b11=this[_0x23c5ed(0x15f)][_0x23c5ed(0xd6)][_0x23c5ed(0x10d)](_0x10a6a=>_0x10a6a[_0x23c5ed(0x135)]['spellItemId']===_0x2c030d);if(_0xef1b11)_0xef1b11[_0x23c5ed(0x135)][_0x23c5ed(0x16a)](_0x3169b9);});}[_0x556465(0x110)](){const _0x38c918=_0x556465;return this[_0x38c918(0x142)]['name']+'.saves';}[_0x556465(0x15d)](){const _0x43480b=_0x556465;return this[_0x43480b(0x149)]=this[_0x43480b(0x14a)][_0x43480b(0x131)]((_0x4906f0,_0x541a4e)=>({'name':_0x4906f0[_0x43480b(0x120)],'isPrepared':_0x4906f0['data']['data']['preparation'][_0x43480b(0x11a)],'level':MiscUtil[_0x43480b(0x148)](_0x4906f0,_0x43480b(0x135),_0x43480b(0x135),'level')||-0x1,'concentration':!!MiscUtil[_0x43480b(0x148)](_0x4906f0,_0x43480b(0x135),_0x43480b(0x135),'components',_0x43480b(0x111)),'v':!!MiscUtil[_0x43480b(0x148)](_0x4906f0,_0x43480b(0x135),_0x43480b(0x135),_0x43480b(0x156),'vocal'),'s':!!MiscUtil[_0x43480b(0x148)](_0x4906f0,_0x43480b(0x135),'data','components',_0x43480b(0x102)),'m':!!MiscUtil['get'](_0x4906f0,_0x43480b(0x135),'data','components','material'),'ritual':!!MiscUtil[_0x43480b(0x148)](_0x4906f0,_0x43480b(0x135),_0x43480b(0x135),_0x43480b(0x156),'ritual'),'ix':_0x541a4e})),{...super[_0x43480b(0x15d)](),'rows':this[_0x43480b(0x149)]};}['close'](..._0x468923){const _0x17df70=_0x556465;return this['_pageFilter'][_0x17df70(0xf5)](),super[_0x17df70(0x164)](..._0x468923);}}ActorSpellPreparedToggler[_0x556465(0x117)]=class extends AppFilter{constructor(){const _0x59383b=_0x556465;super(),this[_0x59383b(0x103)]=new Filter({'header':_0x59383b(0x119),'items':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9],'displayFn':_0x4803f0=>~_0x4803f0?PageFilterSpells[_0x59383b(0x10f)](_0x4803f0):'Unknown'}),this[_0x59383b(0xf6)]=new Filter({'header':_0x59383b(0x14f),'items':['Concentration','Verbal',_0x59383b(0xef),_0x59383b(0x105),'Ritual'],'itemSortFn':PageFilterSpells[_0x59383b(0x115)]});}[_0x556465(0x113)](_0x12ddda,_0x231cd2){const _0x1f287d=_0x556465;if(_0x231cd2)return;this['_levelFilter']['addItem'](_0x12ddda[_0x1f287d(0xd8)]),_0x12ddda[_0x1f287d(0x139)]=[];if(_0x12ddda[_0x1f287d(0x111)])_0x12ddda[_0x1f287d(0x139)][_0x1f287d(0xf0)]('Concentration');if(_0x12ddda['v'])_0x12ddda['_fMisc'][_0x1f287d(0xf0)](_0x1f287d(0x15e));if(_0x12ddda['s'])_0x12ddda[_0x1f287d(0x139)][_0x1f287d(0xf0)](_0x1f287d(0xef));if(_0x12ddda['m'])_0x12ddda['_fMisc'][_0x1f287d(0xf0)](_0x1f287d(0x105));if(_0x12ddda[_0x1f287d(0x11f)])_0x12ddda['_fMisc']['push']('Ritual');}async['_pPopulateBoxOptions'](_0x46d5c8){const _0x407764=_0x556465;_0x46d5c8['filters']=[this[_0x407764(0x103)],this[_0x407764(0xf6)]];}[_0x556465(0xe1)](_0x5dd748,_0x5c9401){const _0xabe4ee=_0x556465;return this[_0xabe4ee(0x14c)]['toDisplay'](_0x5dd748,_0x5c9401[_0xabe4ee(0xd8)],_0x5c9401[_0xabe4ee(0x139)]);}},ActorSpellPreparedToggler['SavedSpellListComponent']=class extends BaseComponent{get['spellLists'](){const _0x17b86c=_0x556465;return this[_0x17b86c(0x154)][ActorSpellPreparedToggler['SavedSpellListComponent'][_0x17b86c(0x128)]];}set[_0x556465(0xd4)](_0x180f42){const _0x5c4dd6=_0x556465;this['_state'][ActorSpellPreparedToggler['SavedSpellListComponent'][_0x5c4dd6(0x128)]]=_0x180f42;}[_0x556465(0x143)](_0x327d8e){const _0x363ac6=_0x556465;this[_0x363ac6(0xe5)](ActorSpellPreparedToggler[_0x363ac6(0xee)][_0x363ac6(0x128)],_0x327d8e);}['triggerSpellListsCollectionUpdate'](){const _0x1e90fe=_0x556465;this['_triggerCollectionUpdate'](ActorSpellPreparedToggler[_0x1e90fe(0xee)][_0x1e90fe(0x128)]);}['_getDefaultState'](){return{[ActorSpellPreparedToggler['SavedSpellListComponent']['_PROP_SPELL_LISTS']]:[]};}},ActorSpellPreparedToggler['SavedSpellListComponent'][_0x556465(0x128)]='spellLists',ActorSpellPreparedToggler['RenderableCollectionSpellLists']=class extends RenderableCollectionBase{constructor(_0x1ed107,_0x552068){const _0xfc5b92=_0x556465;super(_0x1ed107,ActorSpellPreparedToggler[_0xfc5b92(0xee)][_0xfc5b92(0x128)]),this[_0xfc5b92(0xf8)]=_0x552068,this['_cbClose']=null;}set[_0x556465(0x132)](_0x2ccb4a){const _0x3d8533=_0x556465;this[_0x3d8533(0xdc)]=_0x2ccb4a;}[_0x556465(0xe6)](_0x1eb951){const _0x4def3e=_0x556465,_0x42e6e0=this['_comp'],_0x2345b4=BaseComponent[_0x4def3e(0x165)](_0x1eb951[_0x4def3e(0x112)],'*');_0x2345b4[_0x4def3e(0xf4)](_0x4def3e(0x133),()=>{const _0x9a8534=_0x4def3e;_0x1eb951[_0x9a8534(0x112)]=_0x2345b4['toObject']('*'),_0x42e6e0[_0x9a8534(0x14e)]();});const _0x57342c=$(_0x4def3e(0x127))[_0x4def3e(0x14d)](()=>{const _0x3b3964=_0x4def3e;this[_0x3b3964(0xdc)](_0x1eb951);}),_0x43b2b5=$('<button\x20class=\x22btn\x20btn-xxs\x20btn-danger\x22\x20title=\x22Delete\x22><span\x20class=\x22glyphicon\x20glyphicon-trash\x22></span></button>')[_0x4def3e(0x14d)](()=>{const _0x459829=_0x4def3e;_0x42e6e0['spellLists']=_0x42e6e0['spellLists'][_0x459829(0x11b)](_0x25379e=>_0x25379e!==_0x1eb951);}),_0x5ceb87=$$`<div class="ve-flex-v-center py-1 stripe-even toggsp__row">
			<div class="mr-2">${_0x57342c}</div>
			<div class="ve-flex-v-center w-100 mr-2">${_0x2345b4[_0x4def3e(0x154)][_0x4def3e(0x120)]}</div>
			<div class="">${_0x43b2b5}</div>
		</div>`[_0x4def3e(0xd5)](this[_0x4def3e(0xf8)]);return{'comp':_0x2345b4,'$wrpRow':_0x5ceb87,'fnCleanup':()=>{}};}['doUpdateExistingRender'](_0x3bcc52,_0x13d333){const _0x12386a=_0x556465;_0x3bcc52[_0x12386a(0xed)][_0x12386a(0x124)](_0x12386a(0x133),_0x13d333[_0x12386a(0x112)],!![]);}['doDeleteExistingRender'](_0x4a4249){const _0x4ca775=_0x556465;_0x4a4249[_0x4ca775(0xdb)]();}[_0x556465(0xda)](_0x19166f,_0x3eaf38){const _0x4600a3=_0x556465,_0x40eabe=this[_0x4600a3(0x130)],_0xddd957=_0x40eabe[_0x4600a3(0xd4)]['map'](_0x8509ad=>_0x8509ad['id'])[_0x4600a3(0x109)](_0x3eaf38['id']),_0x48b22b=this[_0x4600a3(0xf8)][_0x4600a3(0x10d)]('.toggsp__row')[_0x4600a3(0x107)](_0x19166f['$wrpRow']),_0x582dbb=!this[_0x4600a3(0xf8)][_0x4600a3(0x15b)]||_0x48b22b!==_0xddd957;if(_0x582dbb)_0x19166f[_0x4600a3(0x12c)][_0x4600a3(0x10b)]()[_0x4600a3(0xd5)](this[_0x4600a3(0xf8)]);}};export{ActorSpellPreparedToggler};