const _0xf0e0f4=_0x5b14;(function(_0x58c236,_0x1624a9){const _0x5ea6a3=_0x5b14,_0x43ed8e=_0x58c236();while(!![]){try{const _0x16cb18=parseInt(_0x5ea6a3(0x100))/0x1+parseInt(_0x5ea6a3(0x102))/0x2*(-parseInt(_0x5ea6a3(0xb6))/0x3)+-parseInt(_0x5ea6a3(0xcf))/0x4*(-parseInt(_0x5ea6a3(0xce))/0x5)+-parseInt(_0x5ea6a3(0xc0))/0x6*(-parseInt(_0x5ea6a3(0xd1))/0x7)+-parseInt(_0x5ea6a3(0xd0))/0x8+parseInt(_0x5ea6a3(0xbd))/0x9+-parseInt(_0x5ea6a3(0xee))/0xa;if(_0x16cb18===_0x1624a9)break;else _0x43ed8e['push'](_0x43ed8e['shift']());}catch(_0x41980d){_0x43ed8e['push'](_0x43ed8e['shift']());}}}(_0x5161,0x40f84));import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{UtilActors}from'./UtilActors.js';import{DataConverter}from'./DataConverter.js';function _0x5161(){const _0x25d538=['pGetSources','_foundryIsSkipCustomizeLanguagesTools','push','languages','name','mutateForFilters','DataSourceUrl','pGetBackgroundItem','render','sourceShort','_pGetSourcesHomebrew','Customize','backgrounds','_pImportActorAdditionalFeats','Background','9378750yiuGGi','armorProf','document','getData','pFillActorImmunityData','pImportEquipmentItemEntries','pGetUserInput','ImportListBackground.customFeatures','pWaitForUserInput','pFillActorWeaponProfData','SRD','pPreloadHidden','ImportEntryOpts','startingEquipment','immune','sheet','sourceJsonToColor','importBackground','495008sfjIzR','_pImportEntry_pImportToActor_pLoadModalFilter','491506rhWIgM','Source','sourceJsonToStylePart','_foundryFormDataCharacteristics','5etools','applyFormDataToActorUpdate','toolProficiencies','weaponProficiencies','absorbFnBindListeners','source','_pImportEntry','applyExistingActorDataToActorUpdate','isTemp','ImportListBackground_filter','pFillActorToolProfData','doAbsorbItems','sourceStyle','sourceLong','text-center','_pApplyAllAdditionalSpellsToActor','PG_BACKGROUNDS','_pImportEntry_pImportToActor','data','cancelled','isCancelled','items','_content','Use\x20Default','Name','isStreamerMode','_isDedupable','absorbFnGetData','pAddActorItems','resist','currency','DISPLAY_NAME_TYPE_PLURAL','log','pFillActorLanguageOrToolData','_foundryIsSkipImportCharacteristics','isToken','_pImportEntry_pFillDetails','_skillDisplay','registerImpl','DataSourceFile','entries','skillProficiencies','Import\x20Backgrounds','background','init','fluff','_pImportEntry_pFillProficiencies','skills','weaponProf','URL_TO_HASH_BUILDER','Would\x20you\x20like\x20to\x20{@book\x20customize\x20your\x20skill\x20selection|phb|4|backgrounds|customizing\x20a\x20background}?<br>This\x20allows\x20you\x20to\x20choose\x20any\x20two\x20skills\x20to\x20gain\x20from\x20your\x20background,\x20rather\x20than\x20gaining\x20the\x20defaults.','Select\x20Background\x20Sources\x20for\x20Customizing\x20Features','_pImportEntry_pFillItems','_modalFilterBackgrounds','set','_foundryFormDataFeatures','isCustomize','3IZpAPP','sourceJsonToAbv','expertise','pGetUserBoolean','pFillActorSkillData','_pImportEntry_pImportToActor_pImportStartingEquipment','\x22\x20(from\x20\x22','3668949EOXsJM','pGetFluff','<div\x20class=\x22w-640p\x22>','11076JfQTXM','get','_actor','toolProf','Backgrounds','traits','pFillActorArmorProfData','</div>','_foundryIsSkipCustomizeSkills','_normalisedRange','Would\x20you\x20like\x20to\x20{@book\x20customize\x20your\x20language\x20and\x20tool\x20selection|phb|4|backgrounds|customizing\x20a\x20background}?<br>This\x20allows\x20you\x20to\x20choose\x20a\x20total\x20of\x20any\x20two\x20languages\x20and/or\x20tool\x20proficiencies\x20to\x20gain\x20from\x20your\x20background,\x20rather\x20than\x20gaining\x20the\x20defaults.','conditionImmune','LevelledEmbeddedDocument_MinLevel0','BG_SKILL_PROFS_CUSTOMIZE','5ppgzcE','1372432FtdJnK','2296552WkcWfw','1862RucrJw','_activateListeners_absorbListItems','pSetContent','_pImportEntry_pImportToDirectoryGeneric','map','TASK_EXIT_COMPLETE','vulnerable','_list','DATA_URL_BACKGROUNDS','SOURCE_TYP_CUSTOM','pGetWithDescriptionPlugins','_props','_page','Custom\x20URL'];_0x5161=function(){return _0x25d538;};return _0x5161();}import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{UtilApplications}from'./UtilApplications.js';import{ImportListCharacter}from'./ImportListCharacter.js';import{DataConverterBackground}from'./DataConverterBackground.js';import{Charactermancer_StartingEquipment}from'./UtilCharactermancerEquipment.js';function _0x5b14(_0x3fa299,_0x53edae){const _0x5161aa=_0x5161();return _0x5b14=function(_0x5b144b,_0x1bcb09){_0x5b144b=_0x5b144b-0x80;let _0x498953=_0x5161aa[_0x5b144b];return _0x498953;},_0x5b14(_0x3fa299,_0x53edae);}import{Charactermancer_Background_Characteristics,Charactermancer_Background_Features}from'./UtilCharactermancerBackground.js';import{UtilDataSource}from'./UtilDataSource.js';import{ModalFilterBackgroundsFvtt}from'./UtilModalFilter.js';import{ImportedDocument,ImportSummary}from'./ImportList.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{UtilDocuments}from'./UtilDocuments.js';import{AppSourceSelectorMulti}from'./AppSourceSelectorMulti.js';import{UtilAdvancements}from'./UtilAdvancements.js';class ImportListBackground extends ImportListCharacter{static ['ID']=_0xf0e0f4(0xeb);static [_0xf0e0f4(0x9c)]='Backgrounds';static ['_']=this[_0xf0e0f4(0xa3)](this);static[_0xf0e0f4(0xa9)](){const _0x3c1b1c=_0xf0e0f4;this['_initCreateSheetItemHook']({'prop':_0x3c1b1c(0xa8),'importerName':_0x3c1b1c(0xed)});}constructor(_0x430e4f){const _0x39dcf7=_0xf0e0f4;_0x430e4f=_0x430e4f||{},super({'title':_0x39dcf7(0xa7)},_0x430e4f,{'props':[_0x39dcf7(0xa8)],'dirsHomebrew':[_0x39dcf7(0xa8)],'titleSearch':_0x39dcf7(0xeb),'sidebarTab':'items','gameProp':_0x39dcf7(0x92),'defaultFolderPath':[_0x39dcf7(0xc4)],'pageFilter':new PageFilterBackgrounds(),'isActorRadio':!![],'page':UrlUtil[_0x39dcf7(0x8d)],'isPreviewable':!![],'isDedupable':!![],'configGroup':_0x39dcf7(0xff)}),this['_modalFilterBackgrounds']=null;}async['_pGetSources'](){const _0x3db630=_0xf0e0f4;return[new UtilDataSource[(_0x3db630(0xe5))](Config[_0x3db630(0xc1)]('ui',_0x3db630(0x96))?_0x3db630(0xf8):_0x3db630(0x106),Vetools[_0x3db630(0xd9)],{'filterTypes':[UtilDataSource['SOURCE_TYP_OFFICIAL_ALL']],'isDefault':!![]}),new UtilDataSource[(_0x3db630(0xe5))](_0x3db630(0xde),'',{'filterTypes':[UtilDataSource[_0x3db630(0xda)]]}),new UtilDataSource[(_0x3db630(0xa4))]('Upload\x20File',{'filterTypes':[UtilDataSource[_0x3db630(0xda)]]}),...await this[_0x3db630(0xe9)]()];}[_0xf0e0f4(0xf1)](){const _0x2a2592=_0xf0e0f4,_0x12ba5e={...super[_0x2a2592(0xf1)](),'cols':[{'name':_0x2a2592(0x95),'width':0x4,'field':_0x2a2592(0xe3)},{'name':'Skills','width':0x6,'field':_0x2a2592(0xac)},{'name':_0x2a2592(0x103),'width':0x1,'field':'source','titleProp':_0x2a2592(0x8a),'displayProp':_0x2a2592(0xe8),'classNameProp':'sourceClassName','styleProp':_0x2a2592(0x89),'rowClassName':_0x2a2592(0x8b)}],'rows':this[_0x2a2592(0x93)][_0x2a2592(0xd5)]((_0xc83db8,_0x403a27)=>{const _0xb05cb6=_0x2a2592;return this['_pageFilter']['constructor'][_0xb05cb6(0xe4)](_0xc83db8),{'name':_0xc83db8[_0xb05cb6(0xe3)],'skills':_0xc83db8['_skillDisplay'],'source':_0xc83db8[_0xb05cb6(0x82)],'sourceShort':Parser[_0xb05cb6(0xb7)](_0xc83db8[_0xb05cb6(0x82)]),'sourceLong':Parser['sourceJsonToFull'](_0xc83db8[_0xb05cb6(0x82)]),'sourceClassName':Parser[_0xb05cb6(0xfe)](_0xc83db8[_0xb05cb6(0x82)]),'sourceStyle':BrewUtil2[_0xb05cb6(0x104)](_0xc83db8[_0xb05cb6(0x82)]),'ix':_0x403a27};})};return this[_0x2a2592(0xc2)]&&(_0x12ba5e['isRadio']=!![]),_0x12ba5e;}[_0xf0e0f4(0xd2)](){const _0x4a7be0=_0xf0e0f4;this[_0x4a7be0(0xd8)][_0x4a7be0(0x88)](this[_0x4a7be0(0x93)],{'fnGetName':_0x405f67=>_0x405f67['name'],'fnGetValues':_0x2e2d1d=>({'source':_0x2e2d1d[_0x4a7be0(0x82)],'skills':_0x2e2d1d[_0x4a7be0(0xa2)],'normalisedTime':_0x2e2d1d['_normalisedTime'],'normalisedRange':_0x2e2d1d[_0x4a7be0(0xc9)],'hash':UrlUtil[_0x4a7be0(0xae)][this['_page']](_0x2e2d1d)}),'fnGetData':UtilList2[_0x4a7be0(0x98)],'fnBindListeners':_0x24be3b=>this[_0x4a7be0(0xc2)]?UtilList2['absorbFnBindListenersRadio'](this['_list'],_0x24be3b):UtilList2[_0x4a7be0(0x81)](this[_0x4a7be0(0xd8)],_0x24be3b)});}async[_0xf0e0f4(0xd3)](_0xc2d6cb){const _0x3b37e4=_0xf0e0f4;await super[_0x3b37e4(0xd3)](_0xc2d6cb),this[_0x3b37e4(0xb2)]=new ModalFilterBackgroundsFvtt({'namespace':'ImportListBackground.customFeatures','isRadio':!![],'allData':this['_content']}),await this['_modalFilterBackgrounds'][_0x3b37e4(0xf9)]();}async[_0xf0e0f4(0x83)](_0x550da7,_0x3fd464){const _0x175bb7=_0xf0e0f4;_0x3fd464=_0x3fd464||{},console[_0x175bb7(0x9d)](...LGT,'Importing\x20background\x20\x22'+_0x550da7[_0x175bb7(0xe3)]+_0x175bb7(0xbc)+Parser[_0x175bb7(0xb7)](_0x550da7[_0x175bb7(0x82)])+'\x22)');if(_0x3fd464[_0x175bb7(0x85)])return this[_0x175bb7(0xd4)](_0x550da7,_0x3fd464);if(this[_0x175bb7(0xc2)])return this['_pImportEntry_pImportToActor'](_0x550da7,_0x3fd464);return this[_0x175bb7(0xd4)](_0x550da7,_0x3fd464);}async[_0xf0e0f4(0x8e)](_0x1fd392,_0x3fc1d2){const _0x2ddfcd=_0xf0e0f4,_0x265596={'data':{}},_0x4404a9=new ImportListBackground[(_0x2ddfcd(0xfa))]({'fluff':await Renderer[_0x2ddfcd(0xa8)][_0x2ddfcd(0xbe)](_0x1fd392)});await this[_0x2ddfcd(0x101)]({'bg':_0x1fd392,'dataBuilderOpts':_0x4404a9});if(_0x4404a9[_0x2ddfcd(0x91)])return ImportSummary[_0x2ddfcd(0x90)]();const _0x86ff57=_0x1fd392[_0x2ddfcd(0xb4)]??await Charactermancer_Background_Features[_0x2ddfcd(0xf4)]({'background':_0x1fd392,'modalFilter':this[_0x2ddfcd(0xb2)],'isUnskippable':!![]});if(!_0x86ff57)return ImportSummary[_0x2ddfcd(0x90)]();const {data:{background:_0x546419}}=_0x86ff57;await this['_pImportEntry_pFillProficiencies'](_0x546419,_0x265596['data'],_0x4404a9);if(_0x4404a9['isCancelled'])return ImportSummary['cancelled']();await this[_0x2ddfcd(0xa1)](_0x546419,_0x265596,_0x4404a9);if(_0x4404a9[_0x2ddfcd(0x91)])return ImportSummary[_0x2ddfcd(0x90)]();await this[_0x2ddfcd(0x8c)]({'entity':_0x546419,'dataBuilderOpts':_0x4404a9});if(_0x4404a9[_0x2ddfcd(0x91)])return;await this[_0x2ddfcd(0xb1)](_0x546419,_0x265596,_0x86ff57,_0x4404a9);if(_0x4404a9['isCancelled'])return ImportSummary[_0x2ddfcd(0x90)]();const _0x4f1106=await this[_0x2ddfcd(0xbb)](_0x1fd392,_0x4404a9);if(_0x4404a9[_0x2ddfcd(0x91)])return ImportSummary[_0x2ddfcd(0x90)]();if(_0x4f1106?.[_0x2ddfcd(0x8f)]?.[_0x2ddfcd(0x9b)])MiscUtil[_0x2ddfcd(0xb3)](_0x265596,_0x2ddfcd(0x8f),_0x2ddfcd(0x9b),_0x4f1106['data']['currency']);await UtilDocuments['pUpdateDocument'](this[_0x2ddfcd(0xc2)],_0x265596),await Charactermancer_StartingEquipment[_0x2ddfcd(0xf3)](this[_0x2ddfcd(0xc2)],_0x4f1106),await this[_0x2ddfcd(0xec)](_0x546419,_0x3fc1d2,_0x4404a9);if(_0x4404a9[_0x2ddfcd(0x91)])return ImportSummary[_0x2ddfcd(0x90)]();if(this['_actor'][_0x2ddfcd(0xa0)])this[_0x2ddfcd(0xc2)][_0x2ddfcd(0xfd)]['render']();return new ImportSummary({'status':UtilApplications[_0x2ddfcd(0xd6)],'imported':[new ImportedDocument({'name':_0x1fd392[_0x2ddfcd(0xe3)],'actor':this['_actor']})]});}async[_0xf0e0f4(0x101)]({bg:_0x120889,dataBuilderOpts:_0x469be4}){const _0x4b2335=_0xf0e0f4;if(this[_0x4b2335(0xb2)])return;if(_0x120889[_0x4b2335(0xb4)])return;const _0x40ebfe=await this[_0x4b2335(0xdf)](),_0x256351=new AppSourceSelectorMulti({'title':_0x4b2335(0xb0),'filterNamespace':_0x4b2335(0x86),'savedSelectionKey':'ImportListBackground_savedSelection','sourcesToDisplay':_0x40ebfe,'props':this[_0x4b2335(0xdc)],'page':this[_0x4b2335(0xdd)],'isDedupable':this[_0x4b2335(0x97)]}),_0x4a0e40=await _0x256351['pWaitForUserInput']();if(_0x4a0e40==null)return _0x469be4[_0x4b2335(0x91)]=!![];this[_0x4b2335(0xb2)]=new ModalFilterBackgroundsFvtt({'namespace':_0x4b2335(0xf5),'isRadio':!![],'allData':_0x4a0e40}),await this[_0x4b2335(0xb2)][_0x4b2335(0xf9)]();}async[_0xf0e0f4(0xbb)](_0x5eb257,_0x4c6495){const _0x4de7b7=_0xf0e0f4;if(!_0x5eb257[_0x4de7b7(0xfb)])return;const _0x318c8b={'defaultData':_0x5eb257[_0x4de7b7(0xfb)]},_0xe2b43e=new Charactermancer_StartingEquipment({'actor':this[_0x4de7b7(0xc2)],'startingEquipment':_0x318c8b,'appSubTitle':_0x5eb257['name'],'equiSpecialSource':_0x5eb257['source'],'equiSpecialPage':_0x5eb257['page']}),_0x11a481=await _0xe2b43e[_0x4de7b7(0xf6)]();if(_0x11a481==null)return _0x4c6495['isCancelled']=!![],null;return _0x11a481;}['_pImportEntry_pImportToDirectoryGeneric_pGetImportableData'](_0xbb01a5,_0x4e74d6){return DataConverterBackground['pGetBackgroundItem'](_0xbb01a5,_0x4e74d6);}async[_0xf0e0f4(0xab)](_0x534699,_0x5fe958,_0xf10cdb){const _0x224d4b=_0xf0e0f4,_0x1d5fb6=!_0x534699[_0x224d4b(0xc8)]&&await InputUiUtil[_0x224d4b(0xb9)]({'title':'Customize\x20Background:\x20Skills','htmlDescription':_0x224d4b(0xbf)+Renderer[_0x224d4b(0xc1)]()[_0x224d4b(0xe7)](_0x224d4b(0xaf))+_0x224d4b(0xc7),'textNo':_0x224d4b(0x94),'textYes':_0x224d4b(0xea)});_0xf10cdb[_0x224d4b(0xb5)]=_0xf10cdb['isCustomize']||!!_0x1d5fb6;_0x1d5fb6?await DataConverter['pFillActorSkillData'](MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),'data',_0x224d4b(0xac)),UtilActors[_0x224d4b(0xcd)],_0x5fe958,_0xf10cdb):await DataConverter[_0x224d4b(0xba)](MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),_0x224d4b(0x8f),'skills'),_0x534699[_0x224d4b(0xa6)],_0x5fe958,_0xf10cdb);if(_0xf10cdb[_0x224d4b(0x91)])return;const _0x1f266a=!_0x534699[_0x224d4b(0xe0)]&&await InputUiUtil['pGetUserBoolean']({'title':'Customize\x20Background:\x20Languages\x20&\x20Tools','htmlDescription':_0x224d4b(0xbf)+Renderer[_0x224d4b(0xc1)]()[_0x224d4b(0xe7)](_0x224d4b(0xca))+_0x224d4b(0xc7),'textNo':'Use\x20Default','textYes':_0x224d4b(0xea)});_0xf10cdb[_0x224d4b(0xb5)]=_0xf10cdb[_0x224d4b(0xb5)]||!!_0x1f266a;if(_0x1f266a)await DataConverter[_0x224d4b(0x9e)](MiscUtil['get'](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),'data',_0x224d4b(0xc5),'languages'),MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),_0x224d4b(0x8f),'traits','toolProf'),UtilActors['LANG_TOOL_PROFS_CUSTOMIZE'],_0x5fe958,_0xf10cdb);else{await DataConverter['pFillActorLanguageData'](MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),_0x224d4b(0x8f),_0x224d4b(0xc5),_0x224d4b(0xe2)),_0x534699['languageProficiencies'],_0x5fe958,_0xf10cdb);if(_0xf10cdb[_0x224d4b(0x91)])return;_0xf10cdb[_0x224d4b(0x91)]=await DataConverter[_0x224d4b(0x87)](MiscUtil['get'](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),'data','traits',_0x224d4b(0xc3)),_0x534699[_0x224d4b(0x108)],_0x5fe958);if(_0xf10cdb['isCancelled'])return;}await DataConverter[_0x224d4b(0xc6)](MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),_0x224d4b(0x8f),_0x224d4b(0xc5),_0x224d4b(0xef)),_0x534699['armorProficiencies'],_0x5fe958,_0xf10cdb);if(_0xf10cdb[_0x224d4b(0x91)])return;await DataConverter[_0x224d4b(0xf7)](MiscUtil[_0x224d4b(0xc1)](this['_actor'],_0x224d4b(0x8f),_0x224d4b(0x8f),_0x224d4b(0xc5),_0x224d4b(0xad)),_0x534699[_0x224d4b(0x80)],_0x5fe958,_0xf10cdb);if(_0xf10cdb[_0x224d4b(0x91)])return;await DataConverter[_0x224d4b(0xf2)](MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),_0x224d4b(0x8f),_0x224d4b(0xc5),'di'),_0x534699[_0x224d4b(0xfc)],_0x5fe958,_0xf10cdb);if(_0xf10cdb[_0x224d4b(0x91)])return;await DataConverter['pFillActorResistanceData'](MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],'data','data',_0x224d4b(0xc5),'dr'),_0x534699[_0x224d4b(0x9a)],_0x5fe958,_0xf10cdb);if(_0xf10cdb['isCancelled'])return;await DataConverter['pFillActorVulnerabilityData'](MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],'data',_0x224d4b(0x8f),_0x224d4b(0xc5),'dv'),_0x534699[_0x224d4b(0xd7)],_0x5fe958,_0xf10cdb);if(_0xf10cdb[_0x224d4b(0x91)])return;await DataConverter['pFillActorConditionImmunityData'](MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),_0x224d4b(0x8f),_0x224d4b(0xc5),'ci'),_0x534699[_0x224d4b(0xcb)],_0x5fe958,_0xf10cdb);if(_0xf10cdb['isCancelled'])return;await DataConverter['pFillActorExpertiseData']({'existingProficienciesSkills':MiscUtil[_0x224d4b(0xc1)](this[_0x224d4b(0xc2)],_0x224d4b(0x8f),_0x224d4b(0x8f),_0x224d4b(0xac)),'existingProficienciesTools':MiscUtil['get'](this['_actor'],_0x224d4b(0x8f),_0x224d4b(0x8f),_0x224d4b(0xc5),_0x224d4b(0xc3)),'expertise':_0x534699[_0x224d4b(0xb8)],'actorData':_0x5fe958,'importOpts':_0xf10cdb});}async[_0xf0e0f4(0xa1)](_0x3550c8,_0x271186,_0x408d4c){const _0x2a911e=_0xf0e0f4;if(_0x3550c8[_0x2a911e(0x9f)])return;Charactermancer_Background_Characteristics[_0x2a911e(0x84)](_0x271186,this[_0x2a911e(0xc2)]);if(_0x3550c8[_0x2a911e(0x105)])return Charactermancer_Background_Characteristics[_0x2a911e(0x107)](_0x271186,_0x3550c8[_0x2a911e(0x105)]);await Charactermancer_Background_Characteristics['pFillActorCharacteristicsData'](_0x3550c8['entries'],_0x271186,_0x408d4c);}async[_0xf0e0f4(0xb1)](_0x8a7709,_0x3ed44c,_0x271146,_0x31c629){const _0x751ca2=_0xf0e0f4;await UtilDataConverter[_0x751ca2(0xdb)](async()=>{const _0x196ef3=_0x751ca2;_0x31c629[_0x196ef3(0xb5)]=_0x31c629[_0x196ef3(0xb5)]||_0x271146[_0x196ef3(0x8f)]?.['isCustomize'],_0x31c629[_0x196ef3(0x92)][_0x196ef3(0xe1)](await DataConverterBackground[_0x196ef3(0xe6)](_0x8a7709,{'actor':this[_0x196ef3(0xc2)],'fluff':_0x31c629[_0x196ef3(0xaa)]}));for(const _0x4c971e of _0x271146?.[_0x196ef3(0x8f)]?.[_0x196ef3(0xa5)]||[]){_0x31c629[_0x196ef3(0x92)][_0x196ef3(0xe1)](await DataConverterBackground['pGetBackgroundFeatureItem'](_0x8a7709,_0x4c971e,this[_0x196ef3(0xc2)],_0x31c629));}},{'actorId':this[_0x751ca2(0xc2)]['id']});if(_0x31c629['isCancelled'])return;const _0xc7dc36=await UtilActors[_0x751ca2(0x99)](this['_actor'],_0x31c629[_0x751ca2(0x92)]),[_0x1eac53,..._0x20b7c0]=_0xc7dc36;await UtilAdvancements['pAddAdvancementLinks']({'actor':this['_actor'],'parentEmbeddedDocument':_0x1eac53[_0x751ca2(0xf0)],'childLevelledEmbeddedDocuments':_0x20b7c0[_0x751ca2(0xd5)](_0x4ad595=>new UtilAdvancements[(_0x751ca2(0xcc))]({'embeddedDocument':_0x4ad595[_0x751ca2(0xf0)]}))});}}ImportListBackground[_0xf0e0f4(0xfa)]=class extends ImportListCharacter[_0xf0e0f4(0xfa)]{constructor(_0x203205){const _0x22ff96=_0xf0e0f4;_0x203205=_0x203205||{},super(_0x203205),this[_0x22ff96(0xaa)]=_0x203205[_0x22ff96(0xaa)],this[_0x22ff96(0xb5)]=![];}};export{ImportListBackground};