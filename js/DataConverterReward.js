const _0x4827b3=_0x51cf;(function(_0x4bb226,_0x1554ed){const _0x1a73d1=_0x51cf,_0x36a7aa=_0x4bb226();while(!![]){try{const _0x57bba5=-parseInt(_0x1a73d1(0x87))/0x1*(parseInt(_0x1a73d1(0x9e))/0x2)+-parseInt(_0x1a73d1(0x83))/0x3*(parseInt(_0x1a73d1(0xa8))/0x4)+parseInt(_0x1a73d1(0x93))/0x5*(parseInt(_0x1a73d1(0xa3))/0x6)+parseInt(_0x1a73d1(0xa7))/0x7*(parseInt(_0x1a73d1(0x8c))/0x8)+parseInt(_0x1a73d1(0x6e))/0x9*(parseInt(_0x1a73d1(0x8a))/0xa)+-parseInt(_0x1a73d1(0x77))/0xb*(parseInt(_0x1a73d1(0x7b))/0xc)+parseInt(_0x1a73d1(0x79))/0xd*(-parseInt(_0x1a73d1(0xa4))/0xe);if(_0x57bba5===_0x1554ed)break;else _0x36a7aa['push'](_0x36a7aa['shift']());}catch(_0x5154d4){_0x36a7aa['push'](_0x36a7aa['shift']());}}}(_0x1d71,0xbeeb2));import{UtilApplications}from'./UtilApplications.js';function _0x1d71(){const _0x5d4abf=['477080lDgKBv','length','isActorItem','10GoEwyK','importReward','9723856mbQwAD','_getRewardFlags','setImplSideData','get','pHasRewardSideLoadedEffects','_pGetEffectsSideLoaded','getCleanEntityName','4325jWatOu','entries','mutEffectsDisabledTransfer','pInitRewardLoadeds','getExpandedEffects','_SIDE_DATA','_pGetFlagsSideLoaded','foundryReward','getSourceWithPagePart','MODULE_NAME_FAKE','isAddDataFlags','2JLQVIM','_pGetPreloadSideData','pGetRewardItemEffects','getNameWithSourcePart','_pGetSideLoadedMatch','8508CiiiVY','1209628OcKdAS','reward','pMutActorUpdateReward','7zlUFFX','24gwCodC','10824120OsAwoY','propDroppable','_SIDE_LOAD_OPTS','mutActorUpdate','permission','pGetDereferencedRewardFeatureItem','actor','pGetRewardSideData','pGetInitRewardFeatureLoadeds','66nvhoKi','pGetSideLoadedMatch','13WKKLEa','source','2759940uQCInm','_pGetEffectsRawSideLoaded_','URL_TO_HASH_BUILDER','PG_REWARDS','filterValues','permissions','feat','defaultPermission','459639ydKdWZ','copy','hover','pCacheAndGet'];_0x1d71=function(){return _0x5d4abf;};return _0x1d71();}import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';function _0x51cf(_0x36614a,_0x32336b){const _0x1d712a=_0x1d71();return _0x51cf=function(_0x51cf0d,_0x40e4bd){_0x51cf0d=_0x51cf0d-0x6e;let _0x235880=_0x1d712a[_0x51cf0d];return _0x235880;},_0x51cf(_0x36614a,_0x32336b);}import{Vetools}from'./Vetools.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{DataConverterFeature}from'./DataConverterFeature.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{DataConverter}from'./DataConverter.js';class DataConverterReward extends DataConverterFeature{static ['_SIDE_LOAD_OPTS']={'propBrew':_0x4827b3(0x9a),'fnLoadJson':async()=>this[_0x4827b3(0x9f)](),'propJson':_0x4827b3(0xa5)};static['init'](){const _0x438b08=_0x4827b3;PageFilterClassesFoundry[_0x438b08(0x8e)](_0x438b08(0xa5),this);}static async[_0x4827b3(0x73)](_0x21e76d){const _0x264262=_0x4827b3;if(_0x21e76d[_0x264262(0x94)])return MiscUtil[_0x264262(0x84)](_0x21e76d);const _0x4120d7=UrlUtil[_0x264262(0x7d)][UrlUtil['PG_REWARDS']](_0x21e76d);return Renderer[_0x264262(0x85)][_0x264262(0x86)](UrlUtil[_0x264262(0x7e)],_0x21e76d[_0x264262(0x7a)],_0x4120d7,{'isCopy':!![]});}static async[_0x4827b3(0x76)](_0x2c2e43,{actor:actor=null}={}){const _0x2a746=_0x4827b3,_0x15f144={'reward':_0x2c2e43['name']+'|'+_0x2c2e43[_0x2a746(0x7a)]};return await PageFilterClassesFoundry[_0x2a746(0x96)]({'reward':_0x15f144,'raw':_0x2c2e43,'actor':actor}),_0x15f144;}static async['pGetRewardItem'](_0x698df4,_0x2264d2){const _0x1cf3a7=_0x4827b3;_0x2264d2=_0x2264d2||{};if(_0x2264d2[_0x1cf3a7(0x74)])_0x2264d2['isActorItem']=!![];const _0x3b6cc4=await this['_pGetGenericDescription'](_0x698df4,_0x1cf3a7(0x8b)),_0x3402ab=await this['_pGetSaveImagePath'](_0x698df4,{'propCompendium':_0x1cf3a7(0xa5)}),_0x450209=await this['_pGetDataSideLoaded'](_0x698df4),_0x3686ed=await this[_0x1cf3a7(0x99)](_0x698df4),_0x218f34=_0x2264d2[_0x1cf3a7(0x89)]?[]:await this[_0x1cf3a7(0x91)]({'ent':_0x698df4,'img':_0x3402ab});DataConverter[_0x1cf3a7(0x95)](_0x218f34,_0x1cf3a7(0x8b));const _0x46b545={'name':UtilApplications[_0x1cf3a7(0x92)](UtilDataConverter[_0x1cf3a7(0xa1)](_0x698df4,{'isActorItem':_0x2264d2[_0x1cf3a7(0x89)]})),'data':{'source':UtilDataConverter[_0x1cf3a7(0x9b)](_0x698df4),'description':{'value':_0x3b6cc4,'chat':'','unidentified':''},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':0x0,'units':''},'target':{'value':0x0,'units':'','type':''},'range':{'value':0x0,'long':0x0,'units':null},'uses':{'value':0x0,'max':0x0,'per':''},'ability':'','actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null},'requirements':'','recharge':{'value':0x0,'charged':!![]},..._0x450209},'permission':{'default':0x0},'type':_0x1cf3a7(0x81),'img':_0x3402ab,'flags':{...this[_0x1cf3a7(0x8d)](_0x698df4,_0x2264d2),..._0x3686ed},'effects':_0x218f34};if(_0x2264d2[_0x1cf3a7(0x82)]!=null)_0x46b545[_0x1cf3a7(0x72)]={'default':_0x2264d2[_0x1cf3a7(0x82)]};else{if(_0x2264d2['isAddPermission'])_0x46b545[_0x1cf3a7(0x72)]={'default':Config[_0x1cf3a7(0x8f)](_0x1cf3a7(0x8b),_0x1cf3a7(0x80))};}return _0x46b545;}static async[_0x4827b3(0xa6)](_0x3cccf2,_0x49ccde,_0x642ff2,_0x3a4d34){const _0x17211f=_0x4827b3,_0xa51617=await this[_0x17211f(0x78)](_0x642ff2);this[_0x17211f(0x71)](_0x3cccf2,_0x49ccde,_0x642ff2,{'sideData':_0xa51617});}static[_0x4827b3(0x8d)](_0xb6e6e5,_0x4a44c6){const _0x431cea=_0x4827b3;_0x4a44c6=_0x4a44c6||{};const _0x2228eb={[SharedConsts[_0x431cea(0x9c)]]:{'page':UrlUtil[_0x431cea(0x7e)],'source':_0xb6e6e5['source'],'hash':UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x431cea(0x7e)]](_0xb6e6e5)}};return _0x4a44c6[_0x431cea(0x9d)]&&(_0x2228eb[SharedConsts['MODULE_NAME_FAKE']][_0x431cea(0x6f)]=_0x431cea(0xa5),_0x2228eb[SharedConsts['MODULE_NAME_FAKE']][_0x431cea(0x7f)]=_0x4a44c6[_0x431cea(0x7f)]),_0x2228eb;}static async[_0x4827b3(0x78)](_0x51fe79){const _0x2896ee=_0x4827b3;return this[_0x2896ee(0xa2)](_0x51fe79,this[_0x2896ee(0x70)]);}static async[_0x4827b3(0x90)](_0x421e6a,_0x5a3404){const _0x3475f0=_0x4827b3;return(await this['_pGetEffectsRawSideLoaded_'](_0x5a3404,this['_SIDE_LOAD_OPTS']))?.[_0x3475f0(0x88)]>0x0;}static async[_0x4827b3(0xa0)](_0x54bb2d,_0x27d371,_0xd8e2de,{additionalData:_0x2ab081,img:_0x438687}={}){const _0x3626ba=_0x4827b3,_0x1f8aa3=await this[_0x3626ba(0x7c)](_0x27d371,{'propBrew':_0x3626ba(0x9a),'fnLoadJson':Vetools[_0x3626ba(0x75)],'propJson':_0x3626ba(0xa5)});return UtilActiveEffects[_0x3626ba(0x97)](_0x1f8aa3||[],{'actor':_0x54bb2d,'sheetItem':_0xd8e2de,'parentName':_0x27d371['name'],'additionalData':_0x2ab081,'img':_0x438687});}static async['_pGetPreloadSideData'](){const _0x41549e=_0x4827b3;if(!this['_SIDE_DATA'])this[_0x41549e(0x98)]=await Vetools[_0x41549e(0x75)]();return this[_0x41549e(0x98)];}}export{DataConverterReward};