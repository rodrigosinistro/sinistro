const _0x108f3e=_0x242f;function _0x4c5c(){const _0x49eab8=['rolled_rollCount','1190775FsJlmT','then','_doSavePbRules','join','push','_tabAbilities','compRace','18lbvebl','6809DNTDRD','addHookPulseAsi','addHookIxRace','form-control--error','_STORAGE_KEY__PB_CUSTOM','addHookPointBuyCustom','getBaseAbilityScores','compStatgen','30xFvTbP','result','class_totalLevels','_parent','$wrpTab','79945QOxSQj','ixRace','_actor','actor_charactermancer_ability','addHookAbilityScores','_state','setStateFrom','toMessage','pSetWorldThenClient','race_ixRace','class_getProps','setAdditionalFeatStateFromStatgen_','_data','1234036MknQiz','rolled_formula','addHookBase','actor','getCurrentLevel','map','ascSort','modalFilterRaces','bind','8Exrenk','12IXUcVA','63781BnIvET','_getExistingScores','getClass_','compClass','getClientThenWorld','total','32808oBEfpU','653884fXarIS','evaluate','render','data','terms','_getDefaultState','addClass','feat','class_ixMax','_roll_getRolledStats','getMode','_compStatgen','getSaveableStatePointBuyCustom','state','modalFilterFeats','sort','tabAbilities','parent','constructor','993546Rozbhc','compFeat'];_0x4c5c=function(){return _0x49eab8;};return _0x4c5c();}function _0x242f(_0x3dc64f,_0x33d328){const _0x4c5c9b=_0x4c5c();return _0x242f=function(_0x242f07,_0x2f3bc8){_0x242f07=_0x242f07-0x92;let _0x293eaf=_0x4c5c9b[_0x242f07];return _0x293eaf;},_0x242f(_0x3dc64f,_0x33d328);}(function(_0x46efe8,_0x7214cd){const _0x1e06c6=_0x242f,_0x52da75=_0x46efe8();while(!![]){try{const _0x2543bc=-parseInt(_0x1e06c6(0xd7))/0x1*(parseInt(_0x1e06c6(0xd6))/0x2)+-parseInt(_0x1e06c6(0xaa))/0x3+-parseInt(_0x1e06c6(0xcc))/0x4+-parseInt(_0x1e06c6(0xbf))/0x5*(-parseInt(_0x1e06c6(0xb1))/0x6)+parseInt(_0x1e06c6(0x94))/0x7*(-parseInt(_0x1e06c6(0xd5))/0x8)+parseInt(_0x1e06c6(0xa7))/0x9*(-parseInt(_0x1e06c6(0xba))/0xa)+parseInt(_0x1e06c6(0xb2))/0xb*(parseInt(_0x1e06c6(0x93))/0xc);if(_0x2543bc===_0x7214cd)break;else _0x52da75['push'](_0x52da75['shift']());}catch(_0x4233b9){_0x52da75['push'](_0x52da75['shift']());}}}(_0x4c5c,0x3790f));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';import{GameStorage}from'./GameStorage.js';class StatGenUiCharactermancer extends StatGenUi{[_0x108f3e(0x9d)](){const _0x25c0de=_0x108f3e;try{const _0x485cca=new Roll(this[_0x25c0de(0xc4)]['rolled_formula']);_0x485cca[_0x25c0de(0x95)]({'async':![]});}catch(_0x304bbd){return this['_$rollIptFormula'][_0x25c0de(0x9a)](_0x25c0de(0xb5));}const _0x29dbe6=[];for(let _0x5281e2=0x0;_0x5281e2<this[_0x25c0de(0xc4)][_0x25c0de(0xa9)];_0x5281e2++){const _0x3f2a50=new Roll(this[_0x25c0de(0xc4)][_0x25c0de(0xcd)]);_0x3f2a50[_0x25c0de(0x95)]({'async':![]}),_0x29dbe6[_0x25c0de(0xae)](_0x3f2a50),_0x3f2a50[_0x25c0de(0xc6)]()[_0x25c0de(0xab)](null);}return _0x29dbe6[_0x25c0de(0xa3)]((_0x75503a,_0x427276)=>SortUtil[_0x25c0de(0xd2)](_0x427276[_0x25c0de(0x92)],_0x75503a[_0x25c0de(0x92)])),_0x29dbe6[_0x25c0de(0xd1)](_0x47095e=>({'total':_0x47095e[_0x25c0de(0x92)],'text':(_0x47095e?.[_0x25c0de(0x98)]||[])['map'](_0x22650d=>(_0x22650d?.['results']||[])['map'](_0x53c434=>'['+(_0x53c434[_0x25c0de(0xbb)]||'â€’')+']')[_0x25c0de(0xad)]('+'))}));}}class ActorCharactermancerAbility extends ActorCharactermancerBaseComponent{static [_0x108f3e(0xb6)]=_0x108f3e(0xc2);constructor(_0x7ec71d){const _0x5ee7a1=_0x108f3e;_0x7ec71d=_0x7ec71d||{},super(),this['_actor']=_0x7ec71d[_0x5ee7a1(0xcf)],this[_0x5ee7a1(0xcb)]=_0x7ec71d[_0x5ee7a1(0x97)],this[_0x5ee7a1(0xbd)]=_0x7ec71d[_0x5ee7a1(0xa5)],this['_tabAbilities']=_0x7ec71d[_0x5ee7a1(0xa4)],this[_0x5ee7a1(0x9f)]=null;}get[_0x108f3e(0xb9)](){const _0x4f530a=_0x108f3e;return this[_0x4f530a(0x9f)];}['addHookAbilityScores'](..._0x253815){const _0x50610f=_0x108f3e;return this[_0x50610f(0x9f)][_0x50610f(0xc3)](..._0x253815);}[_0x108f3e(0x9e)](..._0x529412){const _0x2a42b0=_0x108f3e;return this[_0x2a42b0(0x9f)]['getMode'](..._0x529412);}['getTotals'](..._0x92ac52){return this['_compStatgen']['getTotals'](..._0x92ac52);}[_0x108f3e(0x96)](){const _0x218b40=_0x108f3e,_0x228fff=this[_0x218b40(0xaf)]?.[_0x218b40(0xbe)];if(!_0x228fff)return;this['_compStatgen']=new StatGenUiCharactermancer({'isCharacterMode':!![],'isFvttMode':!![],'races':this['_data']['race'],'feats':this[_0x218b40(0xcb)][_0x218b40(0x9b)],'modalFilterRaces':this['_parent'][_0x218b40(0xb0)][_0x218b40(0xd3)],'modalFilterFeats':this[_0x218b40(0xbd)][_0x218b40(0xa8)][_0x218b40(0xa2)],'existingScores':this[_0x218b40(0xd8)]()});const _0x2af66c=GameStorage[_0x218b40(0xdb)](this[_0x218b40(0xa6)][_0x218b40(0xb6)]);if(_0x2af66c!=null)this['_compStatgen'][_0x218b40(0xc5)](_0x2af66c);const _0x4af515=MiscUtil['throttle'](this[_0x218b40(0xac)][_0x218b40(0xd4)](this),0x64);this[_0x218b40(0x9f)][_0x218b40(0xb7)](_0x4af515),this[_0x218b40(0x9f)]['render'](_0x228fff);const _0x155d4b=()=>{const _0x410f01=_0x218b40;let _0x395027=0x0;for(let _0x2a0f7f=0x0;_0x2a0f7f<this[_0x410f01(0xbd)][_0x410f01(0xda)][_0x410f01(0xa1)][_0x410f01(0x9c)]+0x1;++_0x2a0f7f){const {propIxClass:_0x56ae3a,propCntAsi:_0x359e98}=ActorCharactermancerBaseComponent[_0x410f01(0xc9)](_0x2a0f7f),_0x174121=this[_0x410f01(0xbd)]['compClass'][_0x410f01(0xd9)]({'propIxClass':_0x56ae3a});if(!_0x174121)continue;_0x395027+=Number(this[_0x410f01(0xbd)]['compClass'][_0x410f01(0xa1)][_0x359e98])||0x0;}this[_0x410f01(0x9f)]['common_cntAsi']=_0x395027;};this[_0x218b40(0xbd)][_0x218b40(0xda)][_0x218b40(0xce)]('class_pulseChange',_0x155d4b),this[_0x218b40(0xbd)][_0x218b40(0xda)][_0x218b40(0xce)](_0x218b40(0xbc),_0x155d4b),_0x155d4b();const _0x12d1ea=()=>this['_parent']['compFeat'][_0x218b40(0xca)]();this[_0x218b40(0x9f)][_0x218b40(0xb3)](_0x12d1ea),_0x12d1ea();const _0x57b3cd=()=>this[_0x218b40(0xbd)][_0x218b40(0xb0)][_0x218b40(0xa1)][_0x218b40(0xc8)]=this['_compStatgen'][_0x218b40(0xc0)];this[_0x218b40(0x9f)][_0x218b40(0xb4)](_0x57b3cd);const _0x2a9eb6=()=>this[_0x218b40(0x9f)][_0x218b40(0xc0)]=this['_parent'][_0x218b40(0xb0)][_0x218b40(0xa1)][_0x218b40(0xc8)];this[_0x218b40(0xbd)][_0x218b40(0xb0)][_0x218b40(0xce)](_0x218b40(0xc8),_0x2a9eb6),_0x2a9eb6();}['_doSavePbRules'](){const _0x22e061=_0x108f3e,_0x2e0d92=this[_0x22e061(0x9f)][_0x22e061(0xa0)]();GameStorage[_0x22e061(0xc7)](this[_0x22e061(0xa6)][_0x22e061(0xb6)],_0x2e0d92)[_0x22e061(0xab)](null);}[_0x108f3e(0xd8)](){const _0xcebafc=_0x108f3e;if(!Charactermancer_Util[_0xcebafc(0xd0)](this['_actor']))return null;return Charactermancer_Util[_0xcebafc(0xb8)](this[_0xcebafc(0xc1)]);}[_0x108f3e(0x99)](){return{};}}export{ActorCharactermancerAbility};