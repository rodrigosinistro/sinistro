function _0x500c(_0x1f740b,_0x3e5631){const _0x25ba47=_0x25ba();return _0x500c=function(_0x500ccc,_0x428e27){_0x500ccc=_0x500ccc-0x17d;let _0x1e7c02=_0x25ba47[_0x500ccc];return _0x1e7c02;},_0x500c(_0x1f740b,_0x3e5631);}const _0x5a6267=_0x500c;(function(_0x3d3935,_0x41b9fa){const _0x21ca11=_0x500c,_0x347bc1=_0x3d3935();while(!![]){try{const _0x17042f=-parseInt(_0x21ca11(0x217))/0x1+-parseInt(_0x21ca11(0x1c0))/0x2*(parseInt(_0x21ca11(0x1cd))/0x3)+parseInt(_0x21ca11(0x1f3))/0x4+parseInt(_0x21ca11(0x21d))/0x5+parseInt(_0x21ca11(0x22a))/0x6+-parseInt(_0x21ca11(0x196))/0x7*(parseInt(_0x21ca11(0x1a8))/0x8)+parseInt(_0x21ca11(0x213))/0x9;if(_0x17042f===_0x41b9fa)break;else _0x347bc1['push'](_0x347bc1['shift']());}catch(_0x5a136c){_0x347bc1['push'](_0x347bc1['shift']());}}}(_0x25ba,0xd2e0f));import{ImportedDocument,ImportList,ImportSummary}from'./ImportList.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Util,LGT}from'./Util.js';import{ImportListCreature}from'./ImportListCreature.js';import{ImportListSpell}from'./ImportListSpell.js';import{UtilApplications}from'./UtilApplications.js';import{ImportListItem}from'./ImportListItem.js';function _0x25ba(){const _0x58395b=['Import\x20Complete','pLoadHash','isExcluded','each','Finalizing','body','getDateStr','_pHandleRunButtonClick','...','MODULE_NAME_FAKE','DataSourceUrl','group','_title','PG_VARIANTRULES','getData','URL_TO_HASH_BUILDER','_isActivatedTab','spell','filter','_groupName','ixChapter','Publication\x20Date\x20(Short)','startsWith','brewDataProp','published','size','unique','_IMPORTABLE_TAGS','input[data-image-group][data-type=\x22all\x22]','constructor','_url','ImportableTag','forEach','title','button[data-type=\x22','Imported\x20','flags','_pLoadInline','Importing\x20','Tables','Failed\x20to\x20pre-process\x20data!\x20','isSkip','_pHandleRunButtonClick_pDoPreImport','journalEntries','_imageType','existing','Failed\x20to\x20finalize!','_pGetJournalDatas','[].contents\x22\x20and\x20\x22','_configGroup','Maps','C_IMPORT_ADVBOOK_JOURNAL_SPLIT_STRATEGY_CHAPTER','Map','tag','copy','pUpdateDocument','_pGetSourcesHomebrew','_fnGetInlineData','image-type','Publication\x20Date\x20(Full)','_imageGroupCbMetas','_pImportEntry_pGetFolderId','_props','sourceJsonToAbv','getAdventureBookTables','vehicleUpgrade','sourceJsonToFull','activateTab','@table','_registerImportableImageType','TASK_EXIT_SKIPPED_DUPLICATE','slice','map','splitByTags','hover','_(\x5cd+)__(\x5cd+)_','pRunTasks','colLabels','displayText','_group','_getExtractedGenericTag','PG_ITEMS','sources','ixFlat','_groupNamePlural','@creature','checked','\x22\x20and\x20\x22','input[data-type=\x22god\x22]','$cb','push','isUseJournalEmbeds','@vehupgrade','Failed\x20to\x20build\x20journal\x20data!\x20','Importing...','559734NNaQsl','[name=\x22btn-run\x22]','_TAG_WALKER_BLACKLIST','_pHandleRunButtonClick_pGetTaskListTags','entryIds','pGetUserEnum','_activateListeners_initConfigButtons','walk','has','\x22\x20was\x20missing!','_HOMEBREW_OTHER_DATA','image-group','@spell','_registerImportableTag','_postLoadVetools','MODULE_LOCATION','log','imageType','152OwgsOQ','baseitem','input[data-image-group][data-image-type]','replace','_tagCbMetas','head','Task','_pLoad_doActivateTab','defaultSource','_brewDataProp','toLowerCase','toTitleCase','Choose\x20','close','data','ascSortLower','EmbedJournalEntry','_activateListeners_initRunButton','@variantrule','sourceJsonToStylePart','getFullYear','itemGroup','activateSidebarTab','mutMapNames','1789604OcGZTK','content','name','_pImportEntry_pDoUpdateExistingDirectoryEntity','count','groupNamePlural','hash','SOURCE_TYP_OFFICIAL_SINGLE','click','IMPORTABLE_TAG_CREATURE','add','_IMPORTABLE_IMAGE_TYPES','journal','3Kzloso','displayName','fnGetInlineHash','imported','sourceLong','length','prop','splitTagByPipe','_defaultSource','Finalized.','folder','sourceJsonToColor','_pHandleRunButtonClick_pDoPostImport','SYM_AT','isOverwrite','_contentMetadata','_extractTag','Variant\x20Rules','item','PG_VEHICLES','_pImportWrappedJournalData','fnGetInlineData','entries','maps','getOrSet','props','__prop','importedId','_fnGetIndex','_tag','sidebar','importer','_pHandleRunButtonClick_pGetTaskListImageGroups','create','monster','fnGetIndex','_activateListeners_initCheckboxes','File\x20did\x20not\x20contain\x20importable\x20data—one\x20of\x20\x22','6322112FVOmgN','_pPostLoadOther','_dataProp','style','getWalker','table','input[data-tag][data-source]','ascSortDate','pImportEntry','_importer','_RunInfo','groupName','_pHandleRunButtonClick_pDoMainImport','pHandleEditFolderPathClick','source','configure-image','pCacheAndGet','Vehicle\x20Upgrades','_content','ImportableImageType','PG_SPELLS','mapPlayer','_availableEntities','find','isRadio','_getData','STR_SEE_CONSOLE','isCancelled','change','_availableMaps','Publication\x20Year','split','1802097YjaJBq','keys','_pLoadGenericHash','_entryIdToMap','426215pQmmWH','_page','_pGetSources','splitFirstSpace','_getAdditionalContentForTag','_availableInlineData','8573540WKNYPf','notifications','href','[].data\x22\x20was\x20missing!','Failed\x20to\x20import\x20','values','_entryIdToName','_displayName','bind','sort','get','FOLDER_TYPE','pInit','1251510rOtpKX','configure-tag','DataSourceFile','PG_TABLES','getFolderPathMeta','JournalEntry','Player\x20Map','_pubDate','_getImportListMap','error'];_0x25ba=function(){return _0x58395b;};return _0x25ba();}import{ImportListRollableTable}from'./ImportListRollableTable.js';import{DataConverter}from'./DataConverter.js';import{UtilDataSource}from'./UtilDataSource.js';import{ImportListVariantRule}from'./ImportListVariantRule.js';import{ImportListVehicleUpgrade}from'./ImportListVehicleUpgrade.js';import{Config}from'./Config.js';import{ConfigConsts}from'./ConfigConsts.js';import{UtilFolders}from'./UtilFolders.js';import{UtilDocuments}from'./UtilDocuments.js';import{UtilAdventureBook}from'./UtilAdventureBook.js';class ImportListAdventureBook extends ImportList{static get[_0x5a6267(0x228)](){const _0xc48b40=_0x5a6267;return _0xc48b40(0x22f);}constructor(_0x8bb585,_0x1d8cb5,_0x4ff648,_0x3990d5){const _0x58c82e=_0x5a6267;super({'title':_0x8bb585['title'],'template':SharedConsts[_0x58c82e(0x1a5)]+'/template/ImportListAdventureBook.hbs','width':0x1e0,'height':Util['getMaxWindowHeight'](0x280),'resizable':!![]},_0x1d8cb5,{..._0x4ff648,'sidebarTab':_0x58c82e(0x1cc),'gameProp':_0x58c82e(0x1cc),'isNonCacheableInstance':!![]}),this[_0x58c82e(0x1e9)]=_0x3990d5[_0x58c82e(0x1f0)],this[_0x58c82e(0x1f5)]=_0x3990d5['dataProp'],this[_0x58c82e(0x1b1)]=_0x3990d5[_0x58c82e(0x24b)],this['_title']=_0x3990d5[_0x58c82e(0x255)],this['_availableEntities']=null,this[_0x58c82e(0x21c)]=null,this[_0x58c82e(0x1ac)]=null,this[_0x58c82e(0x270)]=null,this[_0x58c82e(0x210)]={},this[_0x58c82e(0x216)]={},this[_0x58c82e(0x223)]={};}get[_0x5a6267(0x20b)](){return!![];}async[_0x5a6267(0x219)](){const _0x3f60a2=_0x5a6267,_0x24cf4f=await this['_fnGetIndex'](),_0x59bd7c=_0x24cf4f[this[_0x3f60a2(0x1f5)]][_0x3f60a2(0x226)]((_0x5e53d7,_0x55ed36)=>SortUtil[_0x3f60a2(0x1fa)](_0x55ed36[_0x3f60a2(0x231)],_0x5e53d7[_0x3f60a2(0x231)])||SortUtil[_0x3f60a2(0x1b7)](_0x5e53d7[_0x3f60a2(0x1c2)],_0x55ed36[_0x3f60a2(0x1c2)]));return[..._0x59bd7c[_0x3f60a2(0x17f)](_0x2a0168=>new UtilDataSource['DataSourceUrl'](_0x2a0168[_0x3f60a2(0x1c2)],_0x2a0168[_0x3f60a2(0x252)],{'pPostLoad':this[_0x3f60a2(0x1a4)]['bind'](this),'userData':_0x2a0168,'filterTypes':[UtilDataSource[_0x3f60a2(0x1c7)]],'source':_0x2a0168[_0x3f60a2(0x201)]})),new UtilDataSource[(_0x3f60a2(0x23e))]('Custom\x20URL','',{'pPostLoad':this[_0x3f60a2(0x1f4)][_0x3f60a2(0x225)](this),'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),new UtilDataSource[(_0x3f60a2(0x22c))]('Upload\x20File',{'pPostLoad':this[_0x3f60a2(0x1f4)]['bind'](this),'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),...await this[_0x3f60a2(0x26c)]({'pPostLoad':this[_0x3f60a2(0x1f4)][_0x3f60a2(0x225)](this)})];}[_0x5a6267(0x1a4)](_0x42f85d,_0x2ce2dd,_0x10a8c6){const _0x6cb0c6=_0x5a6267;return _0x42f85d=MiscUtil[_0x6cb0c6(0x26a)](_0x42f85d),_0x42f85d[_0x6cb0c6(0x1dc)]=MiscUtil[_0x6cb0c6(0x26a)](_0x10a8c6),_0x42f85d;}async['_pPostLoadOther'](_0x262599){const _0x2589e6=_0x5a6267;if(!_0x262599[this['_dataProp']]||!_0x262599[this[_0x2589e6(0x1b1)]])return ui[_0x2589e6(0x21e)][_0x2589e6(0x233)](_0x2589e6(0x1f2)+this[_0x2589e6(0x1f5)]+_0x2589e6(0x18e)+this[_0x2589e6(0x1b1)]+_0x2589e6(0x19f)),null;_0x262599=MiscUtil[_0x2589e6(0x26a)](_0x262599);const _0x4838e4=_0x262599[this['_dataProp']][_0x2589e6(0x17f)](_0x57e20e=>{const _0x6aa5df=_0x2589e6,_0x64d9ec=_0x262599[this[_0x6aa5df(0x1b1)]][_0x6aa5df(0x20a)](_0x2e5277=>_0x2e5277['id']===_0x57e20e['id']);if(!_0x64d9ec)return null;return{'head':_0x57e20e,'body':_0x64d9ec[_0x6aa5df(0x1b6)]};})[_0x2589e6(0x246)](Boolean);if(!_0x4838e4[_0x2589e6(0x1d2)])return ui[_0x2589e6(0x21e)][_0x2589e6(0x233)]('File\x20did\x20not\x20contain\x20importable\x20data—could\x20not\x20link\x20any\x20\x22'+this[_0x2589e6(0x1f5)]+_0x2589e6(0x18e)+this[_0x2589e6(0x1b1)]+'\x22\x20items\x20together!'),null;let _0x187de3;if(_0x4838e4[_0x2589e6(0x1d2)]===0x1)_0x187de3=_0x4838e4[0x0];else{const _0x2670d2=await InputUiUtil[_0x2589e6(0x19b)]({'values':_0x4838e4[_0x2589e6(0x17f)](_0x23f3f8=>_0x23f3f8[_0x2589e6(0x1ad)]['id']),'fnDisplay':_0x4b368b=>{const _0x4b6f5a=_0x2589e6,_0x72c1c4=_0x4838e4[_0x4b6f5a(0x20a)](_0x257c06=>_0x257c06[_0x4b6f5a(0x1ad)]['id']===_0x4b368b);return _0x72c1c4[_0x4b6f5a(0x1ad)][_0x4b6f5a(0x1c2)]+'\x20('+Parser['sourceJsonToAbv'](_0x72c1c4[_0x4b6f5a(0x1ad)][_0x4b6f5a(0x201)])+')';},'title':_0x2589e6(0x1b4)+this[_0x2589e6(0x240)],'default':0x0,'isAllowNull':![],'isResolveItem':!![]});if(_0x2670d2==null)return null;_0x187de3=_0x4838e4[_0x2589e6(0x20a)](_0x5c82b0=>_0x5c82b0[_0x2589e6(0x1ad)]['id']===_0x2670d2);}const _0x23a393=MiscUtil[_0x2589e6(0x227)](_0x187de3,_0x2589e6(0x1ad),'contents'),_0x4c7a9f=MiscUtil[_0x2589e6(0x227)](_0x187de3,_0x2589e6(0x239));if(!_0x23a393||!_0x4c7a9f)return ui[_0x2589e6(0x21e)][_0x2589e6(0x233)]('Could\x20not\x20import—one\x20of\x20\x22'+this[_0x2589e6(0x1f5)]+_0x2589e6(0x264)+this[_0x2589e6(0x1b1)]+_0x2589e6(0x220)),null;if(_0x23a393['length']!==_0x4c7a9f['length'])return ui[_0x2589e6(0x21e)][_0x2589e6(0x233)]('Could\x20not\x20import—header\x20and\x20chapter\x20counts\x20differed!'),null;return{'_contentMetadata':_0x187de3[_0x2589e6(0x1ad)],'data':_0x187de3['body']};}[_0x5a6267(0x22e)](){const _0x341b3f=_0x5a6267;return{...super['getFolderPathMeta'](),'published':{'label':_0x341b3f(0x26f),'getter':_0x5079e0=>{const _0x3914dd=_0x341b3f;if(!_0x5079e0[_0x3914dd(0x24c)])return'—';const _0x1ba994=new Date(_0x5079e0[_0x3914dd(0x24c)]);return DatetimeUtil[_0x3914dd(0x23a)]({'date':_0x1ba994});}},'publishedFull':{'label':_0x341b3f(0x249),'getter':_0x57e866=>{const _0x3e9d31=_0x341b3f;if(!_0x57e866[_0x3e9d31(0x24c)])return'—';return _0x57e866[_0x3e9d31(0x24c)];}},'publishedYear':{'label':_0x341b3f(0x211),'getter':_0x37e891=>{const _0x514420=_0x341b3f;if(!_0x37e891[_0x514420(0x24c)])return'—';return new Date(_0x37e891['published'])[_0x514420(0x1bc)]();}}};}[_0x5a6267(0x242)](){const _0x382ec=_0x5a6267;try{return this['_getData']();}catch(_0x5f4481){ui[_0x382ec(0x21e)]['error'](_0x382ec(0x25c)+VeCt['STR_SEE_CONSOLE']);throw _0x5f4481;}}[_0x5a6267(0x20c)](){const _0x56c8ab=_0x5a6267;this[_0x56c8ab(0x205)]=MiscUtil['copy'](this['_content']),this[_0x56c8ab(0x209)]={},this[_0x56c8ab(0x21c)]={};const _0x3d45a7=MiscUtil[_0x56c8ab(0x1f7)]({'keyBlacklist':ImportListAdventureBook['_TAG_WALKER_BLACKLIST']}),_0x4ba344={},_0x178f51=this[_0x56c8ab(0x205)][0x0][_0x56c8ab(0x1dc)][_0x56c8ab(0x201)]||this[_0x56c8ab(0x205)][0x0][_0x56c8ab(0x1dc)]['id'];Object['values'](ImportListAdventureBook[_0x56c8ab(0x24f)])[_0x56c8ab(0x246)](_0x1b6af7=>_0x1b6af7['fnGetInlineData']&&_0x1b6af7[_0x56c8ab(0x1cf)])[_0x56c8ab(0x254)](_0x48bdad=>{const _0x35a5d4=_0x56c8ab,_0x1f4be3={[this[_0x35a5d4(0x1f5)]]:this['_content'][0x0]['_contentMetadata'],[this[_0x35a5d4(0x1b1)]]:{'data':this[_0x35a5d4(0x205)][0x0]['data']}},_0x65d6ad={'headProp':this[_0x35a5d4(0x1f5)],'bodyProp':this['_brewDataProp']},_0x11227a=new Set();this[_0x35a5d4(0x21c)][_0x48bdad[_0x35a5d4(0x269)]]=_0x48bdad[_0x35a5d4(0x1e2)](_0x1f4be3,_0x65d6ad)[_0x35a5d4(0x226)]((_0x3e3397,_0x3f58a8)=>{const _0x267aad=_0x35a5d4;return SortUtil[_0x267aad(0x1b7)](_0x3e3397[_0x267aad(0x1c2)],_0x3f58a8[_0x267aad(0x1c2)])||SortUtil[_0x267aad(0x1b7)](Parser[_0x267aad(0x276)](_0x3e3397[_0x267aad(0x201)]||_0x178f51),Parser[_0x267aad(0x276)](_0x3f58a8[_0x267aad(0x201)]||_0x178f51));})[_0x35a5d4(0x246)](_0x4c7757=>{const _0x104b65=_0x35a5d4,_0x7a4e04=_0x48bdad[_0x104b65(0x1cf)](_0x4c7757);return _0x11227a[_0x104b65(0x1ca)](_0x7a4e04),!![];}),_0x4ba344[_0x48bdad[_0x35a5d4(0x269)]]=_0x11227a;}),this[_0x56c8ab(0x205)][0x0][_0x56c8ab(0x1b6)][_0x56c8ab(0x254)]((_0x24a668,_0x213ea7)=>{const _0x47d463=_0x56c8ab,_0x14d84a={'string':_0x5d6afa=>{const _0x2d5c63=_0x500c,_0x2a26b8=Renderer[_0x2d5c63(0x180)](_0x5d6afa),_0x23ee5b=_0x2a26b8['length'];for(let _0xfa8e27=0x0;_0xfa8e27<_0x23ee5b;++_0xfa8e27){const _0xc5374=_0x2a26b8[_0xfa8e27];if(!_0xc5374)continue;if(!_0xc5374[_0x2d5c63(0x24a)]('{@'))continue;const [_0x2ee093,_0x80afb5]=Renderer[_0x2d5c63(0x21a)](_0xc5374[_0x2d5c63(0x17e)](0x1,-0x1)),_0x8f6a42=ImportListAdventureBook[_0x2d5c63(0x24f)][_0x2ee093];if(!_0x8f6a42)continue;const _0x3a97a5=_0x8f6a42[_0x2d5c63(0x1dd)](_0x80afb5);if(!_0x3a97a5)continue;if(_0x4ba344[_0x2ee093]&&_0x4ba344[_0x2ee093][_0x2d5c63(0x19e)](_0x3a97a5[_0x2d5c63(0x1c6)]))continue;(this[_0x2d5c63(0x209)][_0x2ee093]=this['_availableEntities'][_0x2ee093]||{})[_0x3a97a5[_0x2d5c63(0x201)]]=this[_0x2d5c63(0x209)][_0x2ee093][_0x3a97a5['source']]||new Set(),this[_0x2d5c63(0x209)][_0x2ee093][_0x3a97a5[_0x2d5c63(0x201)]]['add'](_0x3a97a5[_0x2d5c63(0x1c6)]);}return _0x5d6afa;},'object':(_0x5a08d9,_0x3ee68a,_0x1f980e)=>{const _0x555a8c=_0x500c;return UtilAdventureBook['doProcessNode_mutAddMaps']({'availableMaps':this[_0x555a8c(0x210)],'entryIdToMap':this[_0x555a8c(0x216)],'entryIdToName':this['_entryIdToName'],'entry':_0x5a08d9,'entryStack':_0x1f980e,'source':_0x178f51,'chapterInfo':this[_0x555a8c(0x205)][0x0][_0x555a8c(0x1dc)]['contents']?.[_0x213ea7]}),_0x5a08d9;}};_0x3d45a7[_0x47d463(0x19d)](_0x24a668,_0x14d84a);}),UtilAdventureBook[_0x56c8ab(0x1bf)]({'availableMaps':this['_availableMaps'],'entryIdToMap':this[_0x56c8ab(0x216)],'entryIdToName':this[_0x56c8ab(0x223)]}),Object[_0x56c8ab(0x222)](ImportListAdventureBook[_0x56c8ab(0x24f)])[_0x56c8ab(0x254)](_0x3a64cd=>{const _0x4512f0=_0x56c8ab,_0x5dfdca=this[_0x4512f0(0x21b)](_0x3a64cd[_0x4512f0(0x269)]);if(!_0x5dfdca?.[_0x4512f0(0x1d2)])return;_0x5dfdca[_0x4512f0(0x254)](({source:_0x14ec58,hash:_0x9bd5b8})=>{const _0x3a7def=_0x4512f0;_0x14ec58=_0x14ec58[_0x3a7def(0x1b2)]();const _0x30d3b5=MiscUtil[_0x3a7def(0x1e5)](this[_0x3a7def(0x209)],_0x3a64cd[_0x3a7def(0x269)],_0x14ec58,new Set());_0x30d3b5['add'](_0x9bd5b8);});});const _0xcf4dcb=Object[_0x56c8ab(0x1e3)](ImportListAdventureBook[_0x56c8ab(0x24f)])[_0x56c8ab(0x17f)](([_0x3a9668,_0x1450c6])=>{const _0x1335ed=_0x56c8ab,_0x45b2a0=this['_availableEntities'][_0x3a9668],_0x3c8ddc=this[_0x1335ed(0x21c)][_0x3a9668],_0x30c622={'displayName':_0x1450c6[_0x1335ed(0x1ce)],'tag':_0x3a9668,'sources':[]};_0x45b2a0&&_0x30c622['sources']['push'](...Object[_0x1335ed(0x1e3)](_0x45b2a0)[_0x1335ed(0x17f)](([_0x3e5dd9,_0x120a4c])=>{const _0x510722=_0x1335ed;return{'sourceLong':Parser['sourceJsonToFull'](_0x3e5dd9),'sourceShort':Parser['sourceJsonToAbv'](_0x3e5dd9),'sourceClassName':Parser[_0x510722(0x1d8)](_0x3e5dd9),'sourceStyle':BrewUtil2[_0x510722(0x1bb)](_0x3e5dd9),'source':_0x3e5dd9,'count':_0x120a4c[_0x510722(0x24d)]};}));if(_0x3c8ddc&&_0x3c8ddc[_0x1335ed(0x1d2)]){const _0xbc5a7d=_0x30c622[_0x1335ed(0x189)][_0x1335ed(0x20a)](_0x95ec85=>_0x95ec85[_0x1335ed(0x201)][_0x1335ed(0x1b2)]()===_0x178f51['toLowerCase']());if(_0xbc5a7d)_0xbc5a7d[_0x1335ed(0x1c4)]+=_0x3c8ddc[_0x1335ed(0x1d2)];else _0x30c622['sources'][_0x1335ed(0x191)]({'sourceLong':Parser[_0x1335ed(0x276)](_0x178f51),'sourceShort':Parser[_0x1335ed(0x273)](_0x178f51),'sourceClassName':Parser[_0x1335ed(0x1d8)](_0x178f51),'sourceStyle':BrewUtil2['sourceJsonToStylePart'](_0x178f51),'source':_0x178f51,'count':_0x3c8ddc[_0x1335ed(0x1d2)]});}return _0x30c622['sources'][_0x1335ed(0x226)]((_0x163554,_0x3d0334)=>SortUtil[_0x1335ed(0x1b7)](_0x163554[_0x1335ed(0x1d1)],_0x3d0334[_0x1335ed(0x1d1)])),_0x30c622;})[_0x56c8ab(0x246)](_0x4811c3=>_0x4811c3[_0x56c8ab(0x189)]['length']),_0x1fc692=Object[_0x56c8ab(0x222)](ImportListAdventureBook[_0x56c8ab(0x1cb)])[_0x56c8ab(0x17f)](_0x384281=>_0x384281['group'])[_0x56c8ab(0x24e)]()[_0x56c8ab(0x17f)](_0xc80b78=>{const _0x9c9573=_0x56c8ab,_0x29af68=Object[_0x9c9573(0x222)](ImportListAdventureBook[_0x9c9573(0x1cb)])[_0x9c9573(0x246)](_0x3d1222=>_0x3d1222[_0x9c9573(0x23f)]===_0xc80b78);if(!_0x29af68[_0x9c9573(0x1d2)])return null;const _0x4cb959=_0x29af68['map'](({imageType:_0x61e9eb,displayName:_0x33fcec})=>{const _0xb27214=_0x9c9573,_0x2e1fbc=Object['values'](this[_0xb27214(0x210)][_0x61e9eb]||{})[_0xb27214(0x1d2)];if(!_0x2e1fbc)return null;return{'imageType':_0x61e9eb,'displayName':_0x33fcec,'count':_0x2e1fbc};})[_0x9c9573(0x246)](Boolean);if(!_0x4cb959[_0x9c9573(0x1d2)])return null;return{'group':_0xc80b78,'groupNamePlural':_0x29af68[0x0]['groupNamePlural'],'imageTypeMetas':_0x4cb959};})[_0x56c8ab(0x246)](Boolean);return{'name':this[_0x56c8ab(0x205)][0x0][_0x56c8ab(0x1dc)][_0x56c8ab(0x1c2)],'titleSearch':this['_titleSearch'],'tagSections':_0xcf4dcb,'imageGroupSections':_0x1fc692};}['activateListeners'](_0x535050){const _0x1a9c4d=_0x5a6267;this[_0x1a9c4d(0x1f1)](_0x535050),this['_activateListeners_initConfigButtons'](_0x535050),this['_activateListeners_initRunButton'](_0x535050);}[_0x5a6267(0x1f1)](_0x37ed6a){const _0x1571d9=_0x5a6267;this[_0x1571d9(0x1ac)]={},this[_0x1571d9(0x270)]={},_0x37ed6a[_0x1571d9(0x20a)](_0x1571d9(0x1f9))[_0x1571d9(0x237)]((_0x454ed0,_0x336061)=>{const _0x8eb13=_0x1571d9,_0x51d5d4=$(_0x336061),_0x165eb3=_0x51d5d4[_0x8eb13(0x1b6)](_0x8eb13(0x269)),_0x39a19f=_0x51d5d4[_0x8eb13(0x1b6)](_0x8eb13(0x201));(this['_tagCbMetas'][_0x165eb3]=this[_0x8eb13(0x1ac)][_0x165eb3]||[])[_0x8eb13(0x191)]({'source':_0x39a19f,'$cb':_0x51d5d4});});const _0x401f51=_0x37ed6a[_0x1571d9(0x20a)]('input[data-tag][data-type=\x22all\x22]')[_0x1571d9(0x17f)]((_0x2dbe60,_0x498f88)=>{const _0x4751e7=_0x1571d9,_0x213f91=$(_0x498f88),_0xb5f034=_0x213f91[_0x4751e7(0x1b6)](_0x4751e7(0x269));return _0x213f91[_0x4751e7(0x20f)](()=>{const _0x15510d=_0x4751e7,_0x25638c=_0x213f91[_0x15510d(0x1d3)]('checked');this[_0x15510d(0x1ac)][_0xb5f034][_0x15510d(0x254)](_0x5759b4=>_0x5759b4[_0x15510d(0x190)][_0x15510d(0x1d3)](_0x15510d(0x18d),_0x25638c));}),_0x213f91;})[_0x1571d9(0x227)]();_0x37ed6a[_0x1571d9(0x20a)](_0x1571d9(0x1aa))[_0x1571d9(0x237)]((_0x9f1312,_0x2c8fb1)=>{const _0x42e74c=_0x1571d9,_0x1f9f93=$(_0x2c8fb1),_0x49e582=_0x1f9f93[_0x42e74c(0x1b6)](_0x42e74c(0x1a1)),_0x55709b=_0x1f9f93[_0x42e74c(0x1b6)](_0x42e74c(0x26e));(this[_0x42e74c(0x270)][_0x49e582]=this[_0x42e74c(0x270)][_0x49e582]||[])[_0x42e74c(0x191)]({'imageType':_0x55709b,'$cb':_0x1f9f93});});const _0x9179dd=_0x37ed6a[_0x1571d9(0x20a)](_0x1571d9(0x250))[_0x1571d9(0x17f)]((_0x180cb9,_0x65d7a2)=>{const _0x1ca5a9=_0x1571d9,_0x4aade8=$(_0x65d7a2),_0x48400a=_0x4aade8[_0x1ca5a9(0x1b6)](_0x1ca5a9(0x1a1));return _0x4aade8[_0x1ca5a9(0x20f)](()=>{const _0x48c903=_0x1ca5a9,_0x378450=_0x4aade8[_0x48c903(0x1d3)](_0x48c903(0x18d));this['_imageGroupCbMetas'][_0x48400a][_0x48c903(0x254)](_0x2208fe=>_0x2208fe[_0x48c903(0x190)][_0x48c903(0x1d3)](_0x48c903(0x18d),_0x378450));}),_0x4aade8;})[_0x1571d9(0x227)](),_0x3364a9=_0x37ed6a[_0x1571d9(0x20a)](_0x1571d9(0x18f));_0x3364a9[_0x1571d9(0x20f)](()=>{const _0x1b1b08=_0x1571d9,_0x329dc2=_0x3364a9[_0x1b1b08(0x1d3)](_0x1b1b08(0x18d));_0x401f51['forEach'](_0x9eab0f=>_0x9eab0f[_0x1b1b08(0x1d3)](_0x1b1b08(0x18d),_0x329dc2)[_0x1b1b08(0x20f)]()),_0x9179dd['forEach'](_0x231de5=>_0x231de5[_0x1b1b08(0x1d3)](_0x1b1b08(0x18d),_0x329dc2)[_0x1b1b08(0x20f)]());});}[_0x5a6267(0x19c)](_0x31f2af){const _0xdd2f40=_0x5a6267,_0x2899e1=({dataType:_0x58aed3,dataProp:_0x2c3797,lookup:_0x50e436,pFnGetImporter:_0x42b909})=>{const _0x37a8a1=_0x500c;_0x31f2af[_0x37a8a1(0x20a)](_0x37a8a1(0x256)+_0x58aed3+'\x22]')[_0x37a8a1(0x237)]((_0x28e23a,_0x522b87)=>{const _0xf9fbc3=_0x37a8a1,_0x145532=$(_0x522b87),_0x18f7e3=_0x145532[_0xf9fbc3(0x1b6)](_0x2c3797);_0x145532[_0xf9fbc3(0x1c8)](async()=>{const _0x83c802=_0xf9fbc3,_0x55dc2b=_0x42b909?await _0x42b909():_0x50e436[_0x18f7e3][_0x83c802(0x1ec)];await _0x55dc2b[_0x83c802(0x229)](),await _0x55dc2b[_0x83c802(0x200)]();});});};_0x2899e1({'dataType':_0xdd2f40(0x22b),'dataProp':_0xdd2f40(0x269),'lookup':ImportListAdventureBook[_0xdd2f40(0x24f)]}),_0x2899e1({'dataType':_0xdd2f40(0x202),'pFnGetImporter':()=>this[_0xdd2f40(0x251)][_0xdd2f40(0x232)]()});}[_0x5a6267(0x1b9)](_0x40adf8){const _0x45082e=_0x5a6267;_0x40adf8[_0x45082e(0x20a)](_0x45082e(0x197))[_0x45082e(0x1c8)](async()=>this[_0x45082e(0x23b)]());}async[_0x5a6267(0x23b)](){const _0x3b7860=_0x5a6267;this[_0x3b7860(0x1b5)](),console[_0x3b7860(0x1a6)](...LGT,_0x3b7860(0x25a)+this[_0x3b7860(0x1f5)]+'\x20\x22'+this[_0x3b7860(0x205)][0x0]['_contentMetadata'][_0x3b7860(0x1c2)]+'\x22');const _0x3a0ee2=new ImportListAdventureBook[(_0x3b7860(0x1fd))](),_0x337358=await this['_pHandleRunButtonClick_pDoPreImport']({'runInfo':_0x3a0ee2});if(_0x3a0ee2[_0x3b7860(0x20e)])return;const _0x39957e=await this['_pHandleRunButtonClick_pDoMainImport']({'preloadedTagMetas':_0x337358,'runInfo':_0x3a0ee2});if(_0x3a0ee2['isCancelled'])return;await this[_0x3b7860(0x1d9)]({'entryIdToJournalId':_0x39957e,'runInfo':_0x3a0ee2});}async[_0x5a6267(0x25e)]({runInfo:_0x176e10}){const _0x225b1f=_0x5a6267,_0x21a83e={},_0x717dcb=await this[_0x225b1f(0x199)]({'loadedEntityInfos':_0x21a83e});if(!_0x717dcb[_0x225b1f(0x1d2)])return _0x21a83e;const _0x4238c6=await UtilApplications[_0x225b1f(0x183)](_0x717dcb,{'titleInitial':'Importing...','titleComplete':'Import\x20Complete','fnGetRowRunningText':_0x371273=>_0x225b1f(0x25a)+_0x371273+'...','fnGetRowSuccessText':_0xbc7da7=>_0x225b1f(0x257)+_0xbc7da7+'.','fnGetRowErrorText':_0x575c3d=>_0x225b1f(0x221)+_0x575c3d+'!\x20'+VeCt['STR_SEE_CONSOLE'],'isForceClose':!![]});if(_0x4238c6[_0x225b1f(0x20e)])return _0x176e10[_0x225b1f(0x20e)]=_0x4238c6[_0x225b1f(0x20e)];return _0x21a83e;}async[_0x5a6267(0x199)]({loadedEntityInfos:_0x3e1c13}){const _0x48ee60=_0x5a6267,_0x2a5940={};Object['entries'](this['_tagCbMetas'])[_0x48ee60(0x254)](([_0x35d038,_0x28acfa])=>{const _0x1aae89=_0x48ee60,_0xbdb724=_0x28acfa[_0x1aae89(0x246)](_0x366962=>_0x366962[_0x1aae89(0x190)][_0x1aae89(0x1d3)](_0x1aae89(0x18d)))['map'](_0x585020=>_0x585020[_0x1aae89(0x201)]);if(!_0xbdb724[_0x1aae89(0x1d2)])return;_0x2a5940[_0x35d038]=_0xbdb724;});const _0x428919=[];for(const [_0x10fd43,_0xfb47ad]of Object[_0x48ee60(0x1e3)](_0x2a5940)){const _0x1bfe0e=_0x3e1c13[_0x10fd43]={},_0x43583a=ImportListAdventureBook['_IMPORTABLE_TAGS'][_0x10fd43];for(const _0x16abf4 of _0xfb47ad){const _0x47b60f=new Set([...MiscUtil[_0x48ee60(0x227)](this['_availableEntities'],_0x10fd43,_0x16abf4)||[]]);for(const _0x2977f7 of _0x47b60f){const [_0x4cb885,_0x285cf1]=_0x2977f7[_0x48ee60(0x212)](HASH_LIST_SEP),_0x1a8346=decodeURIComponent(_0x4cb885)[_0x48ee60(0x1b3)](),_0x211ca9=Parser[_0x48ee60(0x273)](_0x285cf1);_0x428919[_0x48ee60(0x191)](new Util['Task'](_0x43583a[_0x48ee60(0x1ce)]+':\x20'+_0x1a8346+'\x20('+_0x211ca9+')',()=>((async()=>{const _0x4830e8=_0x48ee60,{folderType:_0x4bd625,id:_0x154179}=await _0x43583a[_0x4830e8(0x235)](_0x2977f7);(_0x1bfe0e[_0x10fd43]=_0x1bfe0e[_0x10fd43]||{})[_0x2977f7]={'folderType':_0x4bd625,'importedId':_0x154179};})())));}}const _0x2fbad7=[...MiscUtil[_0x48ee60(0x227)](this[_0x48ee60(0x21c)],_0x10fd43)||[]];for(const _0x33e970 of _0x2fbad7){_0x428919[_0x48ee60(0x191)](new Util[(_0x48ee60(0x1ae))](_0x43583a[_0x48ee60(0x1ce)]+':\x20'+_0x33e970[_0x48ee60(0x1c2)]+'\x20('+_0x33e970['source']+')',()=>((async()=>{const _0x516e13=_0x48ee60;await _0x43583a[_0x516e13(0x259)](_0x33e970);})())));}}return _0x428919;}async[_0x5a6267(0x1ed)]({entryIdToJournalId:_0x25fe0d}){const _0x35cd84=_0x5a6267,_0x525384={};Object[_0x35cd84(0x1e3)](this[_0x35cd84(0x270)])[_0x35cd84(0x254)](([_0x2b9759,_0x2c24c4])=>{const _0x1d94f7=_0x35cd84,_0x5a6176=_0x2c24c4[_0x1d94f7(0x246)](_0x4cd9eb=>_0x4cd9eb['$cb'][_0x1d94f7(0x1d3)](_0x1d94f7(0x18d)))['map'](_0x366576=>_0x366576['imageType']);if(!_0x5a6176[_0x1d94f7(0x1d2)])return;_0x525384[_0x2b9759]=_0x5a6176;});let _0xc871f5;const _0x2633b8=[];for(const _0x5d22ba of Object[_0x35cd84(0x222)](_0x525384)){for(const _0x50ab25 of _0x5d22ba){const _0xd347eb=ImportListAdventureBook[_0x35cd84(0x1cb)][_0x50ab25],_0x1ec1af=this['_availableMaps'][_0x50ab25];for(const _0x43a4bd of Object[_0x35cd84(0x222)](_0x1ec1af)){if(!_0xc871f5)_0xc871f5=await this[_0x35cd84(0x251)]['_getImportListMap']();const _0x3967d7=new Util[(_0x35cd84(0x1ae))]((_0xd347eb[_0x35cd84(0x1fe)]||_0xd347eb[_0x35cd84(0x23f)])+':\x20'+_0x43a4bd[_0x35cd84(0x1c2)],()=>{const _0x349104=_0x35cd84;return _0xc871f5[_0x349104(0x1fb)](_0x43a4bd,{'entryIdToJournalId':_0x25fe0d});});_0x2633b8['push'](_0x3967d7);}}}return _0x2633b8;}static async[_0x5a6267(0x232)](){const _0x26c2f4=_0x5a6267,{ImportListMap:_0x3f5d64}=await import('./ImportListMap.js'),_0x104304=new _0x3f5d64();return await _0x104304[_0x26c2f4(0x229)](),_0x104304;}async[_0x5a6267(0x1ff)]({preloadedTagMetas:_0x537d6a,runInfo:_0x39677d}){const _0x2ff5f5=_0x5a6267,_0x486541=MiscUtil[_0x2ff5f5(0x1f7)]({'keyBlacklist':ImportListAdventureBook['_TAG_WALKER_BLACKLIST']}),_0xaff985={'string':_0x2a3c4f=>{const _0x1cf2c2=_0x2ff5f5,_0x8c8d85=Renderer[_0x1cf2c2(0x180)](_0x2a3c4f),_0x2bccff=_0x8c8d85[_0x1cf2c2(0x1d2)];let _0x41243d='';for(let _0xcb130d=0x0;_0xcb130d<_0x2bccff;++_0xcb130d){const _0x1022f7=_0x8c8d85[_0xcb130d];if(!_0x1022f7)continue;if(!_0x1022f7['startsWith']('{@')){_0x41243d+=_0x1022f7;continue;}const [_0x5ab253,_0x474e02]=Renderer[_0x1cf2c2(0x21a)](_0x1022f7[_0x1cf2c2(0x17e)](0x1,-0x1)),_0x39a234=ImportListAdventureBook[_0x1cf2c2(0x24f)][_0x5ab253],_0x321ada=_0x537d6a[_0x5ab253];if(!_0x39a234||!_0x321ada){_0x41243d+=_0x1022f7;continue;}const _0x2feada=_0x39a234[_0x1cf2c2(0x1dd)](_0x474e02);if(!_0x2feada){_0x41243d+=_0x1022f7;continue;}const _0x5e5abe=MiscUtil['get'](_0x321ada,_0x5ab253,_0x2feada[_0x1cf2c2(0x1c6)]);if(!_0x5e5abe){_0x41243d+=_0x1022f7;continue;}_0x41243d+=''+DataConverter[_0x1cf2c2(0x1da)]+_0x5e5abe['folderType']+'['+_0x5e5abe[_0x1cf2c2(0x1e8)]+']{'+_0x2feada[_0x1cf2c2(0x185)]+'}';}return _0x41243d;}};this[_0x2ff5f5(0x205)][0x0][_0x2ff5f5(0x1b6)]=_0x486541[_0x2ff5f5(0x19d)](this[_0x2ff5f5(0x205)][0x0][_0x2ff5f5(0x1b6)],_0xaff985);let _0x5830b5;try{_0x5830b5=await this[_0x2ff5f5(0x263)]();}catch(_0x59a77f){ui[_0x2ff5f5(0x21e)][_0x2ff5f5(0x233)](_0x2ff5f5(0x194)+VeCt[_0x2ff5f5(0x20d)]);throw _0x59a77f;}const _0x51cea1=await this[_0x2ff5f5(0x271)]({'name':this[_0x2ff5f5(0x205)][0x0]['_contentMetadata'][_0x2ff5f5(0x1c2)],'source':this[_0x2ff5f5(0x205)][0x0]['_contentMetadata']['source'],'published':this[_0x2ff5f5(0x205)][0x0][_0x2ff5f5(0x1dc)][_0x2ff5f5(0x24c)]},{'sorting':'m'}),_0x45e4cb={},_0x264540={},_0x3336f4=[];for(const _0x3148d3 of _0x5830b5){const _0x31e286=new Util['Task'](_0x3148d3['journalEntry'][_0x2ff5f5(0x1c2)],()=>this[_0x2ff5f5(0x1e1)]({'finalizeLinkLookup':_0x45e4cb,'entryIdToJournalId':_0x264540,'folderIdRoot':_0x51cea1,'wrappedJournalData':_0x3148d3}));_0x3336f4[_0x2ff5f5(0x191)](_0x31e286);}const _0x858675=new Util[(_0x2ff5f5(0x1ae))](_0x2ff5f5(0x238),async()=>{const _0x2c2a5b=_0x2ff5f5;if(Object['keys'](_0x45e4cb)['length']){const _0x56c044=new RegExp('%'+SharedConsts['MODULE_NAME_FAKE']+_0x2c2a5b(0x182)+SharedConsts[_0x2c2a5b(0x23d)]+'%','gi'),_0x38c15a=Config[_0x2c2a5b(0x227)](_0x2c2a5b(0x25f),'isEnableJournalEmbeds')&&Config[_0x2c2a5b(0x227)](this[_0x2c2a5b(0x265)],_0x2c2a5b(0x192))?_0x2c2a5b(0x1b8):_0x2c2a5b(0x22f);for(const _0x1bc1f0 of Object[_0x2c2a5b(0x222)](_0x45e4cb)){for(const _0x53432f of Object[_0x2c2a5b(0x222)](_0x1bc1f0)){const _0x3cefa0=_0x53432f[_0x2c2a5b(0x1b6)][_0x2c2a5b(0x1c1)][_0x2c2a5b(0x1ab)](_0x56c044,(..._0x530153)=>{const [,_0x3b1980,_0x228c05]=_0x530153,_0x4d39af=_0x45e4cb[_0x3b1980]?.[_0x228c05];return'@'+_0x38c15a+'['+_0x4d39af?.['id']+']';});if(_0x3cefa0!==_0x53432f[_0x2c2a5b(0x1b6)]['content'])await UtilDocuments[_0x2c2a5b(0x26b)](_0x53432f,{'content':_0x3cefa0});}}}});_0x3336f4[_0x2ff5f5(0x191)](_0x858675),ui[_0x2ff5f5(0x1eb)][_0x2ff5f5(0x277)](_0x2ff5f5(0x1cc));const _0x4318f0=await UtilApplications[_0x2ff5f5(0x183)](_0x3336f4,{'titleInitial':_0x2ff5f5(0x195),'titleComplete':_0x2ff5f5(0x234),'fnGetRowRunningText':_0x5e479d=>_0x5e479d===_0x2ff5f5(0x238)?_0x5e479d+_0x2ff5f5(0x23c):_0x2ff5f5(0x25a)+_0x5e479d+_0x2ff5f5(0x23c),'fnGetRowSuccessText':_0x2a591e=>_0x2a591e===_0x2ff5f5(0x238)?_0x2ff5f5(0x1d6):_0x2ff5f5(0x257)+_0x2a591e+'.','fnGetRowErrorText':_0xef202d=>_0xef202d===_0x2ff5f5(0x238)?_0x2ff5f5(0x262):'Failed\x20to\x20import\x20'+_0xef202d+'!\x20'+VeCt[_0x2ff5f5(0x20d)]});if(_0x4318f0[_0x2ff5f5(0x20e)])return _0x39677d[_0x2ff5f5(0x20e)]=_0x4318f0[_0x2ff5f5(0x20e)];if(_0x4318f0['isCancelled'])return _0x39677d[_0x2ff5f5(0x20e)]=_0x4318f0['isCancelled'],_0x264540;return _0x264540;}async['_pImportWrappedJournalData']({finalizeLinkLookup:_0x3ce7cc,entryIdToJournalId:_0x1e9fd5,folderIdRoot:_0xe631a9,wrappedJournalData:_0x25ecfc}){const _0x42b0ad=_0x5a6267,{journalEntry:_0x260f03,folderNames:_0x20d102}=_0x25ecfc,_0x53f288={'name':_0x260f03[_0x42b0ad(0x1c2)]};Config[_0x42b0ad(0x227)](this[_0x42b0ad(0x265)],'journalEntrySplitMode')===ConfigConsts[_0x42b0ad(0x267)]||Config['get'](this[_0x42b0ad(0x265)],'isOrderingPrefixJournalNames')?_0x53f288[_0x42b0ad(0x258)]={[SharedConsts['MODULE_NAME_FAKE']]:{'source':_0x260f03[_0x42b0ad(0x258)][SharedConsts[_0x42b0ad(0x23d)]][_0x42b0ad(0x201)]}}:_0x53f288[_0x42b0ad(0x258)]={[SharedConsts[_0x42b0ad(0x23d)]]:{'source':_0x260f03[_0x42b0ad(0x258)][SharedConsts[_0x42b0ad(0x23d)]][_0x42b0ad(0x201)],'ixChapter':_0x260f03[_0x42b0ad(0x258)][SharedConsts[_0x42b0ad(0x23d)]][_0x42b0ad(0x248)],'ixFlat':_0x260f03[_0x42b0ad(0x258)][SharedConsts[_0x42b0ad(0x23d)]][_0x42b0ad(0x18a)]}};const _0x47db7d=Object[_0x42b0ad(0x214)](_0x53f288)[_0x42b0ad(0x1d2)]?this['_getDuplicateMeta'](_0x53f288):null;if(_0x47db7d?.[_0x42b0ad(0x25d)]){const _0x915f6a=_0x47db7d['existing']?.[_0x42b0ad(0x1b6)]?.['flags']?.[SharedConsts['MODULE_NAME_FAKE']]?.[_0x42b0ad(0x19a)]||[];return _0x915f6a[_0x42b0ad(0x254)](_0x52ba6b=>_0x1e9fd5[_0x52ba6b]=_0x47db7d['existing']['id']),new ImportSummary({'status':UtilApplications[_0x42b0ad(0x17d)],'imported':[new ImportedDocument({'document':_0x47db7d['existing'],'isExisting':!![]})]});}if(_0x47db7d?.[_0x42b0ad(0x1db)]){const _0x370e2a=_0x47db7d[_0x42b0ad(0x261)]?.['data']?.[_0x42b0ad(0x258)]?.[SharedConsts['MODULE_NAME_FAKE']]?.[_0x42b0ad(0x19a)]||[];return _0x370e2a['forEach'](_0x476108=>_0x1e9fd5[_0x476108]=_0x47db7d[_0x42b0ad(0x261)]['id']),this[_0x42b0ad(0x1c3)](_0x47db7d,_0x260f03);}let _0x9c3369=_0xe631a9;_0x20d102?.['length']&&(_0x9c3369=await UtilFolders['pCreateFoldersGetId']({'folderType':this[_0x42b0ad(0x251)][_0x42b0ad(0x228)],'folderIdRoot':_0xe631a9,'folderNames':_0x20d102,'sorting':'m'}));if(_0x9c3369)_0x260f03[_0x42b0ad(0x1d7)]=_0x9c3369;const _0x24874d=await JournalEntry[_0x42b0ad(0x1ee)](_0x260f03,{'renderSheet':![],'temporary':![]}),_0x4feb7a=_0x24874d?.[_0x42b0ad(0x1b6)]?.[_0x42b0ad(0x258)]?.[SharedConsts['MODULE_NAME_FAKE']];if(_0x4feb7a)(_0x3ce7cc[_0x4feb7a['ixChapter']]=_0x3ce7cc[_0x4feb7a[_0x42b0ad(0x248)]]||{})[_0x4feb7a[_0x42b0ad(0x18a)]]=_0x24874d;const _0x21231a=_0x24874d?.['data']?.[_0x42b0ad(0x258)]?.[SharedConsts[_0x42b0ad(0x23d)]]?.['entryIds']||[];_0x21231a[_0x42b0ad(0x254)](_0x6e0378=>_0x1e9fd5[_0x6e0378]=_0x24874d['id']);}async['_pHandleRunButtonClick_pDoPostImport']({entryIdToJournalId:_0x2b0cc5,runInfo:_0x252266}){const _0x570182=_0x5a6267,_0x3180bd=await this['_pHandleRunButtonClick_pGetTaskListImageGroups']({'entryIdToJournalId':_0x2b0cc5});if(!_0x3180bd[_0x570182(0x1d2)])return;const _0x22847c=await UtilApplications[_0x570182(0x183)](_0x3180bd,{'titleInitial':_0x570182(0x195),'titleComplete':'Import\x20Complete','fnGetRowRunningText':_0x3f3307=>_0x570182(0x25a)+_0x3f3307+_0x570182(0x23c),'fnGetRowSuccessText':_0x18f0c5=>_0x570182(0x257)+_0x18f0c5+'.','fnGetRowErrorText':_0x3e9d99=>'Failed\x20to\x20import\x20'+_0x3e9d99+'!\x20'+VeCt[_0x570182(0x20d)],'isForceClose':!![]});if(_0x22847c[_0x570182(0x20e)])return _0x252266[_0x570182(0x20e)]=_0x22847c['isCancelled'];}async['_pGetJournalDatas'](){throw new Error('Unimplemented!');}[_0x5a6267(0x21b)](){return null;}static[_0x5a6267(0x1a3)](_0x120d3c){const _0x1c1843=_0x5a6267;this[_0x1c1843(0x24f)][_0x120d3c['tag']]=_0x120d3c;}static[_0x5a6267(0x279)](_0x432bea){const _0x48994b=_0x5a6267;this[_0x48994b(0x1cb)][_0x432bea[_0x48994b(0x1a7)]]=_0x432bea;}}ImportListAdventureBook['_IMPORTABLE_TAGS']={},ImportListAdventureBook[_0x5a6267(0x1cb)]={},ImportListAdventureBook[_0x5a6267(0x1a0)]={},ImportListAdventureBook[_0x5a6267(0x1fd)]=class{constructor(){const _0x13d4de=_0x5a6267;this[_0x13d4de(0x20e)]=![];}},ImportListAdventureBook[_0x5a6267(0x253)]=class{constructor(_0x4e58d4){const _0x1cb222=_0x5a6267;this['_displayName']=_0x4e58d4[_0x1cb222(0x1ce)],this[_0x1cb222(0x1ea)]=_0x4e58d4[_0x1cb222(0x269)],this[_0x1cb222(0x272)]=_0x4e58d4[_0x1cb222(0x1e6)],this[_0x1cb222(0x218)]=_0x4e58d4['page'],this[_0x1cb222(0x1d5)]=_0x4e58d4[_0x1cb222(0x1b0)],this[_0x1cb222(0x1fc)]=_0x4e58d4[_0x1cb222(0x1ec)],this[_0x1cb222(0x26d)]=_0x4e58d4[_0x1cb222(0x1e2)],this['_fnGetInlineHash']=_0x4e58d4[_0x1cb222(0x1cf)],this[_0x1cb222(0x244)]=![];}get[_0x5a6267(0x1ce)](){return this['_displayName'];}get['tag'](){const _0x4d8da6=_0x5a6267;return this[_0x4d8da6(0x1ea)];}get['page'](){return this['_page'];}get[_0x5a6267(0x1ec)](){const _0x17da00=_0x5a6267;return this[_0x17da00(0x1fc)];}get['fnGetInlineData'](){const _0x683b98=_0x5a6267;return this[_0x683b98(0x26d)];}get[_0x5a6267(0x1cf)](){return this['_fnGetInlineHash'];}[_0x5a6267(0x235)](_0x2dc7c2){const _0x12fab4=_0x5a6267;return this[_0x12fab4(0x1af)](),this[_0x12fab4(0x215)](_0x2dc7c2);}['_pLoad_doActivateTab'](){const _0x3dc918=_0x5a6267;!this[_0x3dc918(0x244)]&&(this[_0x3dc918(0x1fc)][_0x3dc918(0x1be)](),this[_0x3dc918(0x244)]=!![]);}async[_0x5a6267(0x215)](_0x357863){const _0x5bed92=_0x5a6267,[,_0x61b23d]=_0x357863[_0x5bed92(0x212)](HASH_LIST_SEP),_0x514fb8=await Renderer[_0x5bed92(0x181)][_0x5bed92(0x203)](this[_0x5bed92(0x218)],_0x61b23d,_0x357863,{'isRequired':!![]});await this[_0x5bed92(0x1fc)][_0x5bed92(0x229)]();const _0x30e711=await this[_0x5bed92(0x1fc)]['pImportEntry'](_0x514fb8,{});return{'folderType':this[_0x5bed92(0x1fc)][_0x5bed92(0x251)][_0x5bed92(0x228)],'id':_0x30e711[_0x5bed92(0x1d0)]?.[0x0]?.['document']?.['id'],'hash':_0x357863};}static[_0x5a6267(0x187)](_0x4ce4a6,_0x4aab3a,_0x12d342){const _0x39f815=_0x5a6267,[_0x41443e,_0x14022c,_0x15c228]=Renderer[_0x39f815(0x1d4)](_0x12d342),_0x127bfa=(_0x14022c||_0x4aab3a)['toLowerCase'](),_0x468e78={'name':_0x41443e,'source':_0x127bfa};return{'source':_0x127bfa,'displayText':_0x15c228||_0x41443e,'hash':UrlUtil[_0x39f815(0x243)][_0x4ce4a6](_0x468e78)};}[_0x5a6267(0x1dd)](_0x5a15ea){const _0x85898f=_0x5a6267,_0x45139e=ImportListAdventureBook[_0x85898f(0x253)]['_getExtractedGenericTag'](this[_0x85898f(0x218)],this['_defaultSource'],_0x5a15ea),_0x1a9d36=this[_0x85898f(0x272)]['some'](_0x57a300=>ExcludeUtil[_0x85898f(0x236)](_0x45139e[_0x85898f(0x1c6)],_0x57a300,_0x45139e[_0x85898f(0x201)],{'isNoCount':!![]}));if(_0x1a9d36)return null;return _0x45139e;}async[_0x5a6267(0x259)](_0x411f06){const _0x3a930a=_0x5a6267;this[_0x3a930a(0x1af)](),await this['_importer']['pInit'](),await this[_0x3a930a(0x1fc)][_0x3a930a(0x1fb)](_0x411f06,{});}},ImportListAdventureBook['ImportableImageType']=class{constructor({group:_0x33dbc5,groupName:_0x42810a,groupNamePlural:_0x335a9f,displayName:_0x49c371,imageType:_0x4cafbe}){const _0x261895=_0x5a6267;this[_0x261895(0x186)]=_0x33dbc5,this[_0x261895(0x247)]=_0x42810a,this[_0x261895(0x18b)]=_0x335a9f,this['_displayName']=_0x49c371,this[_0x261895(0x260)]=_0x4cafbe;}get['group'](){const _0x56c1b3=_0x5a6267;return this[_0x56c1b3(0x186)];}get['groupName'](){const _0x38528d=_0x5a6267;return this[_0x38528d(0x247)];}get[_0x5a6267(0x1c5)](){const _0x3db46d=_0x5a6267;return this[_0x3db46d(0x18b)];}get[_0x5a6267(0x1ce)](){const _0x431c3e=_0x5a6267;return this[_0x431c3e(0x224)];}get['imageType'](){const _0x226e95=_0x5a6267;return this[_0x226e95(0x260)];}},ImportListAdventureBook[_0x5a6267(0x198)]=new Set(['name','caption',_0x5a6267(0x184),_0x5a6267(0x1f6),'type',_0x5a6267(0x21f),'page']),ImportListAdventureBook[_0x5a6267(0x1c9)]={'displayName':'Creatures','tag':_0x5a6267(0x18c),'props':[_0x5a6267(0x1ef)],'page':UrlUtil['PG_BESTIARY'],'defaultSource':SRC_MM,'importer':new ImportListCreature()},ImportListAdventureBook[_0x5a6267(0x1a3)](new ImportListAdventureBook[(_0x5a6267(0x253))](ImportListAdventureBook[_0x5a6267(0x1c9)])),ImportListAdventureBook['_registerImportableTag'](new ImportListAdventureBook[(_0x5a6267(0x253))]({'displayName':'Spells','tag':_0x5a6267(0x1a2),'props':[_0x5a6267(0x245)],'page':UrlUtil[_0x5a6267(0x207)],'defaultSource':SRC_PHB,'importer':new ImportListSpell()})),ImportListAdventureBook[_0x5a6267(0x1a3)](new ImportListAdventureBook['ImportableTag']({'displayName':'Items','tag':'@item','props':[_0x5a6267(0x1df),_0x5a6267(0x1a9),'variant',_0x5a6267(0x1bd)],'page':UrlUtil[_0x5a6267(0x188)],'defaultSource':SRC_DMG,'importer':new ImportListItem()})),ImportListAdventureBook['_registerImportableTag'](new ImportListAdventureBook[(_0x5a6267(0x253))]({'displayName':_0x5a6267(0x1de),'tag':_0x5a6267(0x1ba),'props':['variantrule'],'page':UrlUtil[_0x5a6267(0x241)],'defaultSource':SRC_DMG,'importer':new ImportListVariantRule()})),ImportListAdventureBook[_0x5a6267(0x1a3)](new ImportListAdventureBook[(_0x5a6267(0x253))]({'displayName':_0x5a6267(0x204),'tag':_0x5a6267(0x193),'props':[_0x5a6267(0x275)],'page':UrlUtil[_0x5a6267(0x1e0)],'defaultSource':SRC_GoS,'importer':new ImportListVehicleUpgrade()})),ImportListAdventureBook[_0x5a6267(0x1a3)](new ImportListAdventureBook[(_0x5a6267(0x253))]({'displayName':_0x5a6267(0x25b),'tag':_0x5a6267(0x278),'props':[_0x5a6267(0x1f8),'tableGroup'],'page':UrlUtil[_0x5a6267(0x22d)],'defaultSource':SRC_DMG,'importer':new ImportListRollableTable(),'fnGetInlineData':(_0x29e870,_0x4411cb)=>{const _0x563d61=_0x5a6267,{table:_0x3167c5,tableGroup:_0x52ec29}=UtilGenTables[_0x563d61(0x274)](_0x29e870,_0x4411cb);return _0x3167c5['forEach'](_0x3e6b49=>_0x3e6b49[_0x563d61(0x1e7)]='table'),_0x52ec29[_0x563d61(0x254)](_0xcaebf=>_0xcaebf['__prop']='tableGroup'),[..._0x3167c5,..._0x52ec29];},'fnGetInlineHash':_0x44b902=>{const _0x98beb4=_0x5a6267;return UrlUtil[_0x98beb4(0x243)][UrlUtil[_0x98beb4(0x22d)]](_0x44b902)[_0x98beb4(0x1b2)]();}})),ImportListAdventureBook['_registerImportableImageType'](new ImportListAdventureBook['ImportableImageType']({'group':'maps','groupName':_0x5a6267(0x268),'groupNamePlural':_0x5a6267(0x266),'displayName':_0x5a6267(0x268),'imageType':_0x5a6267(0x17f)})),ImportListAdventureBook[_0x5a6267(0x279)](new ImportListAdventureBook[(_0x5a6267(0x206))]({'group':_0x5a6267(0x1e4),'groupName':_0x5a6267(0x268),'groupNamePlural':_0x5a6267(0x266),'displayName':_0x5a6267(0x230),'imageType':_0x5a6267(0x208)}));export{ImportListAdventureBook};