const _0x19ec9e=_0x28f1;(function(_0x4603f5,_0x40a5b2){const _0x35d5a1=_0x28f1,_0x1e2909=_0x4603f5();while(!![]){try{const _0x51ea5d=-parseInt(_0x35d5a1(0xf7))/0x1+parseInt(_0x35d5a1(0xf3))/0x2+parseInt(_0x35d5a1(0x104))/0x3+parseInt(_0x35d5a1(0xff))/0x4+parseInt(_0x35d5a1(0xea))/0x5*(parseInt(_0x35d5a1(0x10a))/0x6)+parseInt(_0x35d5a1(0xf4))/0x7+-parseInt(_0x35d5a1(0x107))/0x8;if(_0x51ea5d===_0x40a5b2)break;else _0x1e2909['push'](_0x1e2909['shift']());}catch(_0x1b9dd9){_0x1e2909['push'](_0x1e2909['shift']());}}}(_0x57e5,0xf0155));import{Util}from'./Util.js';function _0x28f1(_0x2f7218,_0x599c87){const _0x57e50a=_0x57e5();return _0x28f1=function(_0x28f1ea,_0x52065c){_0x28f1ea=_0x28f1ea-0xe8;let _0x3f6652=_0x57e50a[_0x28f1ea];return _0x3f6652;},_0x28f1(_0x2f7218,_0x599c87);}class UtilFolders{static async['pCreateFoldersGetId']({folderType:_0x494507,folderIdRoot:folderIdRoot=null,folderNames:_0xe21a04,folderMetas:_0x810711,sorting:sorting=null}){const _0xefd6d4=_0x28f1;if(_0xe21a04!=null&&_0x810711!=null)throw new Error(_0xefd6d4(0x100));if(_0x810711!=null&&sorting!=null)throw new Error(_0xefd6d4(0x105));_0x810711=this[_0xefd6d4(0xf6)]({'folderNames':_0xe21a04,'folderMetas':_0x810711,'sorting':sorting});try{await this[_0xefd6d4(0xfd)][_0xefd6d4(0xfe)]();const _0x26b031=await this[_0xefd6d4(0xeb)]({'folderType':_0x494507,'folderIdRoot':folderIdRoot,'folderMetas':_0x810711});return void _0x26b031,_0x26b031;}finally{this[_0xefd6d4(0xfd)]['unlock']();}}static[_0x19ec9e(0xf6)]({folderNames:_0x11da92,folderMetas:_0x4e63d7,sorting:sorting=null}){const _0x2f7673=_0x19ec9e;return _0x4e63d7=_0x4e63d7||_0x11da92['map']((_0xd2741d,_0x26a440)=>({'name':_0xd2741d,'color':null,'description':null,'flags':{},'sort':0x0,'sorting':_0x26a440===_0x11da92[_0x2f7673(0xf0)]-0x1?sorting||'a':'a'})),_0x4e63d7[_0x2f7673(0xe9)](_0x3602b7=>_0x3602b7[_0x2f7673(0xed)]=(''+_0x3602b7['name'])['trim']()||'\x20'),_0x4e63d7;}static async['pFoldersGetId']({folderType:_0x298550,folderIdRoot:folderIdRoot=null,folderNames:_0x59cf65}){const _0x523d9b=_0x19ec9e,_0x30c646=this['_getFolderMetas']({'folderNames':_0x59cf65});return this[_0x523d9b(0xeb)]({'folderMetas':_0x30c646,'folderIdRoot':folderIdRoot,'isCreate':![]});}static async['_pGetCreateFolders_']({folderType:_0x47d291,folderIdRoot:_0x5d153b,folderMetas:_0x2c6a80,isCreate:isCreate=!![]}){const _0x156d19=_0x19ec9e;if(!_0x2c6a80?.[_0x156d19(0xf0)]||!_0x47d291)return null;const _0x49a0a5=[];if(_0x5d153b!=null){const _0x3ed1e4=CONFIG['Folder'][_0x156d19(0xf1)][_0x156d19(0xfc)][_0x156d19(0xf2)](_0x5d153b);if(_0x3ed1e4)_0x49a0a5[_0x156d19(0xef)](_0x3ed1e4);}for(let _0x14ee11=0x0;_0x14ee11<_0x2c6a80[_0x156d19(0xf0)];++_0x14ee11){const {name:_0x476839}=_0x2c6a80[_0x14ee11],_0x39ac07=_0x49a0a5['length']?_0x49a0a5[_0x156d19(0xf8)]()['id']:null,_0x1b346f=this['_pCreateFolders_findFolder']({'folderType':_0x47d291,'folderStack':_0x49a0a5,'name':_0x476839,'parentId':_0x39ac07});if(_0x1b346f){_0x49a0a5[_0x156d19(0xef)](_0x1b346f);continue;}if(!isCreate)return null;if(!Util[_0x156d19(0x102)][_0x156d19(0xfb)]())break;const _0x4b6c09={..._0x2c6a80[_0x14ee11],'parent':_0x39ac07,'type':_0x47d291},_0x49c9d5=await Folder[_0x156d19(0xfa)](_0x4b6c09,{});_0x49a0a5[_0x156d19(0xef)](_0x49c9d5);}if(_0x49a0a5[_0x156d19(0xf0)])return _0x49a0a5[_0x156d19(0xf8)]()['id'];return null;}static[_0x19ec9e(0xec)]({folderType:_0x4571ca,folderStack:_0x88f8d9,name:_0x37a343,parentId:_0x588d12}){const _0x410cde=_0x19ec9e,_0xa5aa84=CONFIG[_0x410cde(0x101)][_0x410cde(0xf1)][_0x410cde(0xfc)][_0x410cde(0xf9)][_0x410cde(0xf5)](_0x11a781=>{const _0x5a4e9f=_0x410cde,_0x22de3c=_0x11a781['data'][_0x5a4e9f(0xed)]===''+_0x37a343,_0x597c04=_0x11a781[_0x5a4e9f(0xe8)]['type']===_0x4571ca,_0x279328=_0x588d12?_0x11a781[_0x5a4e9f(0xe8)][_0x5a4e9f(0x108)]===_0x588d12:_0x11a781[_0x5a4e9f(0xe8)][_0x5a4e9f(0x108)]==null;return _0x22de3c&&_0x597c04&&_0x279328;});if(_0xa5aa84[_0x410cde(0xf0)]>0x1){const _0x4fe91b='Ambiguous\x20folder\x20path!\x20Found\x20multiple\x20folders\x20for\x20'+_0x88f8d9['map'](_0x256f52=>_0x256f52['data'][_0x410cde(0xed)])[_0x410cde(0x103)](_0x410cde(0x109));ui[_0x410cde(0x106)][_0x410cde(0xee)](_0x4fe91b);throw new Error(_0x4fe91b);}if(_0xa5aa84[_0x410cde(0xf0)])return _0xa5aa84[0x0];return null;}}UtilFolders[_0x19ec9e(0xfd)]=new VeLock();export{UtilFolders};function _0x57e5(){const _0x54cd41=['push','length','collection','get','2469396PGUmOj','1759184TlNgak','filter','_getFolderMetas','1610802uZrnyP','last','contents','create','canUserCreateFolders','instance','_LOCK_FOLDER_CREATE','pLock','5189348ZXJUdG','Only\x20one\x20of\x20\x22folderNames\x22\x20and\x20\x22folderMetas\x22\x20may\x20be\x20specified!','Folder','Fvtt','join','2932434rfmkfw','Only\x20one\x20of\x20\x22folderMetas\x22\x20and\x20\x22sorting\x22\x20may\x20be\x20specified!','notifications','11253656GPzYgC','parent','\x20>\x20','6SYlDqT','data','forEach','1200325EpaxWN','_pGetCreateFolders_','_pCreateFolders_findFolder','name','error'];_0x57e5=function(){return _0x54cd41;};return _0x57e5();}