function _0x5b64(){const _0x158d18=['getData','LIBWRAPPER_MODE_WRAPPER','\x20|\x20Rendering\x20','_getNodeType','popOut','activateListeners','_lw_Application_defaultOptions','attributes','_recurse_updateAttributes','CLOSING','map','find','ActorSheet.prototype._render','_lw_ActorSheetOrItemSheet_prototype__render','_Render','219070BWhRqE','1440124VKbtAm','24GnQEEx','mergeObject','removeChild','_doMergeElements','forEach','_priorState','title','_activateCoreListeners','nodeType','LIBWRAPPER_MODE_MIXED','NONE','1108338aMjrDB','_recurse_removeExtraChildren','off','getAttribute','get','ERROR','57112AHotvJ','_isUseCustomRender','_state','form','502896WNQgRE','RENDERING','4113CmzmaW','appendChild','_recurse','options','setAttribute','559701cQsJXL','RENDERED','deepEquals','has','fromType_text','addPatch','parentNode','.window-title','replaceChild','tagName','_pRenderApplication','Inner','resizable','_getNodeContents','delete','length','init','log','textContent','bind','push','cloneNode','_lw_ActorSheetOrItemSheet_prototype__renderInner','innerHTML','fromType_comment','toLowerCase','isLazyActorAndItemRendering','isAlwaysResizableApps','includes','110bzKBhq','Application.defaultOptions','childNodes','ItemSheet.prototype._render'];_0x5b64=function(){return _0x158d18;};return _0x5b64();}function _0x4397(_0x1eb3b3,_0x1184c5){const _0x5b643d=_0x5b64();return _0x4397=function(_0x4397bd,_0x19c6fb){_0x4397bd=_0x4397bd-0xa0;let _0x577874=_0x5b643d[_0x4397bd];return _0x577874;},_0x4397(_0x1eb3b3,_0x1184c5);}const _0x335b4c=_0x4397;(function(_0xa0a25a,_0x5dafca){const _0x42102e=_0x4397,_0x2a8c64=_0xa0a25a();while(!![]){try{const _0x44f28e=parseInt(_0x42102e(0xad))/0x1+-parseInt(_0x42102e(0xd5))/0x2*(parseInt(_0x42102e(0xb3))/0x3)+-parseInt(_0x42102e(0xb1))/0x4+parseInt(_0x42102e(0xe8))/0x5+parseInt(_0x42102e(0xa7))/0x6+parseInt(_0x42102e(0xe9))/0x7+-parseInt(_0x42102e(0xea))/0x8*(parseInt(_0x42102e(0xb8))/0x9);if(_0x44f28e===_0x5dafca)break;else _0x2a8c64['push'](_0x2a8c64['shift']());}catch(_0x5c9674){_0x2a8c64['push'](_0x2a8c64['shift']());}}}(_0x5b64,0x19505));import{UtilLibWrapper}from'./PatcherLibWrapper.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';class Patcher_Application{static[_0x335b4c(0xc8)](){const _0x7a680c=_0x335b4c;Patcher_Application[_0x7a680c(0xe7)][_0x7a680c(0xc8)](),UtilLibWrapper[_0x7a680c(0xbd)](_0x7a680c(0xd6),this[_0x7a680c(0xdf)],UtilLibWrapper[_0x7a680c(0xda)]);}static[_0x335b4c(0xdf)](_0x4015f1,..._0x7cdf55){const _0xe604fe=_0x335b4c;if(!Config['get']('ui',_0xe604fe(0xd3)))return _0x4015f1(..._0x7cdf55);const _0x29d6ec=_0x4015f1(..._0x7cdf55);return _0x29d6ec[_0xe604fe(0xc4)]=!![],_0x29d6ec;}}Patcher_Application[_0x335b4c(0xe7)]=class{static[_0x335b4c(0xc8)](){const _0x834f10=_0x335b4c;[_0x834f10(0xe5),_0x834f10(0xd8)][_0x834f10(0xa0)](_0x5e79db=>{const _0x3214a8=_0x834f10;UtilLibWrapper[_0x3214a8(0xbd)](_0x5e79db,this['_lw_ActorSheetOrItemSheet_prototype__render'],UtilLibWrapper[_0x3214a8(0xa5)]),UtilLibWrapper['addPatch'](_0x5e79db+_0x3214a8(0xc3),this[_0x3214a8(0xce)],UtilLibWrapper['LIBWRAPPER_MODE_WRAPPER']);});}static[_0x335b4c(0xe6)](_0x3ac561,..._0x35300f){const _0xe6b668=_0x335b4c;if(!Patcher_Application[_0xe6b668(0xe7)]['_isUseCustomRender'](this))return _0x3ac561(..._0x35300f);return Patcher_Application[_0xe6b668(0xe7)][_0xe6b668(0xc2)][_0xe6b668(0xcb)](this)(..._0x35300f);}static async[_0x335b4c(0xce)](_0x2ab82c,..._0x5d0cc7){const _0x665afe=_0x335b4c;if(!Patcher_Application['_Render'][_0x665afe(0xae)](this))return _0x2ab82c(..._0x5d0cc7);const _0x300b60=this['form'],_0x2d5601=await _0x2ab82c(..._0x5d0cc7);return this[_0x665afe(0xb0)]=_0x300b60,_0x2d5601;}static['_isUseCustomRender'](_0x31b217){const _0x285cbc=_0x335b4c;if(!_0x31b217[_0x285cbc(0xdd)])return![];if(!Config[_0x285cbc(0xab)]('ui',_0x285cbc(0xd2)))return![];return!!_0x31b217['element']?.[_0x285cbc(0xc7)];}static async[_0x335b4c(0xc2)](_0x2721e6=![],_0x25631b={}){const _0x3083cd=_0x335b4c,_0x4b431e=Application['RENDER_STATES'];this[_0x3083cd(0xa1)]=this['_state'];if([_0x4b431e[_0x3083cd(0xe2)],_0x4b431e[_0x3083cd(0xb2)]]['includes'](this[_0x3083cd(0xaf)]))return;if(!_0x2721e6&&this[_0x3083cd(0xaf)]<=_0x4b431e[_0x3083cd(0xa6)])return;[_0x4b431e[_0x3083cd(0xa6)],_0x4b431e['CLOSED'],_0x4b431e[_0x3083cd(0xac)]][_0x3083cd(0xd4)](this[_0x3083cd(0xaf)])&&console[_0x3083cd(0xc9)](vtt+_0x3083cd(0xdb)+this['constructor']['name']);this[_0x3083cd(0xaf)]=_0x4b431e[_0x3083cd(0xb2)],foundry['utils'][_0x3083cd(0xeb)](this[_0x3083cd(0xb6)],_0x25631b,{'insertKeys':![]});const _0x3224c9=await this[_0x3083cd(0xd9)](this[_0x3083cd(0xb6)]),_0x418db9=await this['_renderInner'](_0x3224c9),_0x1f52ab=_0x418db9 instanceof jQuery?_0x418db9:$(_0x418db9),_0x3c8968=Patcher_Application['_Render'][_0x3083cd(0xed)][_0x3083cd(0xcb)](this)({'$inner':_0x1f52ab});_0x3c8968[_0x3083cd(0xe4)]('*')[_0x3083cd(0xa9)](),this[_0x3083cd(0xa3)](_0x3c8968),this[_0x3083cd(0xde)](_0x3c8968),this[_0x3083cd(0xaf)]=_0x4b431e[_0x3083cd(0xb9)];}static['_doMergeElements']({$inner:_0x59390a}){const _0x1d1ff9=_0x335b4c,_0xe6db3f=UtilApplications['$getAppElement'](this);if(!this['popOut'])throw new Error('Application\x20was\x20not\x20a\x20popout?!');_0xe6db3f[_0x1d1ff9(0xe4)](_0x1d1ff9(0xbf))['text'](this[_0x1d1ff9(0xa2)]);const _0x270137=_0xe6db3f[_0x1d1ff9(0xe4)]('.window-content')[0x0],_0x321435=_0x270137[_0x1d1ff9(0xcd)](![]);return _0x270137[_0x1d1ff9(0xd7)][0x0]?.[_0x1d1ff9(0xa4)]===0x3&&(_0x321435[_0x1d1ff9(0xcf)]=_0x270137[_0x1d1ff9(0xd7)][0x0][_0x1d1ff9(0xca)]),_0x321435['appendChild'](_0x59390a[0x0]),Patcher_Application['_Render'][_0x1d1ff9(0xb5)]({'cur':_0x270137,'nxt':_0x321435}),$(_0x270137);}static[_0x335b4c(0xdc)](_0x5c2a09){const _0x115305=_0x335b4c;switch(_0x5c2a09[_0x115305(0xa4)]){case 0x3:return _0x115305(0xbc);case 0x8:return _0x115305(0xd0);default:return _0x5c2a09[_0x115305(0xc1)][_0x115305(0xd1)]();}}static[_0x335b4c(0xc5)](_0x275e85){const _0x14df8b=_0x335b4c;if(_0x275e85[_0x14df8b(0xd7)]&&_0x275e85[_0x14df8b(0xd7)][_0x14df8b(0xc7)]>0x0)return null;return _0x275e85[_0x14df8b(0xca)];}static[_0x335b4c(0xb5)]({cur:_0x556371,nxt:_0x5b315f}){const _0x5b6813=_0x335b4c;Patcher_Application[_0x5b6813(0xe7)][_0x5b6813(0xe1)]({'cur':_0x556371,'nxt':_0x5b315f}),Patcher_Application[_0x5b6813(0xe7)][_0x5b6813(0xa8)]({'cur':_0x556371,'nxt':_0x5b315f});const _0x1ccc20=[..._0x556371[_0x5b6813(0xd7)]];[..._0x5b315f['childNodes']][_0x5b6813(0xa0)]((_0x14c5d9,_0x383a1a)=>{const _0x239cef=_0x5b6813,_0x9eab9d=_0x1ccc20[_0x383a1a];if(!_0x9eab9d){_0x556371[_0x239cef(0xb4)](_0x14c5d9['cloneNode'](!![]));return;}const _0x2d018b=Patcher_Application[_0x239cef(0xe7)][_0x239cef(0xdc)](_0x9eab9d);if(Patcher_Application[_0x239cef(0xe7)]['_getNodeType'](_0x14c5d9)!==_0x2d018b){_0x9eab9d[_0x239cef(0xbe)][_0x239cef(0xc0)](_0x14c5d9[_0x239cef(0xcd)](!![]),_0x9eab9d);return;}if([_0x239cef(0xbc),_0x239cef(0xd0)][_0x239cef(0xd4)](_0x2d018b)){if(_0x9eab9d[_0x239cef(0xca)]!==_0x14c5d9[_0x239cef(0xca)])_0x9eab9d[_0x239cef(0xca)]=_0x14c5d9[_0x239cef(0xca)];return;}Patcher_Application[_0x239cef(0xe7)][_0x239cef(0xe1)]({'cur':_0x9eab9d,'nxt':_0x14c5d9}),Patcher_Application[_0x239cef(0xe7)][_0x239cef(0xb5)]({'cur':_0x9eab9d,'nxt':_0x14c5d9});});}static[_0x335b4c(0xa8)]({cur:_0xb6ccc5,nxt:_0x17e1e4}){const _0x44db1c=_0x335b4c,_0x45dc6a=[..._0xb6ccc5['childNodes']],_0x27057b=[..._0x17e1e4[_0x44db1c(0xd7)]];if(_0x45dc6a[_0x44db1c(0xc7)]-_0x27057b[_0x44db1c(0xc7)]<=0x0)return;const _0x587ddf=_0x45dc6a['map'](_0x4dcd6b=>Patcher_Application['_Render'][_0x44db1c(0xdc)](_0x4dcd6b)),_0x57acf8=_0x27057b[_0x44db1c(0xe3)](_0x5779fd=>Patcher_Application[_0x44db1c(0xe7)][_0x44db1c(0xdc)](_0x5779fd)),_0x2f3163=[];let _0x26e5b3=0x0;for(let _0x5e0ebf=0x0;_0x5e0ebf<_0x57acf8[_0x44db1c(0xc7)];++_0x5e0ebf){const _0x44426c=_0x5e0ebf+_0x26e5b3,_0x8acf73=_0x587ddf[_0x44426c],_0x16fe3e=_0x57acf8[_0x5e0ebf];if(_0x8acf73===_0x16fe3e){_0x2f3163[_0x44db1c(0xcc)](_0x44426c);continue;}for(let _0x280a14=_0x44426c;_0x280a14<_0x587ddf[_0x44db1c(0xc7)];++_0x280a14){const _0x1d5bd9=_0x587ddf[_0x280a14];if(_0x1d5bd9===_0x16fe3e){_0x2f3163['push'](_0x280a14),_0x26e5b3+=_0x280a14-_0x44426c;break;}}}if(!_0x2f3163['length']){_0xb6ccc5[_0x44db1c(0xcf)]='';return;}const _0x7b3ef2=new Set(_0x2f3163);for(let _0x9a52a8=_0x45dc6a['length']-0x1;_0x9a52a8>=0x0;--_0x9a52a8){if(!_0x7b3ef2[_0x44db1c(0xbb)](_0x9a52a8))_0xb6ccc5[_0x44db1c(0xec)](_0xb6ccc5[_0x44db1c(0xd7)][_0x9a52a8]);}}static['_recurse_updateAttributes']({cur:_0x26f78d,nxt:_0x62898d}){const _0x19fa54=_0x335b4c,_0x5776d5=[..._0x26f78d['attributes']]['map'](({name:_0x5d5d2f,textContent:_0x26cb94})=>({'name':_0x5d5d2f,'textContent':_0x26cb94})),_0x19b03f=[..._0x62898d[_0x19fa54(0xe0)]][_0x19fa54(0xe3)](({name:_0x18a2eb,textContent:_0xd5fb34})=>({'name':_0x18a2eb,'textContent':_0xd5fb34}));if(CollectionUtil[_0x19fa54(0xba)](_0x5776d5,_0x19b03f))return;const _0x111e91=new Set([..._0x26f78d[_0x19fa54(0xe0)]][_0x19fa54(0xe3)](_0x270b19=>_0x270b19['name']));[..._0x62898d[_0x19fa54(0xe0)]][_0x19fa54(0xa0)](({name:_0x44de27,textContent:_0x4586df})=>{const _0x10f9b5=_0x19fa54;_0x111e91[_0x10f9b5(0xc6)](_0x44de27);if(_0x26f78d[_0x10f9b5(0xaa)](_0x44de27)!==_0x62898d[_0x10f9b5(0xaa)](_0x44de27))_0x26f78d[_0x10f9b5(0xb7)](_0x44de27,_0x4586df);}),_0x111e91[_0x19fa54(0xa0)](_0x4ac884=>_0x62898d['removeAttribute'](_0x4ac884));}};export{Patcher_Application};