const _0x18f3d3=_0x4b8a;(function(_0x2c98c9,_0x28163a){const _0x44dd24=_0x4b8a,_0x32ec3b=_0x2c98c9();while(!![]){try{const _0x825f5f=-parseInt(_0x44dd24(0x1de))/0x1*(parseInt(_0x44dd24(0x140))/0x2)+parseInt(_0x44dd24(0x16d))/0x3+parseInt(_0x44dd24(0x216))/0x4*(parseInt(_0x44dd24(0x1cb))/0x5)+parseInt(_0x44dd24(0x1d4))/0x6+parseInt(_0x44dd24(0x223))/0x7+-parseInt(_0x44dd24(0x122))/0x8*(-parseInt(_0x44dd24(0x16c))/0x9)+-parseInt(_0x44dd24(0x23e))/0xa;if(_0x825f5f===_0x28163a)break;else _0x32ec3b['push'](_0x32ec3b['shift']());}catch(_0x15e175){_0x32ec3b['push'](_0x32ec3b['shift']());}}}(_0x4999,0xe2a39));import{SharedConsts}from'../shared/SharedConsts.js';import{Util,LGT}from'./Util.js';import{UtilApplications}from'./UtilApplications.js';import{ConfigConsts}from'./ConfigConsts.js';import{UtilCompat}from'./UtilCompat.js';import{UtilGameSettings}from'./UtilGameSettings.js';import{UtilHooks}from'./UtilHooks.js';function _0x4b8a(_0x4ed9f5,_0x4d5331){const _0x4999bf=_0x4999();return _0x4b8a=function(_0x4b8af5,_0x4f0ec6){_0x4b8af5=_0x4b8af5-0x110;let _0x33df3b=_0x4999bf[_0x4b8af5];return _0x33df3b;},_0x4b8a(_0x4ed9f5,_0x4d5331);}import{UtilKeybinding}from'./UtilKeybinding.js';class ModuleSettingsStub extends FormApplication{static get[_0x18f3d3(0x193)](){const _0x4190ef=_0x18f3d3;return foundry[_0x4190ef(0x201)][_0x4190ef(0x177)](super['defaultOptions'],{'title':'Opening...','template':SharedConsts[_0x4190ef(0x12f)]+_0x4190ef(0x111),'width':0x64,'height':0x64});}async[_0x18f3d3(0x1a3)](..._0x1a3c56){const _0x646a41=await super['render'](..._0x1a3c56);return setTimeout(async()=>{const _0x273181=_0x4b8a;Config[_0x273181(0x1ab)](),await this[_0x273181(0x1eb)]();},0x1e),_0x646a41;}['_onSubmit'](){}[_0x18f3d3(0x24f)](){}}class Config extends Application{static['api_getWikiSummary'](){const _0x5872ad=_0x18f3d3;return this[_0x5872ad(0x247)]();}static[_0x18f3d3(0x183)](){const _0x394b2f=_0x18f3d3;return this[_0x394b2f(0x1c5)]();}static [_0x18f3d3(0x235)]=![];static get[_0x18f3d3(0x186)](){const _0x16ceff=_0x18f3d3;return ROUTE_PREFIX?'/'+ROUTE_PREFIX+_0x16ceff(0x136):_0x16ceff(0x136);}static get[_0x18f3d3(0x187)](){const _0x5c6646=_0x18f3d3;return this[_0x5c6646(0x235)];}static['preInit'](){this['_preInit_registerKeybinds']();}static[_0x18f3d3(0x1b3)](){const _0x28056f=_0x18f3d3;game['keybindings'][_0x28056f(0x15c)](SharedConsts['MODULE_NAME'],_0x28056f(0x1f9),{'name':_0x28056f(0x1c6),'editable':[],'onDown':()=>{return this['_pOpen'](),!![];}}),game[_0x28056f(0x11c)][_0x28056f(0x15c)](SharedConsts[_0x28056f(0x167)],_0x28056f(0x141),{'name':_0x28056f(0x1c7),'editable':[],'onDown':()=>{const _0x433be0=_0x28056f,_0x4108a6=UtilKeybinding[_0x433be0(0x1cf)]({'minRole':Config['get'](_0x433be0(0x1b4),_0x433be0(0x192))});if(!_0x4108a6)return!![];return Config[_0x433be0(0x188)](_0x4108a6),!![];}}),game[_0x28056f(0x11c)][_0x28056f(0x15c)](SharedConsts['MODULE_NAME'],'Config__setRivetTargetForCurrentSheet',{'name':_0x28056f(0x1cd),'editable':[],'onDown':()=>{const _0x506260=_0x28056f,_0x3da6f8=UtilKeybinding[_0x506260(0x20e)]({'isRequireActor':!![],'isRequireOwnership':!![],'minRole':Config[_0x506260(0x233)](_0x506260(0x1b4),_0x506260(0x192))});if(!_0x3da6f8?.['actor'])return!![];return Config['setRivetTargetActor'](_0x3da6f8['actor']),!![];}}),game['keybindings']['register'](SharedConsts[_0x28056f(0x167)],_0x28056f(0x1b5),{'name':_0x28056f(0x21b),'editable':[],'onDown':()=>{const _0x216d16=_0x28056f,_0xc6da32=UtilKeybinding[_0x216d16(0x1ad)]({'isRequireOwnership':!![],'minRole':Config[_0x216d16(0x233)](_0x216d16(0x1b4),_0x216d16(0x192))});if(!_0xc6da32)return!![];return Config['setRivetTargetActor'](_0xc6da32),!![];}}),game['keybindings']['register'](SharedConsts[_0x28056f(0x167)],_0x28056f(0x197),{'name':_0x28056f(0x1e8),'editable':[],'onDown':()=>{const _0x1537d9=_0x28056f;return Config[_0x1537d9(0x188)](null),!![];}}),game[_0x28056f(0x11c)][_0x28056f(0x15c)](SharedConsts['MODULE_NAME'],_0x28056f(0x255),{'name':'Report\x20Bug','editable':[],'onDown':()=>{return Config['_doShowBugReportForm'](),!![];}});}static async[_0x18f3d3(0x22f)](){const _0x14694e=_0x18f3d3;await this[_0x14694e(0x256)]();let _0x5780d8=UtilGameSettings[_0x14694e(0x1fc)](SharedConsts[_0x14694e(0x167)],Config[_0x14694e(0x1ca)]);if(_0x5780d8==null||!Object[_0x14694e(0x221)](_0x5780d8)[_0x14694e(0x12b)])Config[_0x14694e(0x184)]=Config['_getDefaultGmConfig']();else{Config[_0x14694e(0x184)]=_0x5780d8;const _0x3f0c67=this[_0x14694e(0x1c3)](Config[_0x14694e(0x184)],{'isPlayer':![]});if(_0x3f0c67)Config[_0x14694e(0x168)]();}game['socket']['on'](this['_SOCKET_ID'],_0x23443c=>{const _0x359e0a=_0x14694e;switch(_0x23443c['type']){case'config.update':{const _0x5bcd1a=_0x23443c[_0x359e0a(0x151)],_0x4dcc20=MiscUtil['copy'](Config[_0x359e0a(0x184)]);Object[_0x359e0a(0x15d)](Config['_CONFIG'],_0x5bcd1a);if(!game[_0x359e0a(0x226)][_0x359e0a(0x11f)]&&this['_INSTANCE'])this[_0x359e0a(0x227)][_0x359e0a(0x17e)](_0x5bcd1a);UtilHooks[_0x359e0a(0x127)](UtilHooks[_0x359e0a(0x25d)],{'previous':_0x4dcc20,'current':MiscUtil[_0x359e0a(0x196)](Config[_0x359e0a(0x184)])});break;}}});if(!game[_0x14694e(0x226)][_0x14694e(0x11f)]){const _0xbcb4fc=await StorageUtil['pGet'](Config[_0x14694e(0x16b)]);if(_0xbcb4fc==null)Config[_0x14694e(0x234)]=Config[_0x14694e(0x145)]();else{Config['_CONFIG_PLAYER']=_0xbcb4fc;const _0x34979c=this[_0x14694e(0x1c3)](Config[_0x14694e(0x234)],{'isPlayer':!![]});if(_0x34979c)Config[_0x14694e(0x168)]();}}this[_0x14694e(0x149)](),!Config[_0x14694e(0x233)](_0x14694e(0x25c),_0x14694e(0x225))?fetch(Config[_0x14694e(0x186)],{'method':_0x14694e(0x146),'headers':{'Content-Type':_0x14694e(0x174)},'body':JSON['stringify']({'type':'getVersion'})})[_0x14694e(0x11a)](_0x5f4bd4=>_0x5f4bd4['json']())[_0x14694e(0x11a)](_0x50c2c0=>{const _0x1dbebc=_0x14694e;Config[_0x1dbebc(0x13d)](_0x50c2c0[_0x1dbebc(0x19c)]),console['log'](...LGT,'Compatible\x20Plutonium\x20backend\x20(v'+_0x50c2c0[_0x1dbebc(0x19c)]+_0x1dbebc(0x12c)),UtilHooks[_0x1dbebc(0x127)](UtilHooks[_0x1dbebc(0x25d)]);})[_0x14694e(0x22e)](()=>{const _0x3086c5=_0x14694e;Config[_0x3086c5(0x13d)](![]),console[_0x3086c5(0x217)](...LGT,_0x3086c5(0x236)),UtilHooks[_0x3086c5(0x127)](UtilHooks[_0x3086c5(0x25d)]);}):(Config[_0x14694e(0x13d)](![]),console[_0x14694e(0x24a)](...LGT,'Plutonium\x20backend\x20detected\x20was\x20skipped.\x20Some\x20features\x20may\x20be\x20unavailable.')),game[_0x14694e(0x131)][_0x14694e(0x14f)](SharedConsts[_0x14694e(0x167)],_0x14694e(0x262),{'label':'Open\x20Config\x20Editor','icon':_0x14694e(0x1f5),'type':ModuleSettingsStub}),this[_0x14694e(0x235)]=!![];}static[_0x18f3d3(0x149)](){const _0x1e4075=_0x18f3d3;Config['_DEFAULT_CONFIG__SORTED_FLAT'][_0x1e4075(0x1ed)](([_0x1aba8f,_0x517034])=>{Object['entries'](_0x517034)['forEach'](([_0x34aed9,_0x50ed84])=>{const _0x1324b3=_0x4b8a;if(!_0x50ed84[_0x1324b3(0x1b2)])return;Object['entries'](_0x50ed84[_0x1324b3(0x1b2)])['find'](([_0x39f786,_0x282bfc])=>{const _0x3f32cb=_0x1324b3,_0x38bec1=_0x50ed84[_0x3f32cb(0x1d2)]===_0x3f32cb(0x1dc)?this[_0x3f32cb(0x1bf)](_0x282bfc):_0x282bfc,_0x18b2b6=_0x50ed84[_0x3f32cb(0x1d2)]===_0x3f32cb(0x1dc)?_0x282bfc[_0x3f32cb(0x242)]||_0x38bec1:_0x38bec1;if(!UtilCompat['isModuleActive'](_0x39f786))return![];const _0x7222af=!CollectionUtil[_0x3f32cb(0x13c)](_0x38bec1,Config['get'](_0x1aba8f,_0x34aed9));Config[_0x3f32cb(0x20f)](_0x1aba8f,_0x34aed9,_0x38bec1,{'isSkipPermissionCheck':!![]}),_0x7222af&&console[_0x3f32cb(0x217)](...LGT,game[_0x3f32cb(0x1a6)][_0x3f32cb(0x233)](_0x39f786)[_0x3f32cb(0x182)][_0x3f32cb(0x1b9)]+_0x3f32cb(0x213)+_0x1aba8f+'.'+_0x34aed9+_0x3f32cb(0x1a4)+(_0x18b2b6!=null?JSON[_0x3f32cb(0x16e)](_0x18b2b6):_0x18b2b6)+_0x3f32cb(0x222));});});});}static async['_pInit_pRegisterSettings'](){const _0x52609e=_0x18f3d3;await game[_0x52609e(0x131)][_0x52609e(0x15c)](SharedConsts['MODULE_NAME'],Config[_0x52609e(0x1ca)],{'name':_0x52609e(0x259),'default':{},'type':Object,'scope':_0x52609e(0x1af),'onChange':_0x371917=>{}});}static[_0x18f3d3(0x1c3)](_0x19fae2,_0x5abac6){const _0xfc814=_0x18f3d3;_0x5abac6=_0x5abac6||{};const _0x20b127=!!_0x5abac6[_0xfc814(0x1b8)];let _0xc121ca=![];return Object[_0xfc814(0x18e)](this['_getDefaultConfig']({'isPlayer':_0x20b127}))[_0xfc814(0x1ed)](([_0xc4f393,_0x1cdb13])=>{const _0x5e4a9f=_0xfc814;!_0x19fae2[_0xc4f393]?(_0x19fae2[_0xc4f393]=_0x1cdb13,_0xc121ca=!![]):Object['entries'](_0x1cdb13)[_0x5e4a9f(0x1ed)](([_0xa283,_0x396617])=>{_0x19fae2[_0xc4f393][_0xa283]===undefined&&(_0x19fae2[_0xc4f393][_0xa283]=_0x396617,_0xc121ca=!![]);});}),_0xc121ca;}static[_0x18f3d3(0x1bb)](_0x24bd68){const _0x417937=_0x18f3d3;_0x24bd68=_0x24bd68||{};const _0x37dcab=_0x417937(0x1c0)+(Config[_0x417937(0x233)]('ui',_0x417937(0x1d9))?_0x417937(0x115):_0x417937(0x204));return $(_0x417937(0x118)+(_0x24bd68[_0x417937(0x198)]?_0x417937(0x209):_0x417937(0x17a))+'\x22\x20'+(_0x24bd68['isGameSettingsButton']?'':'title=\x22'+_0x37dcab+'\x22')+_0x417937(0x22b)+(_0x24bd68[_0x417937(0x198)]?'\x20'+_0x37dcab:'')+_0x417937(0x172))[_0x417937(0x1ff)](_0x293987=>this[_0x417937(0x1ab)](_0x293987));}static[_0x18f3d3(0x1ab)](_0x5f4a71,_0x2f6c51){const _0x586320=_0x18f3d3;if(_0x5f4a71)_0x5f4a71[_0x586320(0x21a)]();return this[_0x586320(0x160)]({'initialVisibleGroup':_0x2f6c51});}static[_0x18f3d3(0x160)]({initialVisibleGroup:initialVisibleGroup=null}={}){const _0x4b6d26=_0x18f3d3;if(Config[_0x4b6d26(0x227)]){Config[_0x4b6d26(0x227)]['render'](!![]),Config[_0x4b6d26(0x227)]['maximize'](),UtilApplications['bringToFront'](Config[_0x4b6d26(0x227)]);if(initialVisibleGroup)Config[_0x4b6d26(0x227)]['_setVisibleGroup'](initialVisibleGroup);return;}Config[_0x4b6d26(0x227)]=new Config({'initialVisibleGroup':initialVisibleGroup}),Config[_0x4b6d26(0x227)][_0x4b6d26(0x1a3)](!![]);}static[_0x18f3d3(0x113)](){const _0x37f5af=_0x18f3d3;return this[_0x37f5af(0x17b)]({'isPlayer':![]});}static['_getDefaultPlayerConfig'](){const _0x6ab2b=_0x18f3d3;return this[_0x6ab2b(0x17b)]({'isPlayer':!![]});}static[_0x18f3d3(0x17b)](_0x233b64){const _0x5135cf=_0x18f3d3;_0x233b64=_0x233b64||{};const _0x9e9039=_0x233b64['isPlayer'],_0x10d99e=MiscUtil[_0x5135cf(0x196)](Config['_DEFAULT_CONFIG__SORTED']),_0x480129={};return _0x10d99e[_0x5135cf(0x1ed)](([_0xab7b81,_0x5657dd])=>{const _0x205b4f=_0x5135cf,_0x3fa623=_0x480129[_0xab7b81]={},_0x3cef3e=_0x2411d=>Object[_0x205b4f(0x18e)](_0x2411d)[_0x205b4f(0x1ed)](([_0x2dcf9e,_0x4621ce])=>{const _0xe2bf82=_0x205b4f;if(_0x9e9039){if(_0x4621ce[_0xe2bf82(0x1e9)])_0x3fa623[_0x2dcf9e]=null;}else _0x3fa623[_0x2dcf9e]=_0x4621ce['default'];});if(_0x5657dd[_0x205b4f(0x131)])_0x3cef3e(_0x5657dd[_0x205b4f(0x131)]);if(_0x5657dd[_0x205b4f(0x237)])_0x3cef3e(_0x5657dd[_0x205b4f(0x237)]);if(_0x5657dd[_0x205b4f(0x1c2)])_0x3cef3e(_0x5657dd[_0x205b4f(0x1c2)]);}),_0x480129;}static[_0x18f3d3(0x1e4)](_0xadcdbf,_0x1df003){const _0xddf85b=this['_is_getKeyMeta'](_0xadcdbf,_0x1df003);return!!_0xddf85b?.['isPlayerEditable'];}static[_0x18f3d3(0x19f)](_0x1b9e87,_0x54ef6d){const _0x407e3b=_0x18f3d3,_0x3c4883=this[_0x407e3b(0x126)](_0x1b9e87,_0x54ef6d);return!!_0x3c4883?.[_0x407e3b(0x153)];}static[_0x18f3d3(0x126)](_0xe93d87,_0x52f0fa){const _0x27ce6d=_0x18f3d3;return Config[_0x27ce6d(0x1e1)][_0x27ce6d(0x248)](([_0xff068f])=>_0xff068f===_0xe93d87)[0x1][_0x52f0fa];}static[_0x18f3d3(0x1f8)](_0x4fdc33,_0x5c8896,_0x142f78){const _0x11ebb8=_0x18f3d3;if(!this[_0x11ebb8(0x117)](_0x4fdc33,_0x5c8896))return;const _0x3a1b2b=Config[_0x11ebb8(0x233)](_0x4fdc33,_0x5c8896),_0x5d99f2=game['user'][_0x11ebb8(0x11f)]?Config[_0x11ebb8(0x184)]:Config[_0x11ebb8(0x234)];(_0x5d99f2[_0x4fdc33]=_0x5d99f2[_0x4fdc33]||{})[_0x5c8896]=_0x142f78,Config[_0x11ebb8(0x168)](),this[_0x11ebb8(0x1d5)](_0x4fdc33,_0x5c8896,_0x3a1b2b,_0x142f78);}static[_0x18f3d3(0x20f)](_0x1659fd,_0x2ba14e,_0xd182be,{isSkipPermissionCheck:isSkipPermissionCheck=![]}={}){const _0x4f5e45=_0x18f3d3;if(!isSkipPermissionCheck&&!this['_isCanSetConfig'](_0x1659fd,_0x2ba14e))return;const _0x23ec23=Config['get'](_0x1659fd,_0x2ba14e);(Config['_CONFIG_TEMP'][_0x1659fd]=Config[_0x4f5e45(0x162)][_0x1659fd]||{})[_0x2ba14e]=_0xd182be,this[_0x4f5e45(0x1d5)](_0x1659fd,_0x2ba14e,_0x23ec23,_0xd182be);}static[_0x18f3d3(0x188)](_0x1f39ca){const _0x12598f=_0x18f3d3;if(!_0x1f39ca){ui[_0x12598f(0x13b)][_0x12598f(0x110)](_0x12598f(0x14a)),Config[_0x12598f(0x1f8)]('rivet','targetActorId',null);return;}const _0x5dd03f=_0x1f39ca[_0x12598f(0x137)]?_0x1f39ca[_0x12598f(0x138)]:_0x1f39ca['id'];Config[_0x12598f(0x1f8)]('rivet','targetActorId',_0x5dd03f),ui['notifications']['info'](_0x12598f(0x20a)+_0x1f39ca[_0x12598f(0x242)]+'\x22\x20('+_0x5dd03f+').\x20This\x20can\x20be\x20changed\x20in\x20the\x20Config.');}static['_fireConfigUpdateHook'](_0x1de2d1,_0x295126,_0x5c8185,_0x53b9eb){const _0x4263d4=_0x18f3d3;UtilHooks[_0x4263d4(0x127)](UtilHooks['HK_CONFIG_UPDATE'],{'previous':{[_0x1de2d1]:{[_0x295126]:_0x5c8185}},'current':{[_0x1de2d1]:{[_0x295126]:_0x53b9eb}}});}static[_0x18f3d3(0x117)](_0x1536f3,_0x1bf9af){const _0xb3c59=_0x18f3d3;return game[_0xb3c59(0x226)][_0xb3c59(0x11f)]||this[_0xb3c59(0x1e4)](_0x1536f3,_0x1bf9af);}static async[_0x18f3d3(0x25e)](){const _0x25278d=_0x18f3d3;if(game['user'][_0x25278d(0x11f)]){await game['settings'][_0x25278d(0x1f8)](SharedConsts[_0x25278d(0x167)],Config[_0x25278d(0x1ca)],MiscUtil['copy'](Config['_CONFIG']));const _0x3fe391={'type':_0x25278d(0x1e2),'config':MiscUtil[_0x25278d(0x196)](this['_CONFIG'])};game['socket']['emit'](Config[_0x25278d(0x124)],_0x3fe391);}else await StorageUtil['pSet'](Config[_0x25278d(0x16b)],MiscUtil[_0x25278d(0x196)](Config[_0x25278d(0x234)]));}static[_0x18f3d3(0x233)](_0x323420,_0x4b2038){const _0x299737=_0x18f3d3;if(Config[_0x299737(0x162)][_0x323420]?.[_0x4b2038]!==undefined)return Config['_CONFIG_TEMP'][_0x323420][_0x4b2038];if(!game[_0x299737(0x226)]['isGM']&&this[_0x299737(0x1e4)](_0x323420,_0x4b2038)){const _0xc37177=(Config[_0x299737(0x234)][_0x323420]||{})[_0x4b2038];if(this[_0x299737(0x19f)](_0x323420,_0x4b2038)&&_0xc37177===null||_0xc37177!=null)return this['_get_getValidValue'](_0x323420,_0x4b2038,_0xc37177);}const _0x7ef23a=(Config['_CONFIG'][_0x323420]||{})[_0x4b2038];return this[_0x299737(0x170)](_0x323420,_0x4b2038,_0x7ef23a);}static['_get_getValidValue'](_0xc3dcca,_0x2b5aea,_0x37bdb7){const _0x5aca5c=_0x18f3d3,_0xd871e4=Config['_DEFAULT_CONFIG__SORTED_FLAT'][_0x5aca5c(0x248)](([_0x2dbb61])=>_0x2dbb61===_0xc3dcca)[0x1][_0x2b5aea];if(_0xd871e4[_0x5aca5c(0x1d2)]!==_0x5aca5c(0x1dc))return _0x37bdb7;if(_0xd871e4[_0x5aca5c(0x153)]&&_0x37bdb7==null)return _0x37bdb7;const _0x788f1e=this[_0x5aca5c(0x238)](_0xd871e4);if(_0x37bdb7==null||!_0x788f1e[_0x5aca5c(0x173)](_0x3b9503=>(_0x3b9503['value']??_0x3b9503)===_0x37bdb7))return _0xd871e4['default']??(_0x788f1e[0x0][_0x5aca5c(0x1a5)]??_0x788f1e[0x0]);return _0x37bdb7;}static['_getDisplayLabels'](_0x5c8d5d,_0x5dd3a9){const _0x204d2a=_0x18f3d3,_0x54f119=ConfigConsts[_0x204d2a(0x152)][_0x5c8d5d]?.[_0x204d2a(0x242)],_0xee6074=ConfigConsts[_0x204d2a(0x152)][_0x5c8d5d]?.['settings']?.[_0x5dd3a9]?.[_0x204d2a(0x242)]||ConfigConsts[_0x204d2a(0x152)][_0x5c8d5d]?.[_0x204d2a(0x1c2)]?.[_0x5dd3a9]?.[_0x204d2a(0x242)]||ConfigConsts[_0x204d2a(0x152)][_0x5c8d5d]?.[_0x204d2a(0x237)]?.[_0x5dd3a9]?.[_0x204d2a(0x242)];return{'displayGroup':_0x54f119,'displayKey':_0xee6074};}static[_0x18f3d3(0x205)](_0x4e2e8f,_0x5e6825,_0x39a1eb){const _0x3ee2d4=_0x18f3d3,{displayGroup:_0x3d82ac,displayKey:_0x1c5dd6}=Config['_getDisplayLabels'](_0x4e2e8f,_0x5e6825);ui[_0x3ee2d4(0x13b)][_0x3ee2d4(0x253)](_0x3ee2d4(0x231)+_0x1c5dd6+'\x22\x20->\x20\x22'+_0x3d82ac+'\x22\x20during\x20initial\x20load!\x20'+VeCt['STR_SEE_CONSOLE']),console[_0x3ee2d4(0x253)](...LGT,_0x39a1eb);}constructor(_0x82d077){const _0x309285=_0x18f3d3;_0x82d077=_0x82d077||{},super({'width':0x2d0,'height':Util['getMaxWindowHeight'](),'title':'Config\x20Editor','template':SharedConsts[_0x309285(0x12f)]+_0x309285(0x1f3),'resizable':!![]}),this[_0x309285(0x1e7)]=null,this[_0x309285(0x1bd)]=null,this[_0x309285(0x267)]={};if(_0x82d077[_0x309285(0x16a)]){const _0x1a4863=Config[_0x309285(0x178)][_0x309285(0x1ef)](([_0x1ed924])=>_0x1ed924===_0x82d077[_0x309285(0x16a)]);if(!~_0x1a4863)throw new Error('Could\x20not\x20find\x20config\x20group\x20\x22'+_0x82d077[_0x309285(0x16a)]+'\x22');this[_0x309285(0x1e7)]=_0x1a4863;}this[_0x309285(0x158)]=null,this[_0x309285(0x14e)]=null,Config[_0x309285(0x227)]=this;}static get[_0x18f3d3(0x178)](){const _0x19bbbc=_0x18f3d3;if(Config['_CACHE_DEFAULT_CONFIG_SORTED'])return Config[_0x19bbbc(0x1db)];return Config[_0x19bbbc(0x1db)]=Object[_0x19bbbc(0x18e)](ConfigConsts[_0x19bbbc(0x152)])[_0x19bbbc(0x13a)](([,_0x306070],[,_0x3b2789])=>SortUtil[_0x19bbbc(0x1a9)](_0x306070[_0x19bbbc(0x242)],_0x3b2789[_0x19bbbc(0x242)]));}static get[_0x18f3d3(0x1e1)](){const _0x1c73b5=_0x18f3d3;if(Config[_0x1c73b5(0x1f6)])return Config[_0x1c73b5(0x1f6)];const _0x109a4e=[];return this['_DEFAULT_CONFIG__SORTED']['forEach'](([_0x57f674,_0x11297c])=>{const _0x19ee40=_0x1c73b5,_0x3109df={};Config[_0x19ee40(0x143)]['forEach'](_0x311830=>{const _0xf6d2a4=_0x19ee40;Object[_0xf6d2a4(0x18e)](_0x11297c[_0x311830]||{})[_0xf6d2a4(0x1ed)](([_0x272f9a,_0x3fd09a])=>{_0x3109df[_0x272f9a]=_0x3fd09a;});}),_0x109a4e['push']([_0x57f674,_0x3109df]);}),Config[_0x1c73b5(0x1f6)]=_0x109a4e,_0x109a4e;}[_0x18f3d3(0x265)](_0x249e33,_0x1d73eb,_0x3e2220){const _0x4b5635=_0x18f3d3,_0x54172c=MiscUtil[_0x4b5635(0x1f2)](this[_0x4b5635(0x267)],_0x249e33,_0x1d73eb,[]);_0x54172c[_0x4b5635(0x1bc)](_0x3e2220);}['_callFnsHandleUpdate'](_0x271ee9,_0x25d03a){const _0x1dcd04=_0x18f3d3,_0x1c6809=MiscUtil[_0x1dcd04(0x233)](this['_fnsHandleUpdate'],_0x271ee9,_0x25d03a);(_0x1c6809||[])[_0x1dcd04(0x1ed)](_0x5d0947=>_0x5d0947());}[_0x18f3d3(0x12e)](_0x537509){const _0x52248f=_0x18f3d3,_0x22d113=Config[_0x52248f(0x178)]['findIndex'](([_0x2fabaf])=>_0x2fabaf===_0x537509);if(!~_0x22d113)throw new Error(_0x52248f(0x18a)+_0x537509+'\x22');this[_0x52248f(0x249)](_0x22d113);}[_0x18f3d3(0x166)]({isClose:_0x1bec00,textSaving:_0x5149bd,textSaved:_0x553c90,text:_0x31fefa,textFailed:_0x32b5b4}){const _0x562b68=_0x18f3d3;let _0x3893cb=null;const _0x598ae7=$(_0x562b68(0x1e3)+_0x31fefa+_0x562b68(0x172))['click'](async()=>{const _0x3a2abd=_0x562b68;if(_0x598ae7['prop']('disabled'))return;clearTimeout(_0x3893cb);try{_0x598ae7[_0x3a2abd(0x19e)](_0x3a2abd(0x15e),!![])[_0x3a2abd(0x157)](_0x5149bd);const _0x269424=game['user'][_0x3a2abd(0x11f)]?Config[_0x3a2abd(0x184)]:Config[_0x3a2abd(0x234)],_0x289993=game[_0x3a2abd(0x226)]['isGM']?this[_0x3a2abd(0x158)]:this[_0x3a2abd(0x14e)],_0x532138=MiscUtil[_0x3a2abd(0x196)](_0x269424);Object[_0x3a2abd(0x15d)](_0x269424,MiscUtil['copy'](_0x289993)),await Config[_0x3a2abd(0x25e)](),UtilHooks[_0x3a2abd(0x127)](UtilHooks[_0x3a2abd(0x25d)],{'previous':_0x532138,'current':MiscUtil[_0x3a2abd(0x196)](_0x269424)}),_0x598ae7['text'](_0x553c90)[_0x3a2abd(0x19e)]('disabled',![]),_0x3893cb=setTimeout(()=>_0x598ae7[_0x3a2abd(0x157)](_0x31fefa),VeCt['DUR_INLINE_NOTIFY']);}catch(_0x5efd72){_0x598ae7[_0x3a2abd(0x157)](_0x32b5b4),_0x3893cb=setTimeout(()=>_0x598ae7[_0x3a2abd(0x157)](_0x31fefa)['prop'](_0x3a2abd(0x15e),![]),VeCt['DUR_INLINE_NOTIFY']*0x2);}if(_0x1bec00)await this[_0x3a2abd(0x1eb)]();});return _0x598ae7;}[_0x18f3d3(0x1be)](_0x98b921){const _0x59bea7=_0x18f3d3;super['activateListeners'](_0x98b921),_0x98b921[_0x59bea7(0x210)](),((async()=>{const _0x5c97c8=_0x59bea7;if(this[_0x5c97c8(0x1e7)]==null)this[_0x5c97c8(0x1e7)]=await StorageUtil['pGet'](Config[_0x5c97c8(0x21e)]);if(this[_0x5c97c8(0x1e7)]==null)this['_ixActiveTab']=0x0;this[_0x5c97c8(0x158)]=MiscUtil[_0x5c97c8(0x196)](Config[_0x5c97c8(0x184)]),this['_DRAFT_PLAYER']=MiscUtil[_0x5c97c8(0x196)](Config[_0x5c97c8(0x234)]);const _0x1e48e3=Config[_0x5c97c8(0x233)]('ui','isHideGmOnlyConfig');this[_0x5c97c8(0x1bd)]=Config[_0x5c97c8(0x178)][_0x5c97c8(0x156)](([_0x58a353,_0x2fd4c9],_0x2a923c)=>this['_activateListeners_getTabMeta']({'groupKey':_0x58a353,'groupVals':_0x2fd4c9,'ixTab':_0x2a923c,'isHideUnavailable':_0x1e48e3}));const _0x5e7ec0=this[_0x5c97c8(0x166)]({'textSaving':_0x5c97c8(0x14c),'textSaved':_0x5c97c8(0x1d1),'textFailed':_0x5c97c8(0x1ce),'text':_0x5c97c8(0x1c4)}),_0x106493=this[_0x5c97c8(0x166)]({'isClose':!![],'textSaving':_0x5c97c8(0x18d),'textSaved':_0x5c97c8(0x219),'textFailed':'Failed\x20to\x20save','text':'OK'}),_0x2eaf3a=$(_0x5c97c8(0x23a))['click'](()=>this['close']()),_0x4242c4=$(_0x5c97c8(0x24c));UiUtil[_0x5c97c8(0x147)]({'$ipt':_0x4242c4,'fnKeyup':()=>{const _0x270747=_0x5c97c8,_0x431705=_0x4242c4[_0x270747(0x1c9)]()['toLowerCase']()['trim']();this[_0x270747(0x1bd)][_0x270747(0x1ed)](_0x2f8b53=>_0x2f8b53?_0x2f8b53[_0x270747(0x25f)](_0x431705):null);}});const _0x305dc8=$(_0x5c97c8(0x18f))[_0x5c97c8(0x1ff)](async()=>{const _0x47848e=_0x5c97c8,{Changelog:_0x1b6004}=await import(_0x47848e(0x202));_0x1b6004['open']();}),_0x383f1d=$(_0x5c97c8(0x175))[_0x5c97c8(0x1ff)](()=>Config[_0x5c97c8(0x165)]()),_0x2fa0fb=$('<a\x20class=\x22btn\x20btn-5et\x20btn-xs\x20ml-1\x22\x20href=\x22https://www.patreon.com/Giddy5e\x22\x20rel=\x22noopener\x20noreferrer\x22><i\x20class=\x22fab\x20fa-patreon\x22></i>\x20Become\x20a\x20Patron</a>'),_0x2f033e=$(_0x5c97c8(0x24b))[_0x5c97c8(0x1ff)](async()=>{const _0x237217=_0x5c97c8,_0x33e828=await InputUiUtil[_0x237217(0x20c)]({'title':_0x237217(0x21d),'htmlDescription':'Are\x20you\x20sure\x20you\x20want\x20to\x20reset\x20all\x20config\x20settings?','textNo':_0x237217(0x1f0),'textYes':_0x237217(0x199)});if(!_0x33e828)return;this[_0x237217(0x1bd)][_0x237217(0x17d)](Boolean)[_0x237217(0x1ed)](_0x43bf67=>(_0x43bf67[_0x237217(0x112)]||[])[_0x237217(0x1ed)](_0x5a5252=>_0x5a5252()));});$$`<div class="ve-flex-col w-100 h-100">
				<div class="w-100 p-1 no-shrink cfg__wrp-search ve-flex-v-center">
					${_0x4242c4}
					${this['_activateListeners_$getWrpImportExport']()}
					${_0x305dc8}
					${_0x383f1d}
					${_0x2fa0fb}
					${_0x2f033e}
				</div>

				<div class="ve-flex w-100 h-100 min-h-0">
					<div class="ve-flex-col h-100 overflow-y-auto no-shrink cfg__wrp-tab-headers pb-1">
						${this[_0x5c97c8(0x1bd)][_0x5c97c8(0x156)](_0x234bea=>_0x234bea?_0x234bea[_0x5c97c8(0x169)]:null)}
					</div>

					<div class="w-100 h-100 overflow-y-auto p-2">
						${this[_0x5c97c8(0x1bd)]['map'](_0x3f2dcf=>_0x3f2dcf?_0x3f2dcf[_0x5c97c8(0x207)]:null)}
					</div>
				</div>

				<div class="w-100 p-1 no-shrink cfg__wrp-save">
					<div class="ve-flex-h-right">
						${_0x106493['addClass']('mr-2')}
						${_0x2eaf3a[_0x5c97c8(0x206)](_0x5c97c8(0x23f))}
						${_0x5e7ec0[_0x5c97c8(0x206)]('mr-4')}
					</div>
				</div>
			</div>`[_0x5c97c8(0x1ec)](_0x98b921);})());}static[_0x18f3d3(0x165)](){const _0x58a6b2=_0x18f3d3;new class _0x53d74d extends Application{constructor(){const _0x3a2db7=_0x4b8a;super({'title':_0x3a2db7(0x20b),'template':SharedConsts[_0x3a2db7(0x12f)]+_0x3a2db7(0x24e),'width':0x320,'height':0x258,'resizable':!![]});}[_0x58a6b2(0x1be)](_0x4cc1a3){const _0x43db50=_0x58a6b2,_0x85ea6e=$(_0x43db50(0x268))[_0x43db50(0x1ff)](async()=>{const _0x34b96c=_0x43db50;await MiscUtil[_0x34b96c(0x23d)](_0x41420c['val']()),JqueryUtil[_0x34b96c(0x1ba)](_0x85ea6e);}),_0x41420c=$(_0x43db50(0x14b));Config[_0x43db50(0x230)][_0x43db50(0x11a)](_0x1adef2=>{const _0x4d440b=_0x43db50;_0x41420c[_0x4d440b(0x1c9)](_0x4d440b(0x20d)+VeCt[_0x4d440b(0x189)]+_0x4d440b(0x1ea)+navigator[_0x4d440b(0x1d8)]+_0x4d440b(0x133)+_0x1adef2+_0x4d440b(0x232)+game[_0x4d440b(0x19c)]+',\x20'+game[_0x4d440b(0x182)]['system']['id']+'\x20'+game[_0x4d440b(0x182)][_0x4d440b(0x11e)][_0x4d440b(0x182)][_0x4d440b(0x19c)]+_0x4d440b(0x1f7)+[...game['modules']]['filter'](([,_0x430489])=>_0x430489[_0x4d440b(0x155)])[_0x4d440b(0x156)](([,_0x2758e6])=>_0x2758e6['id']+'=='+_0x2758e6[_0x4d440b(0x182)]?.[_0x4d440b(0x19c)])[_0x4d440b(0x13a)](SortUtil[_0x4d440b(0x1a9)])[_0x4d440b(0x129)]('\x0a')+'\x0a');}),$$`<p>Please copy and fill out the following form, and post the result in our <a href="https://discord.gg/nGvRCDs" target="_blank" rel="noopener noreferrer">Discord</a> (<span class="code">#plutonium-or-rivet-issues</span> channel):</p>
					<div class="ve-flex-h-right mb-2">${_0x85ea6e}</div>
					${_0x41420c}`[_0x43db50(0x1ec)](_0x4cc1a3);}}()['render'](!![]);}[_0x18f3d3(0x17f)](){const _0x27e413=_0x18f3d3;if(!game['user'][_0x27e413(0x11f)])return null;const _0x52c556=$(_0x27e413(0x228))[_0x27e413(0x1ff)](()=>{const _0x369ff3=_0x27e413;DataUtil[_0x369ff3(0x139)](SharedConsts['MODULE_NAME']+_0x369ff3(0x266),{'config':MiscUtil['copy'](this[_0x369ff3(0x12a)][_0x369ff3(0x184)])},{'propVersion':'moduleVersion','fileType':_0x369ff3(0x151),'valVersion':game['modules'][_0x369ff3(0x233)](SharedConsts[_0x369ff3(0x167)])[_0x369ff3(0x182)][_0x369ff3(0x19c)]});}),_0x286ff8=$(_0x27e413(0x1e5))[_0x27e413(0x1ff)](async()=>{const _0x320eca=_0x27e413,{jsons:_0x4d486e,errors:_0x1a32ea}=await DataUtil[_0x320eca(0x191)]({'expectedFileType':_0x320eca(0x151),'propVersion':_0x320eca(0x254)});DataUtil['doHandleFileLoadErrorsGeneric'](_0x1a32ea);if(!_0x4d486e?.[_0x320eca(0x12b)])return;const _0x5753d9=_0x4d486e[0x0]?.[_0x320eca(0x151)];if(!_0x5753d9)return ui[_0x320eca(0x13b)][_0x320eca(0x217)](_0x320eca(0x18c));this[_0x320eca(0x12a)]['_populateMissingConfigValues'](_0x5753d9,{'isPlayer':![]});const _0x1c54d7=MiscUtil[_0x320eca(0x196)](Config[_0x320eca(0x184)]);this['_handleGmConfigUpdate'](_0x5753d9),await Config['_pSaveConfig'](),UtilHooks['callAll'](UtilHooks['HK_CONFIG_UPDATE'],{'previous':_0x1c54d7,'current':MiscUtil[_0x320eca(0x196)](Config[_0x320eca(0x184)])}),ui[_0x320eca(0x13b)][_0x320eca(0x110)](_0x320eca(0x18b));});return $$`<div class="btn-group ml-1 ve-flex-vh-center">
			${_0x52c556}
			${_0x286ff8}
		</div>`;}[_0x18f3d3(0x25b)]({groupKey:_0x2b784b,groupVals:_0x23d5dc,ixTab:_0x2b3779,isHideUnavailable:_0x383e31}){const _0x42964d=_0x18f3d3,_0x20e59e=$('<div\x20class=\x22cfg__disp-row-count-tab-header\x20ve-hidden\x20ve-flex-vh-center\x22></div>'),_0x2d2ec9=$$`<div class="relative cfg__btn-tab-header px-2 py-1 ml-1 mt-1 ${_0x2b3779===this['_ixActiveTab']?_0x42964d(0x23b):''}">
				${_0x23d5dc[_0x42964d(0x242)][_0x42964d(0x180)]()}
				${_0x20e59e}
			</div>`[_0x42964d(0x1ff)](()=>this[_0x42964d(0x249)](_0x2b3779)),_0x130fd6=[],_0x2fd1ae=$('<button\x20class=\x22btn\x20btn-xs\x20ml-auto\x22\x20title=\x22Reset\x20Settings\x20for\x20This\x20Tab\x22><i\x20class=\x22fa\x20fa-undo-alt\x22></i></button>')[_0x42964d(0x1ff)](()=>_0x130fd6[_0x42964d(0x1ed)](_0x54a2ec=>_0x54a2ec())),_0x4d60ce=_0x2c4ba8=>{const _0x1e1ec9=_0x42964d;return Object[_0x1e1ec9(0x18e)](_0x2c4ba8)[_0x1e1ec9(0x156)](([_0x33fb98,_0x25ddd2])=>{const _0x197c84=_0x1e1ec9;if(_0x25ddd2[_0x197c84(0x215)]===undefined)throw new Error(_0x197c84(0x1a1)+_0x2b784b+'.'+_0x33fb98+_0x197c84(0x218));const _0x3ad6ee=Config[_0x197c84(0x1e4)](_0x2b784b,_0x33fb98),_0x37360f=!_0x3ad6ee&&!game[_0x197c84(0x226)][_0x197c84(0x11f)],_0x4dd44c=Config[_0x197c84(0x229)](_0x2b784b,_0x33fb98),_0x78954d=_0x4dd44c[_0x197c84(0x12b)]>0x0,_0x17fead=_0x37360f||_0x78954d;if(_0x383e31&&_0x37360f)return;const _0x412e91=game[_0x197c84(0x226)][_0x197c84(0x11f)]?this[_0x197c84(0x158)]:this['_DRAFT_PLAYER'],_0x48d968=Config[_0x197c84(0x233)](_0x2b784b,_0x33fb98),_0x2d8c46=$(_0x197c84(0x1fd))[_0x197c84(0x1ff)](_0x486b33=>{const _0x54579f=_0x197c84;_0x486b33[_0x54579f(0x15a)](),_0x486b33[_0x54579f(0x21a)](),_0x1a7a69();}),_0x291cce=()=>_0x2d8c46[_0x197c84(0x243)](_0x197c84(0x19d),CollectionUtil[_0x197c84(0x13c)](_0x412e91[_0x2b784b][_0x33fb98],_0x25ddd2[_0x197c84(0x215)]));_0x291cce();let _0x21aac6,_0x3a3a4b,_0x1a7a69,_0x5068f2=!![];switch(_0x25ddd2[_0x197c84(0x1d2)]){case _0x197c84(0x263):{_0x21aac6=$(_0x197c84(0x163))['change'](()=>{const _0x525b6e=_0x197c84;if(_0x17fead)return;_0x412e91[_0x2b784b][_0x33fb98]=_0x21aac6['prop'](_0x525b6e(0x119)),_0x2ee1a8(_0x412e91[_0x2b784b][_0x33fb98]);});const _0x2ee1a8=_0x498cf0=>{const _0x18766f=_0x197c84;_0x21aac6['prop'](_0x18766f(0x119),_0x498cf0),_0x291cce();};_0x2ee1a8(_0x48d968),_0x1a7a69=()=>_0x21aac6[_0x197c84(0x19e)](_0x197c84(0x119),_0x25ddd2[_0x197c84(0x215)])[_0x197c84(0x200)](),this[_0x197c84(0x265)](_0x2b784b,_0x33fb98,()=>_0x2ee1a8(Config[_0x197c84(0x233)](_0x2b784b,_0x33fb98)));break;}case _0x197c84(0x1dc):{const _0xfa7ccb=this[_0x197c84(0x12a)][_0x197c84(0x238)](_0x25ddd2);_0x21aac6=$(_0x197c84(0x134))[_0x197c84(0x200)](()=>{const _0x1ad27e=_0x197c84;if(_0x17fead)return;const _0x4659d7=Number(_0x21aac6[_0x1ad27e(0x1c9)]());if(~_0x4659d7)_0x412e91[_0x2b784b][_0x33fb98]=this['constructor'][_0x1ad27e(0x1bf)](_0xfa7ccb[_0x4659d7]);else{if(_0x25ddd2[_0x1ad27e(0x153)])_0x412e91[_0x2b784b][_0x33fb98]=null;else _0x412e91[_0x2b784b][_0x33fb98]=this[_0x1ad27e(0x12a)]['_getEnumValueValue'](_0xfa7ccb[0x0]);}_0x1d505d(_0x412e91[_0x2b784b][_0x33fb98]);});if(_0x25ddd2[_0x197c84(0x153)])_0x21aac6['append'](_0x197c84(0x121));_0xfa7ccb[_0x197c84(0x1ed)]((_0x179c21,_0x584fed)=>$(_0x197c84(0x12d),{'value':_0x584fed,'text':_0x179c21['name']??_0x179c21['value']??_0x179c21})[_0x197c84(0x1b9)](_0x179c21[_0x197c84(0x25a)])[_0x197c84(0x1ec)](_0x21aac6));const _0x1d505d=_0x382bf6=>{const _0x22f58a=_0x197c84;if(_0x25ddd2[_0x22f58a(0x153)]&&_0x382bf6==null)_0x21aac6[_0x22f58a(0x1c9)]('-1');else{if(_0x382bf6!=null){const _0x38a84a=_0xfa7ccb['findIndex'](_0x6e9504=>this[_0x22f58a(0x12a)][_0x22f58a(0x1bf)](_0x6e9504)===_0x382bf6);if(~_0x38a84a)_0x21aac6['val'](''+_0x38a84a);else _0x21aac6['val']('0');}}_0x291cce();};_0x1d505d(_0x48d968),_0x1a7a69=()=>{const _0x475ae8=_0x197c84,_0x56b215=_0xfa7ccb[_0x475ae8(0x1ef)](_0x4c8d82=>(_0x4c8d82['value']==null?_0x4c8d82:_0x4c8d82[_0x475ae8(0x1a5)])===_0x25ddd2[_0x475ae8(0x215)]);_0x21aac6[_0x475ae8(0x1c9)](''+_0x56b215)[_0x475ae8(0x200)]();},this[_0x197c84(0x265)](_0x2b784b,_0x33fb98,()=>_0x1d505d(Config[_0x197c84(0x233)](_0x2b784b,_0x33fb98)));break;}case'string':case _0x197c84(0x190):case'color':{const _0x1bc7da=_0x25ddd2[_0x197c84(0x1d2)]===_0x197c84(0x15b)?'color':_0x197c84(0x157);_0x21aac6=$(_0x197c84(0x132)+_0x1bc7da+_0x197c84(0x123))[_0x197c84(0x1b7)](_0x25ddd2[_0x197c84(0x1b7)])[_0x197c84(0x200)](()=>{const _0xba8877=_0x197c84;if(_0x17fead)return;const _0x1b5975=_0x21aac6['val']()[_0xba8877(0x1fa)]();!_0x1b5975&&!_0x25ddd2[_0xba8877(0x153)]?(_0x412e91[_0x2b784b][_0x33fb98]=_0x25ddd2[_0xba8877(0x215)],_0x21aac6[_0xba8877(0x1c9)](_0x25ddd2[_0xba8877(0x215)])):_0x412e91[_0x2b784b][_0x33fb98]=_0x25ddd2['isNullable']&&!_0x1b5975?null:_0x1b5975,_0x2aa0f2(_0x412e91[_0x2b784b][_0x33fb98]);});const _0x2aa0f2=_0x2bb167=>{const _0x47f11e=_0x197c84;_0x21aac6[_0x47f11e(0x1c9)](_0x2bb167),_0x291cce();};_0x2aa0f2(_0x48d968),_0x1a7a69=()=>_0x21aac6[_0x197c84(0x1c9)](_0x25ddd2[_0x197c84(0x215)])[_0x197c84(0x200)](),this[_0x197c84(0x265)](_0x2b784b,_0x33fb98,()=>_0x2aa0f2(Config[_0x197c84(0x233)](_0x2b784b,_0x33fb98)));break;}case'percentage':case'number':{const _0x28d295=_0x48d968==null||isNaN(_0x48d968)?_0x25ddd2[_0x197c84(0x215)]:Number(_0x48d968);_0x21aac6=$(_0x197c84(0x1e0))[_0x197c84(0x1b7)](_0x25ddd2[_0x197c84(0x1b7)])[_0x197c84(0x200)](()=>{const _0x46e02e=_0x197c84;if(_0x17fead)return;const _0x3a5cdf=_0x21aac6[_0x46e02e(0x1c9)]()[_0x46e02e(0x1fa)]();if(!_0x3a5cdf&&_0x25ddd2[_0x46e02e(0x153)])return _0x412e91[_0x2b784b][_0x33fb98]=null,_0x21aac6[_0x46e02e(0x1c9)](null),void _0x291cce();const _0x214646=_0x25ddd2[_0x46e02e(0x153)]?null:_0x25ddd2[_0x46e02e(0x215)],_0x172ce1={'fallbackOnNaN':_0x214646};if(_0x25ddd2[_0x46e02e(0x1f4)])_0x172ce1[_0x46e02e(0x1f4)]=_0x25ddd2['min'];if(_0x25ddd2[_0x46e02e(0x1a8)])_0x172ce1[_0x46e02e(0x1a8)]=_0x25ddd2[_0x46e02e(0x1a8)];const _0x1470c7=UiUtil['strToNumber'](_0x3a5cdf,_0x214646,_0x172ce1);_0x412e91[_0x2b784b][_0x33fb98]=_0x1470c7,_0x21aac6[_0x46e02e(0x1c9)](_0x1470c7),_0xf77c00(_0x412e91[_0x2b784b][_0x33fb98]);});const _0xf77c00=_0x2d67e4=>{const _0x48cc6b=_0x197c84;_0x21aac6[_0x48cc6b(0x1c9)](_0x2d67e4),_0x291cce();};_0xf77c00(_0x28d295),_0x1a7a69=()=>_0x21aac6[_0x197c84(0x1c9)](_0x25ddd2[_0x197c84(0x215)])[_0x197c84(0x200)](),this[_0x197c84(0x265)](_0x2b784b,_0x33fb98,()=>_0xf77c00(Config[_0x197c84(0x233)](_0x2b784b,_0x33fb98)));break;}case'multipleChoice':{_0x5068f2=![];const _0x361c86=[],_0x5ce7bf=[];_0x3a3a4b=()=>{const _0x16e36c=_0x197c84;_0x361c86[_0x16e36c(0x1ed)](_0xdfa88a=>_0xdfa88a[_0x16e36c(0x1b9)](this['constructor'][_0x16e36c(0x15f)]({'isDisabledPlayer':_0x37360f,'isDisabledCompatibility':_0x78954d,'incompatibleModuleNames':_0x4dd44c}))),_0x5ce7bf[_0x16e36c(0x1ed)](_0x4b8ed0=>_0x4b8ed0['prop']('disabled',!![]));};const _0x5ac5ca=()=>{const _0x9827cc=_0x197c84;_0x412e91[_0x2b784b][_0x33fb98]=_0x5ce7bf[_0x9827cc(0x260)]((_0x42eb35,_0x32dc0c)=>({[_0x32dc0c]:_0x42eb35['prop']('checked')})),_0x291cce();},_0x7d9595=_0x25ddd2[_0x197c84(0x250)][_0x197c84(0x156)]((_0x472e70,_0x4fc7cd)=>{const _0x314fcd=_0x197c84,_0x592f51=$(_0x314fcd(0x163))[_0x314fcd(0x19e)]('checked',!!_0x48d968[_0x4fc7cd])[_0x314fcd(0x200)](()=>{if(_0x17fead)return;_0x5ac5ca();});_0x5ce7bf['push'](_0x592f51),this['_addFnHandleUpdate'](_0x2b784b,_0x33fb98,()=>{const _0x26d23c=_0x314fcd;_0x21aac6[_0x26d23c(0x19e)](_0x26d23c(0x119),!!Config[_0x26d23c(0x233)](_0x2b784b,_0x33fb98)[_0x4fc7cd]),_0x291cce();});const _0x410134=$$`<label class="split-v-center m-0 stripe-even py-1">
									<div class="ve-small">${_0x472e70[_0x314fcd(0x180)]()}</div>
									${_0x592f51}
								</label>`;return _0x361c86['push'](_0x410134),_0x410134;});_0x1a7a69=()=>{_0x5ce7bf['forEach']((_0x392eb2,_0x169826)=>{const _0x969a09=_0x4b8a;_0x392eb2['prop'](_0x969a09(0x119),!!_0x25ddd2[_0x969a09(0x215)][_0x169826]);}),_0x5ac5ca();},_0x21aac6=$$`<div class="ve-flex-col w-100">${_0x7d9595}</div>`;break;}case _0x197c84(0x1c8):{_0x5068f2=![];const _0x3e0cd5=_0x48d968 instanceof Array?MiscUtil[_0x197c84(0x196)](_0x48d968):[],_0x1603d2=BaseComponent[_0x197c84(0x181)]({'values':_0x3e0cd5},_0x197c84(0x22c));_0x21aac6=ComponentUiUtil['$getPickString'](_0x1603d2,_0x197c84(0x22c),{'isCaseInsensitive':!_0x25ddd2[_0x197c84(0x142)]}),_0x1603d2[_0x197c84(0x1d3)](_0x197c84(0x22c),()=>{const _0x1aa224=_0x197c84;_0x412e91[_0x2b784b][_0x33fb98]=_0x1603d2['_state'][_0x1aa224(0x22c)],_0x291cce();}),_0x1a7a69=()=>_0x1603d2[_0x197c84(0x1aa)][_0x197c84(0x22c)]=[..._0x25ddd2[_0x197c84(0x215)]],this['_addFnHandleUpdate'](_0x2b784b,_0x33fb98,()=>{const _0x31bb28=_0x197c84;_0x1603d2[_0x31bb28(0x1aa)]['values']=[...Config[_0x31bb28(0x233)](_0x2b784b,_0x33fb98)||[]],_0x291cce();});break;}default:throw new Error('Unhandled\x20type\x20\x22'+_0x25ddd2[_0x197c84(0x1d2)]+'\x22');}if(_0x17fead){if(_0x3a3a4b)_0x3a3a4b();else _0x21aac6[_0x197c84(0x19e)](_0x197c84(0x15e),!![])[_0x197c84(0x1b9)](this['constructor']['_getIsDisabledMessage']({'isDisabledPlayer':_0x37360f,'isDisabledCompatibility':_0x78954d,'incompatibleModuleNames':_0x4dd44c}));}_0x130fd6[_0x197c84(0x1bc)](_0x1a7a69);const _0x5d5d59=[_0x197c84(0x190),_0x197c84(0x1c8)][_0x197c84(0x1e6)](_0x25ddd2[_0x197c84(0x1d2)]),_0x1066e9=$$`<${_0x5068f2?'label':_0x197c84(0x128)} class="split-v-center py-1 cfg__row w-100" title="${_0x25ddd2[_0x197c84(0x25a)]['escapeQuotes']()}">
						<div class="ve-flex-v-center cfg__disp-name ${_0x5d5d59?'cfg__disp-name--narrow':''}">
							<div>${_0x25ddd2[_0x197c84(0x242)]}</div>
							${_0x3ad6ee&&game[_0x197c84(0x226)][_0x197c84(0x11f)]?_0x197c84(0x21c):''}${_0x25ddd2[_0x197c84(0x251)]?'\x20<span\x20class=\x22cfg__disp-requires-refresh\x20ml-1\x22\x20title=\x22Requires\x20Refresh\x22>‡</span>':''}
						</div>
						<div class="ve-flex-v-center ve-flex-h-right w-100 cfg__wrp-input ${_0x5d5d59?_0x197c84(0x1ae):''}">
							${_0x21aac6}
							${_0x2d8c46}
						</div>
					</${_0x5068f2?'label':'div'}>`,_0x12a21c=[_0x25ddd2[_0x197c84(0x25a)],_0x25ddd2[_0x197c84(0x242)]][_0x197c84(0x17d)](Boolean)[_0x197c84(0x129)](_0x197c84(0x1fb))[_0x197c84(0x1d6)]()[_0x197c84(0x1fa)](),_0x556f84=_0x2a8015=>{const _0x47a272=_0x197c84,_0x4a1686=_0x2a8015&&!_0x12a21c['includes'](_0x2a8015),_0x5f5d50=_0x25ddd2[_0x47a272(0x245)]&&_0x25ddd2[_0x47a272(0x245)]!==_0x2a8015;_0x1066e9[_0x47a272(0x243)]('cfg__row--no-match',!!_0x4a1686);if(_0x25ddd2[_0x47a272(0x245)]&&!_0x5f5d50)_0x1066e9[_0x47a272(0x240)](_0x47a272(0x214));return _0x1066e9[_0x47a272(0x17c)](!_0x5f5d50),_0x4a1686||_0x5f5d50;};return _0x556f84(''),{'$row':_0x1066e9,'cbSearch':_0x556f84};})['filter'](Boolean);};let _0x4fdd31=_0x23d5dc[_0x42964d(0x131)]?_0x4d60ce(_0x23d5dc[_0x42964d(0x131)]):null;if(_0x4fdd31&&!_0x4fdd31[_0x42964d(0x12b)])_0x4fdd31=null;let _0x589220=_0x23d5dc[_0x42964d(0x237)]?_0x4d60ce(_0x23d5dc['settingsHacks']):null;if(_0x589220&&!_0x589220['length'])_0x589220=null;let _0x54c687=_0x23d5dc[_0x42964d(0x1c2)]?_0x4d60ce(_0x23d5dc['settingsAdvanced']):null;if(_0x54c687&&!_0x54c687[_0x42964d(0x12b)])_0x54c687=null;if(!_0x4fdd31&&!_0x589220&&!_0x54c687)return null;const _0x3a2359=$$`<div class="ve-flex-col h-100 w-100 ${_0x2b3779===this[_0x42964d(0x1e7)]?'':'ve-hidden'}">
		<div class="ve-flex-v-center">
			${_0x2fd1ae}
		</div>
		<hr class="w-100 my-1">

		${_0x4fdd31?$$`<div class="w-100 ve-flex-col">${_0x4fdd31[_0x42964d(0x156)](_0x1bff1f=>_0x1bff1f['$row'])}</div>`:null}

		${_0x589220?(_0x4fdd31?_0x42964d(0x159):'')+_0x42964d(0x1dd):''}
		${_0x589220?$$`<div class="w-100 ve-flex-col">${_0x589220[_0x42964d(0x156)](_0x2a93c7=>_0x2a93c7[_0x42964d(0x1df)])}</div>`:null}

		${_0x54c687?(_0x4fdd31||_0x589220?_0x42964d(0x159):'')+_0x42964d(0x154):''}
		${_0x54c687?$$`<div class="w-100 ve-flex-col">${_0x54c687[_0x42964d(0x156)](_0x4cd440=>_0x4cd440[_0x42964d(0x1df)])}</div>`:null}
		</div>`,_0x338826=[_0x4fdd31||[],_0x589220||[],_0x54c687||[]]['map'](_0x24281b=>_0x24281b['length'])[_0x42964d(0x1b1)](),_0xc76601=_0x50c2de=>{const _0x17c86b=_0x42964d,_0xe6a9e5=(_0x4fdd31||[])[_0x17c86b(0x156)](_0x578e7e=>Number(_0x578e7e[_0x17c86b(0x25f)](_0x50c2de)||0x0))[_0x17c86b(0x1b1)]()+(_0x589220||[])['map'](_0x2f7875=>Number(_0x2f7875[_0x17c86b(0x25f)](_0x50c2de)||0x0))[_0x17c86b(0x1b1)]()+(_0x54c687||[])[_0x17c86b(0x156)](_0x1d60fe=>Number(_0x1d60fe[_0x17c86b(0x25f)](_0x50c2de)||0x0))[_0x17c86b(0x1b1)]();if(_0x338826){const _0x13691d=_0x338826-_0xe6a9e5;_0x2d2ec9[_0x17c86b(0x243)]('cfg__btn-tab-header--muted',_0x13691d===0x0),_0x20e59e[_0x17c86b(0x157)](_0x13691d)[_0x17c86b(0x1b9)](_0x13691d+'\x20result'+(_0x13691d===0x1?'':'s'))[_0x17c86b(0x243)](_0x17c86b(0x239),!!_0x13691d)[_0x17c86b(0x17c)](_0x50c2de);}};return{'$tabHeader':_0x2d2ec9,'$tabBody':_0x3a2359,'cbSearch':_0xc76601,'fnsReset':_0x130fd6};}[_0x18f3d3(0x249)](_0xbdada0){const _0x1e0f9f=_0x18f3d3;this[_0x1e0f9f(0x1bd)][_0x1e0f9f(0x156)]((_0x470ce7,_0xa0015d)=>{const _0x49a260=_0x1e0f9f;if(!_0x470ce7)return;_0x470ce7[_0x49a260(0x169)][_0x49a260(0x243)](_0x49a260(0x23b),_0xbdada0===_0xa0015d),_0x470ce7[_0x49a260(0x207)][_0x49a260(0x243)]('ve-hidden',_0xbdada0!==_0xa0015d);}),this[_0x1e0f9f(0x1e7)]=_0xbdada0,StorageUtil[_0x1e0f9f(0x211)](Config['_SETTINGS_KEY_LAST_ACTIVE_TAB'],_0xbdada0)[_0x1e0f9f(0x11a)](null);}[_0x18f3d3(0x17e)](_0x3d3ea1){const _0x4abbb1=_0x18f3d3;Object[_0x4abbb1(0x15d)](Config[_0x4abbb1(0x184)],_0x3d3ea1),Object['assign'](this[_0x4abbb1(0x158)],MiscUtil[_0x4abbb1(0x196)](Config[_0x4abbb1(0x184)])),Object[_0x4abbb1(0x18e)](_0x3d3ea1||{})[_0x4abbb1(0x1ed)](([_0x27035e,_0x2dd2e1])=>{const _0x2c51ed=_0x4abbb1;Object['keys'](_0x2dd2e1||{})[_0x2c51ed(0x1ed)](_0x21552d=>this['_callFnsHandleUpdate'](_0x27035e,_0x21552d));});}async[_0x18f3d3(0x1eb)](..._0x2cfeb5){await super['close'](..._0x2cfeb5),Config['_INSTANCE']=null;}static[_0x18f3d3(0x229)](_0x46b4ac,_0x71e61c){const _0x5c376d=_0x18f3d3,_0x3b85d5=Config[_0x5c376d(0x1e1)][_0x5c376d(0x248)](([_0x518a0c])=>_0x518a0c===_0x46b4ac)[0x1];if(!_0x3b85d5[_0x71e61c]?.[_0x5c376d(0x1b2)])return[];return Object['keys'](_0x3b85d5[_0x71e61c][_0x5c376d(0x1b2)])[_0x5c376d(0x17d)](_0x3531bb=>UtilCompat[_0x5c376d(0x1b6)](_0x3531bb));}static[_0x18f3d3(0x15f)]({isDisabledPlayer:_0x37d1aa,isDisabledCompatibility:_0x5dcf76,incompatibleModuleNames:_0x4d0e63}){const _0x28a8cf=_0x18f3d3;if(_0x37d1aa)return _0x28a8cf(0x161);if(_0x5dcf76)return'(This\x20setting\x20is\x20disabled\x20due\x20to\x20incompatibility\x20with\x20one\x20or\x20more\x20other\x20active\x20modules:\x20'+_0x4d0e63[_0x28a8cf(0x156)](_0x1a1dd3=>'\x22'+_0x1a1dd3+'\x22')[_0x28a8cf(0x129)](',\x20')+')';return null;}static[_0x18f3d3(0x238)](_0x4ff630){const _0x260bb7=_0x18f3d3;return typeof _0x4ff630['values']==='function'?_0x4ff630[_0x260bb7(0x22c)]():_0x4ff630[_0x260bb7(0x22c)];}static[_0x18f3d3(0x1bf)](_0x3f8b53){const _0x4f4e24=_0x18f3d3;return _0x3f8b53[_0x4f4e24(0x1a5)]!==undefined?_0x3f8b53[_0x4f4e24(0x1a5)]:_0x3f8b53;}static[_0x18f3d3(0x116)]({configGroup:_0x5874b8,configKey:configKey=_0x18f3d3(0x150)}){const _0x169e6a=_0x18f3d3;return Config[_0x169e6a(0x233)](_0x169e6a(0x1b4),_0x169e6a(0x257))||Config[_0x169e6a(0x233)](_0x5874b8,configKey);}static['isUseMetricWeight']({configGroup:_0x321b1d,configKey:configKey=_0x18f3d3(0x1d0)}){const _0x3d006d=_0x18f3d3;if(UtilGameSettings[_0x3d006d(0x1fc)](_0x3d006d(0x14d),_0x3d006d(0x220)))return!![];return Config[_0x3d006d(0x233)]('import',_0x3d006d(0x24d))||Config[_0x3d006d(0x233)](_0x321b1d,configKey);}static[_0x18f3d3(0x114)]({configGroup:_0x3c588f,originalValue:_0x411e23,originalUnit:_0x2a642d,configKey:configKey='isMetricDistance'}){const _0x3d7fac=_0x18f3d3;return this['_getMetricNumber']({'configGroup':_0x3c588f,'originalValue':_0x411e23,'originalUnit':_0x2a642d,'configKey':configKey,'fnIsUse':Config[_0x3d7fac(0x116)][_0x3d7fac(0x1fe)](Config)});}static[_0x18f3d3(0x22a)]({configGroup:_0x3640f5,originalValue:_0x16f345,originalUnit:_0x5345a1,configKey:configKey=_0x18f3d3(0x1d0)}){const _0x2e201c=_0x18f3d3;return this[_0x2e201c(0x130)]({'configGroup':_0x3640f5,'originalValue':_0x16f345,'originalUnit':_0x5345a1,'configKey':configKey,'fnIsUse':Config[_0x2e201c(0x120)]['bind'](Config)});}static[_0x18f3d3(0x130)]({configGroup:_0x3bc319,originalValue:_0x4245f5,originalUnit:_0x2a94a7,configKey:_0x2969d5,fnIsUse:_0x245e9a}){const _0x357cd0=_0x18f3d3;if(!_0x245e9a({'configGroup':_0x3bc319,'configKey':_0x2969d5}))return _0x4245f5;return Parser['metric'][_0x357cd0(0x1da)]({'originalValue':_0x4245f5,'originalUnit':_0x2a94a7,'toFixed':0x3});}static[_0x18f3d3(0x246)]({configGroup:_0x5e5d41,originalUnit:_0x3cf8c2,configKey:configKey='isMetricDistance',isShortForm:isShortForm=!![],isPlural:isPlural=![]}){const _0x1714c1=_0x18f3d3;return this[_0x1714c1(0x1a0)]({'configGroup':_0x5e5d41,'originalUnit':_0x3cf8c2,'configKey':configKey,'isShortForm':isShortForm,'isPlural':isPlural,'fnIsUse':Config[_0x1714c1(0x116)][_0x1714c1(0x1fe)](Config)});}static[_0x18f3d3(0x22d)]({configGroup:_0x4db056,originalUnit:_0x5d41a1,configKey:configKey=_0x18f3d3(0x1d0),isShortForm:isShortForm=!![],isPlural:isPlural=![]}){const _0xe2fe85=_0x18f3d3;return this[_0xe2fe85(0x1a0)]({'configGroup':_0x4db056,'originalUnit':_0x5d41a1,'configKey':configKey,'isShortForm':isShortForm,'isPlural':isPlural,'fnIsUse':Config[_0xe2fe85(0x120)]['bind'](Config)});}static['_getMetricUnit']({configGroup:_0x3a98f1,originalUnit:_0x2a92ca,configKey:_0x14d33d,isShortForm:_0x479f00,isPlural:_0x141afb,fnIsUse:_0x3a915b}){const _0x219f43=_0x18f3d3;if(!_0x3a915b({'configGroup':_0x3a98f1,'configKey':_0x14d33d})){if(!_0x479f00)return _0x2a92ca;switch(_0x2a92ca){case UNT_FEET:return'ft';case UNT_MILES:return'mi';default:return _0x2a92ca;}}return Parser[_0x219f43(0x135)][_0x219f43(0x171)]({'originalUnit':_0x2a92ca,'isShortForm':_0x479f00,'isPlural':_0x141afb});}static[_0x18f3d3(0x195)]({actorType:_0x1b1fe5}){const _0x536dad=_0x18f3d3;return _0x1b1fe5==='npc'?'spellPointsModeNpc':_0x536dad(0x194);}static[_0x18f3d3(0x125)]({isValueKey:isValueKey=![],isMaxKey:isMaxKey=![]}={}){const _0x44f6c8=_0x18f3d3;return this[_0x44f6c8(0x244)]({'configGroup':'importSpell','configKey':'spellPointsResource','configKeyCustom':_0x44f6c8(0x1d7),'isValueKey':isValueKey,'isMaxKey':isMaxKey});}static[_0x18f3d3(0x148)]({isValueKey:isValueKey=![],isMaxKey:isMaxKey=![]}={}){const _0x24e1bc=_0x18f3d3;return this[_0x24e1bc(0x244)]({'configGroup':_0x24e1bc(0x224),'configKey':_0x24e1bc(0x11d),'configKeyCustom':_0x24e1bc(0x144),'isValueKey':isValueKey,'isMaxKey':isMaxKey});}static[_0x18f3d3(0x244)]({configGroup:_0x5de6e9,configKey:_0x2d77cb,configKeyCustom:_0x8997b,isValueKey:isValueKey=![],isMaxKey:isMaxKey=![]}={}){const _0x11f3a1=_0x18f3d3;if(Config[_0x11f3a1(0x233)](_0x5de6e9,_0x2d77cb)===ConfigConsts['C_SPELL_POINTS_RESOURCE__SHEET_ITEM'])return ConfigConsts[_0x11f3a1(0x1cc)];if(isValueKey&&isMaxKey)throw new Error('Only\x20one\x20of\x20\x22isValue\x22\x20and\x20\x22isMax\x22\x20may\x20be\x20specified!');const _0x111a00=Config[_0x11f3a1(0x233)](_0x5de6e9,_0x2d77cb)===ConfigConsts[_0x11f3a1(0x19a)]?Config[_0x11f3a1(0x233)](_0x5de6e9,_0x8997b):Config[_0x11f3a1(0x233)](_0x5de6e9,_0x2d77cb);return isValueKey?_0x111a00+_0x11f3a1(0x252):isMaxKey?_0x111a00+_0x11f3a1(0x1c1):_0x111a00;}static['_getWikiSummary'](){const _0x1e08fd=_0x18f3d3,_0x454349=_0x4bd9f2=>{const _0x4601c6=_0x4b8a;switch(_0x4bd9f2[_0x4601c6(0x1d2)]){case'boolean':case _0x4601c6(0x13f):case _0x4601c6(0x190):case _0x4601c6(0x15b):case _0x4601c6(0x261):case _0x4601c6(0x16f):return _0x4bd9f2[_0x4601c6(0x215)];case _0x4601c6(0x1dc):{if(_0x4bd9f2[_0x4601c6(0x215)]==null)return undefined;const _0x22c39b=this[_0x4601c6(0x238)](_0x4bd9f2)[_0x4601c6(0x248)](_0x55678d=>(_0x55678d?.['value']??_0x55678d)===_0x4bd9f2[_0x4601c6(0x215)]);return _0x22c39b?.['name']??_0x22c39b;}case _0x4601c6(0x1ee):{return(_0x4bd9f2[_0x4601c6(0x250)]||[])['filter']((_0x45244d,_0x18b189)=>!!_0x4bd9f2[_0x4601c6(0x215)]?.[_0x18b189])[_0x4601c6(0x129)](';\x20');}case _0x4601c6(0x1c8):return(_0x4bd9f2[_0x4601c6(0x215)]||[])['join'](';\x20');default:throw new Error(_0x4601c6(0x164)+_0x4bd9f2[_0x4601c6(0x1d2)]+'\x22!');}},_0x3bc566=_0x3ce482=>{const _0x55f55a=_0x4b8a;switch(_0x3ce482['type']){case _0x55f55a(0x1dc):{return this[_0x55f55a(0x238)](_0x3ce482)[_0x55f55a(0x156)](_0x4af67c=>{const _0x29e8c3=_0x55f55a;if(typeof _0x4af67c===_0x29e8c3(0x13f))return{'name':_0x4af67c};if(!_0x4af67c['name'])return{'name':_0x4af67c[_0x29e8c3(0x1a5)]};return _0x4af67c;});}case _0x55f55a(0x1ee):{return(_0x3ce482[_0x55f55a(0x250)]||[])['map'](_0x1a15f9=>({'name':_0x1a15f9}));}default:return null;}},_0x23a904=(_0x35b2ea,_0x4f651e)=>{const _0x4bdda4=_0x4b8a;return Object[_0x4bdda4(0x22c)](_0x35b2ea||{})[_0x4bdda4(0x17d)](({unlockCode:_0x5ae118})=>!_0x5ae118)[_0x4bdda4(0x156)](_0x41e9e3=>{const _0x34fc1f=_0x4bdda4,_0x84765d=_0x454349(_0x41e9e3),_0x4cc279=_0x3bc566(_0x41e9e3);return{'name':_0x41e9e3['name'],'description':_0x41e9e3['help'],'type':_0x4f651e,'isPlayerEditable':!!_0x41e9e3[_0x34fc1f(0x1e9)],'isReloadRequired':!!_0x41e9e3[_0x34fc1f(0x251)],'default':_0x84765d,'options':_0x4cc279};});};return this['_DEFAULT_CONFIG__SORTED'][_0x1e08fd(0x156)](([,_0x12e949])=>{const _0x5ace4d=_0x1e08fd;return{'groupName':_0x12e949['name'],'settings':[..._0x23a904(_0x12e949[_0x5ace4d(0x131)],_0x5ace4d(0x241)),..._0x23a904(_0x12e949['settingsHacks'],_0x5ace4d(0x1f1)),..._0x23a904(_0x12e949[_0x5ace4d(0x1c2)],'advanced')]};});}static[_0x18f3d3(0x1c5)](){const _0x5a162b=_0x18f3d3;return this[_0x5a162b(0x247)]()['map'](_0x4709ab=>{const _0x3d088b=_0x5a162b;let _0x5eae2e=_0x3d088b(0x1ac)+_0x4709ab[_0x3d088b(0x13e)]+'\x0a';_0x5eae2e+='TODO:\x20Add\x20description\x0a';const _0x2c0dae={};return _0x4709ab[_0x3d088b(0x131)][_0x3d088b(0x1ed)](_0x4f75b6=>{const _0x2922bb=_0x3d088b,_0x2307e2=_0x4f75b6[_0x2922bb(0x1d2)][_0x2922bb(0x185)]();_0x2c0dae[_0x2307e2]=[..._0x2c0dae[_0x2307e2]||[],_0x4f75b6];}),Object['entries'](_0x2c0dae)[_0x3d088b(0x1ed)](([_0x59a231,_0x5abec7])=>{const _0x3ce779=_0x3d088b;_0x5eae2e+=_0x3ce779(0x19b)+_0x59a231+'\x0a',_0x5abec7[_0x3ce779(0x1ed)](_0x3cae45=>{const _0x91d82d=_0x3ce779;_0x5eae2e+=_0x91d82d(0x1a7)+_0x3cae45['name']+'**'+(!_0x3cae45['default']&&_0x3cae45[_0x91d82d(0x215)]!==![]?'':_0x91d82d(0x11b)+_0x3cae45[_0x91d82d(0x215)]+')*')+'\x20-\x20'+_0x3cae45[_0x91d82d(0x21f)]+'\x0a',_0x3cae45['options']&&(_0x3cae45[_0x91d82d(0x1b0)][_0x91d82d(0x12b)]>0xa&&_0x3cae45[_0x91d82d(0x1b0)][0x0]['value']===ConfigConsts[_0x91d82d(0x212)]?(_0x5eae2e+=_0x91d82d(0x179)+_0x3cae45[_0x91d82d(0x1b0)][0x0][_0x91d82d(0x242)]+'*\x0a',_0x5eae2e+=_0x91d82d(0x176)):(_0x5eae2e+='\x09Possible\x20options\x20are:\x0a',_0x3cae45[_0x91d82d(0x1b0)]['forEach'](_0xdef5cd=>_0x5eae2e+=_0x91d82d(0x179)+_0xdef5cd[_0x91d82d(0x242)]+'*'+(_0xdef5cd[_0x91d82d(0x25a)]?':\x20'+_0xdef5cd[_0x91d82d(0x25a)]:'')+'\x0a')));});}),_0x5eae2e[_0x3d088b(0x23c)](/((&quot;)|")/g,'`');})[_0x5a162b(0x129)]('');}static[_0x18f3d3(0x258)](){const _0x38ba39=_0x18f3d3,_0x283595=[];return Object[_0x38ba39(0x18e)](ConfigConsts['DEFAULT_CONFIG_'])[_0x38ba39(0x1ed)](([_0x30e784,_0x2be532])=>{const _0x2514a8=_0x38ba39;Config[_0x2514a8(0x143)]['forEach'](_0x965d67=>{const _0x585316=_0x2514a8;if(!_0x2be532[_0x965d67])return;Object[_0x585316(0x18e)](_0x2be532[_0x965d67])['forEach'](([_0x5243b8,_0x2281aa])=>{const _0x1a3197=_0x585316;if(_0x2281aa[_0x1a3197(0x1a2)]!=='compendiums')return;_0x283595['push']([_0x30e784,_0x5243b8]);});});}),_0x283595;}}Config[_0x18f3d3(0x227)]=null,Config[_0x18f3d3(0x230)]=new Promise(_0x26746e=>Config[_0x18f3d3(0x13d)]=_0x26746e),Config[_0x18f3d3(0x1ca)]=_0x18f3d3(0x151),Config[_0x18f3d3(0x16b)]=SharedConsts[_0x18f3d3(0x167)]+'.config',Config['_SETTINGS_KEY_LAST_ACTIVE_TAB']=_0x18f3d3(0x208),Config[_0x18f3d3(0x124)]=_0x18f3d3(0x203)+SharedConsts[_0x18f3d3(0x167)],Config['_saveConfigDebounced']=MiscUtil[_0x18f3d3(0x264)](Config[_0x18f3d3(0x25e)],0x64),Config[_0x18f3d3(0x184)]={},Config[_0x18f3d3(0x234)]={},Config[_0x18f3d3(0x162)]={},Config['_KEYS_SETTINGS_METAS']=[_0x18f3d3(0x131),_0x18f3d3(0x237),'settingsAdvanced'],Config[_0x18f3d3(0x1db)]=null,Config[_0x18f3d3(0x1f6)]=null;function _0x4999(){const _0x3094ef=['groupName','string','59652pDPuEo','Config__setRivetTargetForCharacter','isCaseSensitive','_KEYS_SETTINGS_METAS','psiPointsResourceCustom','_getDefaultPlayerConfig','post','bindTypingEnd','getPsiPointsResource','_pInit_initCompatibilityTempOverrides','Cleared\x20Rivet\x20import\x20target.\x20Rivet\x20will\x20now\x20import\x20to\x20an\x20appropriate\x20directory.','<textarea\x20name=\x22ipt-report\x20mb-3\x22\x20class=\x22w-100\x20h-100\x22></textarea>','Applying...','dnd5e','_DRAFT_PLAYER','registerMenu','isMetricDistance','config','DEFAULT_CONFIG_','isNullable','<div\x20class=\x22cfg__head-tab-section\x20my-1\x22>Advanced\x20Settings</div>','active','map','text','_DRAFT_GM','<hr\x20class=\x22cfg__hr-tab-section\x22>','stopPropagation','color','register','assign','disabled','_getIsDisabledMessage','_pOpen','(This\x20setting\x20is\x20controlled\x20by\x20the\x20GM)','_CONFIG_TEMP','<input\x20type=\x22checkbox\x22>','Unhandled\x20setting\x20type\x20\x22','_doShowBugReportForm','_$getBtnSave','MODULE_NAME','_saveConfigDebounced','$tabHeader','initialVisibleGroup','_CLIENT_SETTINGS_KEY','351OKksOB','1955088YHylLJ','stringify','number','_get_getValidValue','getMetricUnit','</button>','some','application/json','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20ml-1\x22><i\x20class=\x22fas\x20fa-bug\x22></i>\x20Report\x20a\x20Bug</button>','\x09-\x20*Use\x20one\x20of\x20many\x20custom\x20values*\x0a','mergeObject','_DEFAULT_CONFIG__SORTED','\x09-\x20*','w-initial','_getDefaultConfig','toggleVe','filter','_handleGmConfigUpdate','_activateListeners_$getWrpImportExport','escapeQuotes','fromObject','data','api_getWikiSummaryMarkdown','_CONFIG','toTitleCase','backendEndpoint','isInit','setRivetTargetActor','STR_SEE_CONSOLE','Could\x20not\x20find\x20config\x20group\x20\x22','Config\x20applied!','Could\x20not\x20find\x20exported\x20config\x20in\x20file!','Saving...','entries','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20ml-1\x22>Changelog</button>','url','pUserUpload','minimumRole','defaultOptions','spellPointsMode','getSpellPointsKey','copy','Config__clearRivetTarget','isGameSettingsButton','Continue','C_SPELL_POINTS_RESOURCE__ATTRIBUTE_CUSTOM','###\x20','version','ve-muted','prop','_isNullable','_getMetricUnit','No\x20\x22default\x22\x20config\x20value\x20exists\x20for\x20\x22','typeSub','render','\x20=\x20','value','modules','-\x20**','max','ascSortLower','_state','pHandleButtonClick','##\x20','getCurrentSelectedTokenActor','cfg__wrp-input--wide','world','options','sum','compatibilityModeValues','_preInit_registerKeybinds','import','Config__setRivetTargetForCurrentToken','isModuleActive','placeholder','isPlayer','title','showCopiedEffect','$getDirButton','push','_tabMetas','activateListeners','_getEnumValueValue','Configure\x20','.max','settingsAdvanced','_populateMissingConfigValues','Apply','_getWikiSummaryMarkdown','Open\x20Config','Set\x20Player\x20Character\x20as\x20Rivet\x20Target','arrayStringShort','val','_SETTINGS_KEY','25kknoYY','C_SPELL_POINTS_RESOURCE__SHEET_ITEM','Set\x20Current\x20Sheet\x20as\x20Rivet\x20Target','Failed\x20to\x20apply','getPlayerActor','isMetricWeight','Applied!','type','_addHookBase','1102170xlLTjl','_fireConfigUpdateHook','toLowerCase','spellPointsResourceCustom','userAgent','isStreamerMode','getMetricNumber','_CACHE_DEFAULT_CONFIG_SORTED','enum','<div\x20class=\x22cfg__head-tab-section\x20my-1\x20help\x22\x20title=\x22These\x20settings\x20may\x20be\x20incompatible\x20with\x20other\x20modules,\x20or\x20even\x20Foundry\x20itself.\x20If\x20something\x20doesn\x27t\x20work,\x20turn\x20these\x20off\x20first.\x22>Experimental\x20Settings</div>','43ITMlqA','$row','<input\x20type=\x22text\x22\x20class=\x22w-100\x20text-right\x22>','_DEFAULT_CONFIG__SORTED_FLAT','config.update','<button\x20class=\x22btn\x20btn-5et\x20btn-default\x20min-w-100p\x22>','_isPlayerEditable','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x22><i\x20class=\x22fas\x20fa-file-import\x20fa-fw\x22></i>\x20Import\x20Config</button>','includes','_ixActiveTab','Clear\x20Rivet\x20Target','isPlayerEditable',']\x0a\x0a---\x0a\x0a**Browser**:\x20','close','appendTo','forEach','multipleChoice','findIndex','Cancel','hacks','getOrSet','/template/Config.hbs','min','fas\x20fa-fw\x20fa-cogs','_CACHE_DEFAULT_CONFIG_SORTED_FLAT','\x0a**Modules\x20Installed**:\x0a','set','Config__open','trim','\x20--\x20','getSafe','<button\x20class=\x22btn\x20btn-xxs\x20ml-1\x20cfg__btn-reset-row\x22\x20title=\x22Reset\x22><i\x20class=\x22fa\x20fa-undo-alt\x22></i></button>','bind','click','change','utils','./Changelog.js','module.','Plutonium','handleFailedInitConfigApplication','addClass','$tabBody','config.ixLastActiveTab','cfg__btn-open-alt','Set\x20Rivet\x20import\x20target.\x20Rivet\x20will\x20now\x20import\x20to\x20Actor\x20\x22','Report\x20a\x20Bug','pGetUserBoolean','**Support\x20Request**\x0a\x0a**Issue\x20Description**:\x20PLEASE\x20FILL,\x20e.g.\x20\x22When\x20I\x20import\x20a\x20goblin,\x20my\x20game\x20crashes\x22\x0a**Environment/OS**:\x20PLEASE\x20FILL,\x20e.g.\x20\x22Self\x20hosted\x20on\x20Windows\x22/\x22The\x20Forge\x22/etc.\x0a**Browser\x20Extensions**:\x20FILL\x20IF\x20RELEVANT,\x20e.g.\x20\x22Beyond20\x22\x0a\x0a**Reproduction\x20Steps**:\x20PLEASE\x20FILL,\x20e.g.\x20\x221)\x20Create\x20a\x20new\x20actor\x20compendium;\x202)\x20Import\x20a\x20goblin\x20to\x20that\x20compendium\x22\x0a\x0a**Console\x20Log**:\x20PLEASE\x20FILL\x20[','getCurrentImportableSheetDocumentMeta','setTemp','empty','pSet','C_USE_GAME_DEFAULT','\x20detected!\x20Setting\x20compatibility\x20config:\x20','cfg__row--no-match','default','174232NIfvKL','warn','\x22!\x20This\x20is\x20a\x20bug!','Saved!','preventDefault','Set\x20Current\x20Token\x20as\x20Rivet\x20Target','\x20<span\x20class=\x22cfg__disp-player-editable\x20ml-1\x22\x20title=\x22Player\x20Editable\x22>†</span>','Reset\x20All','_SETTINGS_KEY_LAST_ACTIVE_TAB','description','metricWeightUnits','keys','.\x20If\x20you\x20encounter\x20unexpected\x20issues,\x20consider\x20disabling\x20either\x20module.','11490423KmcIeB','importPsionic','isSkipBackendCheck','user','_INSTANCE','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x22><i\x20class=\x22fas\x20fa-file-export\x20fa-fw\x22></i>\x20Export\x20Config</button>','_getIncompatibleModuleIds','getMetricNumberWeight','><span\x20class=\x22fas\x20fa-fw\x20fa-cogs\x22></span>','values','getMetricUnitWeight','catch','pInit','P_GET_BACKEND_VERSION','Failed\x20to\x20apply\x20Config\x20\x22','\x0a**Foundry\x20&\x20DND\x20system\x20Version**:\x20Foundry\x20','get','_CONFIG_PLAYER','_IS_INIT','Plutonium\x20backend\x20not\x20detected.\x20Some\x20features\x20may\x20be\x20unavailable.\x20If\x20you\x20have\x20not\x20attempted\x20to\x20install\x20the\x20backend\x20mod\x20(see:\x20the\x20module\x20README),\x20please\x20ignore\x20the\x20above\x20404.\x20Alternatively,\x20you\x20can\x20disable\x20the\x20backend\x20check\x20in\x20the\x20config.','settingsHacks','_getEnumValues','cfg__disp-row-count-tab-header--has-results','<button\x20class=\x22btn\x20btn-5et\x20btn-default\x20min-w-100p\x22>Cancel</button>','cfg__btn-tab-header--active','replaceAll','pCopyTextToClipboard','22330280JNeKHH','mr-2','removeClass','standard','name','toggleClass','_getSpellPsiPointsResource','unlockCode','getMetricUnitDistance','_getWikiSummary','find','_setActiveTab','log','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20ml-1\x22\x20title=\x22Reset\x20All\x20Settings\x22><i\x20class=\x22fa\x20fa-undo-alt\x22></i></button>','<input\x20type=\x22search\x22\x20placeholder=\x22Find\x20setting...\x22\x20class=\x22input-xs\x20form-control\x22>','isGlobalMetricWeight','/template/_Generic.hbs','_updateObject','choices','isReloadRequired','.value','error','moduleVersion','Config__openBugReportForm','_pInit_pRegisterSettings','isGlobalMetricDistance','getCompendiumPaths','Config','help','_activateListeners_getTabMeta','misc','HK_CONFIG_UPDATE','_pSaveConfig','cbSearch','mergeMap','percentage','stub','boolean','throttle','_addFnHandleUpdate','-config','_fnsHandleUpdate','<button\x20name=\x22btn-copy\x22\x20class=\x22btn\x20btn-5et\x20btn-xs\x22>Copy\x20to\x20Clipboard</button>','info','/template/_GenericForm.hbs','fnsReset','_getDefaultGmConfig','getMetricNumberDistance','SRD\x20Module','isUseMetricDistance','_isCanSetConfig','<button\x20class=\x22mx-0\x20','checked','then','\x20*(default:\x20','keybindings','psiPointsResource','system','isGM','isUseMetricWeight','<option\x20value=\x22-1\x22>(None)</option>','358808VZNgZd','\x22\x20class=\x22w-100\x22>','_SOCKET_ID','getSpellPointsResource','_is_getKeyMeta','callAll','div','join','constructor','length',')\x20detected.','<option/>','_setVisibleGroup','MODULE_LOCATION','_getMetricNumber','settings','<input\x20type=\x22','\x0a**Backend\x20installed**:\x20','<select\x20class=\x22w-100\x22></select>','metric','/api/plutonium','isToken','uuid','userDownload','sort','notifications','deepEquals','_GET_BACKEND_VERSION_RESOLVE'];_0x4999=function(){return _0x3094ef;};return _0x4999();}export{Config};