function _0x4f74(){const _0x53bbff=['eActive','317824CospRE','sourceJsonToAbv','actors','Traps','special','push','trap','isStreamerMode','_pImportEntry_pFillItems','defaultPermission','sourceStyle','_pack','med','items','registerImpl','type','Import\x20Traps','WTH','source','./ImportListHazard.js','countermeasures','_pImportEntry_pFillToken','Name','name','custom','DataSourceFile','_pImportEntry_fillData_Attributes','traits','pGetItemActorPassive','sourceJsonToFull','_pImportEntry_fillData_Resources','5308pMdBMa','DISPLAY_NAME_TYPE_PLURAL','isTemp','spellcasting','object','Dynamic\x20Elements','tierToFullLevel','VET_SIZE_TO_ABV','pGetTrapHazardSideData','Custom\x20URL','npc','_pImportEntry_fillData_Skills','DataSourceUrl','traphazard','111fhAKAn','DATA_URL_TRAPS_HAZARDS','_pGetSourcesHomebrew','sourceJsonToColor','getSourceWithPagePart','PG_TRAPS_HAZARDS','actor','229790fNfsIx','Description','Active\x20Elements','sourceShort','eConstant','mutateForFilters','constructor','trapHazType','_lTrapType','map','711XFlXEu','traps','Source','Constant\x20Elements','text-center','1534248WMCxCG','_pGetSources','initiative','currency','SOURCE_TYP_CUSTOM','attributes','get','Upload\x20File','_content','_pageFilter','_TRAP_HAZ_TYPES_HAZARD','size','getData','movement','_pImportEntry_fillData_Currency','getTrapLevelPart','hazard','sourceLong','_IMG_TRAP','_pImportEntry_pFillBase','ENV','trigger','_pImportEntry_pFillFolder','ImportEntryOpts','has','SRD','SOURCE_TYP_OFFICIAL_ALL','Countermeasures','alignment','_pImportEntry_pFillData_Details','fluff','effect','39550otyyNH','trapHazTypeToFull','feat','tier','pSyncStateFrom','entries','406BizNuZ','data','_configGroup','getTrapInitiativeEntries','HAZ','permission','_pImportEntry','WLD','534bzLbEW','_pImportEntry_fillData_Bonuses','_pImportEntry_fillData_Spells','_pImportEntry_fillData_Abilities','166947QuNMDw'];_0x4f74=function(){return _0x53bbff;};return _0x4f74();}function _0xbb00(_0x3e7b76,_0x4dfe41){const _0x4f74e8=_0x4f74();return _0xbb00=function(_0xbb000a,_0x2f1368){_0xbb000a=_0xbb000a-0x1ab;let _0x562f8d=_0x4f74e8[_0xbb000a];return _0x562f8d;},_0xbb00(_0x3e7b76,_0x4dfe41);}const _0x5da71b=_0xbb00;(function(_0x43b486,_0x3a4dad){const _0x58a618=_0xbb00,_0x2e5dd6=_0x43b486();while(!![]){try{const _0x2a4b11=parseInt(_0x58a618(0x1de))/0x1+parseInt(_0x58a618(0x1e0))/0x2+-parseInt(_0x58a618(0x20d))/0x3*(parseInt(_0x58a618(0x1ff))/0x4)+-parseInt(_0x58a618(0x214))/0x5+-parseInt(_0x58a618(0x1da))/0x6*(-parseInt(_0x58a618(0x1d2))/0x7)+parseInt(_0x58a618(0x1ac))/0x8+-parseInt(_0x58a618(0x21e))/0x9*(parseInt(_0x58a618(0x1cc))/0xa);if(_0x2a4b11===_0x3a4dad)break;else _0x2e5dd6['push'](_0x2e5dd6['shift']());}catch(_0x1def04){_0x2e5dd6['push'](_0x2e5dd6['shift']());}}}(_0x4f74,0x1c264));import{ImportListActor}from'./ImportListActor.js';import{Vetools}from'./Vetools.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{UtilActors}from'./UtilActors.js';import{UtilDataSource}from'./UtilDataSource.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{DataConverterTrap}from'./DataConverterTrap.js';class ImportListTrap extends ImportListActor{static ['ID']=_0x5da71b(0x21f);static [_0x5da71b(0x200)]='Traps';static ['_']=this[_0x5da71b(0x1ee)](this);constructor(_0x364206){const _0x547875=_0x5da71b;_0x364206=_0x364206||{},super({'title':_0x547875(0x1f0)},_0x364206,{'props':[_0x547875(0x1e6)],'dirsHomebrew':[_0x547875(0x1e6)],'propsBrewAdditionalData':['foundryTrap'],'fnLoadSideData':Vetools[_0x547875(0x207)],'titleSearch':_0x547875(0x21f),'sidebarTab':_0x547875(0x1e2),'gameProp':_0x547875(0x1e2),'defaultFolderPath':[_0x547875(0x1e3)],'pageFilter':new PageFilterTrapsHazards(),'page':UrlUtil[_0x547875(0x212)],'isPreviewable':!![],'isDedupable':!![],'configGroup':'importTrap'},{'actorType':_0x547875(0x209),'DataConverter':DataConverterTrap});}async[_0x5da71b(0x1ad)](){const _0x9fbed9=_0x5da71b;return[new UtilDataSource[(_0x9fbed9(0x20b))](Config['get']('ui',_0x9fbed9(0x1e7))?_0x9fbed9(0x1c5):'5etools',Vetools[_0x9fbed9(0x20e)],{'filterTypes':[UtilDataSource[_0x9fbed9(0x1c6)]],'isDefault':!![]}),new UtilDataSource['DataSourceUrl'](_0x9fbed9(0x208),'',{'filterTypes':[UtilDataSource[_0x9fbed9(0x1b0)]]}),new UtilDataSource[(_0x9fbed9(0x1f9))](_0x9fbed9(0x1b3),{'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),...await this[_0x9fbed9(0x20f)]()];}['getData'](){const _0x2a74d4=_0x5da71b;return{...super[_0x2a74d4(0x1b8)](),'cols':[{'name':'Type','width':0x2,'field':_0x2a74d4(0x1ef),'rowClassName':'text-center'},{'name':_0x2a74d4(0x1f6),'width':0x7,'field':_0x2a74d4(0x1f7)},{'name':_0x2a74d4(0x220),'width':0x2,'field':_0x2a74d4(0x1f2),'titleProp':_0x2a74d4(0x1bd),'displayProp':_0x2a74d4(0x217),'classNameProp':'sourceClassName','styleProp':_0x2a74d4(0x1ea),'rowClassName':_0x2a74d4(0x1ab)}],'rows':this[_0x2a74d4(0x1b4)][_0x2a74d4(0x21d)]((_0x43d82b,_0x13b154)=>{const _0x25739d=_0x2a74d4;return this[_0x25739d(0x1b5)][_0x25739d(0x21a)][_0x25739d(0x219)](_0x43d82b),_0x43d82b['_lTrapType']=Parser[_0x25739d(0x1cd)](_0x43d82b[_0x25739d(0x21b)]),{'name':_0x43d82b[_0x25739d(0x1f7)],'trapType':_0x43d82b[_0x25739d(0x21c)],'source':_0x43d82b[_0x25739d(0x1f2)],'sourceShort':Parser[_0x25739d(0x1e1)](_0x43d82b['source']),'sourceLong':Parser[_0x25739d(0x1fd)](_0x43d82b[_0x25739d(0x1f2)]),'sourceClassName':Parser[_0x25739d(0x210)](_0x43d82b[_0x25739d(0x1f2)]),'sourceStyle':BrewUtil2['sourceJsonToStylePart'](_0x43d82b['source']),'ix':_0x13b154};})};}async[_0x5da71b(0x1d8)](_0x43dc74,_0x3414ae){const _0x3a407f=_0x5da71b;_0x3414ae=_0x3414ae||{};if(_0x43dc74['__prop']===_0x3a407f(0x1bc)||ImportListTrap['_TRAP_HAZ_TYPES_HAZARD'][_0x3a407f(0x1c4)](_0x43dc74[_0x3a407f(0x21b)])){const {ImportListHazard:_0x3774f5}=await import(_0x3a407f(0x1f3)),_0x2e3e51=new _0x3774f5({});return await _0x2e3e51['pInit'](),await _0x2e3e51[_0x3a407f(0x1d0)](this),_0x2e3e51[_0x3a407f(0x1d8)](_0x43dc74,_0x3414ae);}return super[_0x3a407f(0x1d8)](_0x43dc74,_0x3414ae);}async['_pImportEntry_pGetImportMetadata'](_0x4e053f,_0x8bb97d,_0x3e3619){const _0x29cc2a=_0x5da71b,_0x1d5408={},_0x307dcb=new ImportListTrap[(_0x29cc2a(0x1c3))]({'actor':_0x4e053f});await this[_0x29cc2a(0x1bf)](_0x8bb97d,_0x1d5408,_0x307dcb[_0x29cc2a(0x1ca)],{'img':ImportListTrap[_0x29cc2a(0x1be)]}),_0x1d5408[_0x29cc2a(0x1d3)]={},await this[_0x29cc2a(0x1c2)](_0x8bb97d,_0x1d5408,_0x3e3619);if(_0x3e3619[_0x29cc2a(0x1e9)]!=null)_0x1d5408[_0x29cc2a(0x1d7)]={'default':_0x3e3619[_0x29cc2a(0x1e9)]};else _0x1d5408[_0x29cc2a(0x1d7)]={'default':Config[_0x29cc2a(0x1b2)](this[_0x29cc2a(0x1d4)],'permissions')};return this[_0x29cc2a(0x1dd)](_0x8bb97d,_0x1d5408['data'],_0x307dcb),this['_pImportEntry_fillData_Attributes'](_0x8bb97d,_0x1d5408[_0x29cc2a(0x1d3)],_0x307dcb),await this['_pImportEntry_pFillData_Details'](_0x8bb97d,_0x1d5408[_0x29cc2a(0x1d3)],_0x307dcb),this['_pImportEntry_fillData_Traits'](_0x8bb97d,_0x1d5408[_0x29cc2a(0x1d3)],_0x307dcb),this['_pImportEntry_fillData_Currency'](_0x8bb97d,_0x1d5408[_0x29cc2a(0x1d3)],_0x307dcb),this[_0x29cc2a(0x20a)](_0x8bb97d,_0x1d5408['data'],_0x307dcb),this['_pImportEntry_fillData_Spells'](_0x8bb97d,_0x1d5408[_0x29cc2a(0x1d3)],_0x307dcb),this[_0x29cc2a(0x1db)](_0x8bb97d,_0x1d5408[_0x29cc2a(0x1d3)],_0x307dcb),this[_0x29cc2a(0x1fe)](_0x8bb97d,_0x1d5408[_0x29cc2a(0x1d3)],_0x307dcb),await this[_0x29cc2a(0x1f5)]({'importable':_0x8bb97d,'actor':_0x1d5408,'img':ImportListTrap['_IMG_TRAP']}),{'dataBuilderOpts':_0x307dcb,'actorData':_0x1d5408};}[_0x5da71b(0x1fa)](_0x4e1503,_0x3f95e3){const _0x352a36=_0x5da71b,_0x4ab213={};_0x4ab213['ac']={'calc':_0x352a36(0x1f8),'formula':'0'},_0x4ab213['hp']={'value':0x0,'max':0x0},_0x4ab213[_0x352a36(0x1b9)]={'walk':0x0},_0x4ab213[_0x352a36(0x202)]=null,_0x3f95e3[_0x352a36(0x1b1)]=_0x4ab213;}async[_0x5da71b(0x1c9)](_0x5c16df,_0x302bfc,_0xb6194e){const _0x541c48=_0x5da71b,_0x298f6e={};_0x298f6e['cr']=0x0,_0x298f6e['xp']={'value':0x0},_0x298f6e[_0x541c48(0x1c8)]=(_0x5c16df[_0x541c48(0x1cf)]?Parser[_0x541c48(0x205)](_0x5c16df[_0x541c48(0x1cf)]):Renderer['traphazard'][_0x541c48(0x1bb)](_0x5c16df))||'',_0x298f6e[_0x541c48(0x1ef)]={'value':_0x541c48(0x1f8),'subtype':'','swarm':'','custom':_0x5c16df['trapHazType']?Parser[_0x541c48(0x1cd)](_0x5c16df[_0x541c48(0x21b)]):''},_0x298f6e[_0x541c48(0x1f2)]=UtilDataConverter[_0x541c48(0x211)](_0x5c16df),_0x302bfc['details']=_0x298f6e;}['_pImportEntry_fillData_Traits'](_0x5206f6,_0x2bdd23){const _0x4240dd=_0x5da71b,_0x172069={};_0x172069[_0x4240dd(0x1b7)]=UtilActors[_0x4240dd(0x206)][_0x5206f6[_0x4240dd(0x1b7)]]||_0x4240dd(0x1ec),_0x2bdd23[_0x4240dd(0x1fb)]=_0x172069;}[_0x5da71b(0x1ba)](_0x56de1e,_0x2107de){const _0x1c26b2=_0x5da71b;_0x2107de[_0x1c26b2(0x1af)]={'pp':0x0,'gp':0x0,'ep':0x0,'sp':0x0,'cp':0x0};}[_0x5da71b(0x20a)](_0x2c003b,_0x47c703){}[_0x5da71b(0x1dc)](_0x27f831,_0x46caa8){}[_0x5da71b(0x1db)](_0x4d9b40,_0x26eeb9){}['_pImportEntry_fillData_Resources'](_0x256134,_0x3bc377){}async[_0x5da71b(0x1e8)](_0x315859,_0x30eb57,_0x49b3ae,_0x4cc485){const _0x1d0bd3=_0x5da71b;_0x315859[_0x1d0bd3(0x1d1)]&&_0x49b3ae[_0x1d0bd3(0x1ed)][_0x1d0bd3(0x1e5)](await DataConverter['pGetItemActorPassive']({'name':_0x1d0bd3(0x215),'entries':_0x315859['entries']},{'mode':_0x1d0bd3(0x203),'fvttType':_0x1d0bd3(0x1ce),'entity':_0x315859,'source':_0x315859['source'],'img':ImportListTrap['_IMG_TRAP']}));_0x315859[_0x1d0bd3(0x1c1)]&&_0x49b3ae[_0x1d0bd3(0x1ed)]['push'](await DataConverter['pGetItemActorPassive']({'name':'Trigger','entries':_0x315859['trigger']},{'mode':_0x1d0bd3(0x203),'fvttType':_0x1d0bd3(0x1ce),'activationType':_0x1d0bd3(0x1e4),'entity':_0x315859,'source':_0x315859[_0x1d0bd3(0x1f2)],'img':ImportListTrap[_0x1d0bd3(0x1be)]}));if(_0x315859[_0x1d0bd3(0x1cb)]){const _0x3573ae={'name':'Effect','entries':_0x315859[_0x1d0bd3(0x1cb)]},{damageTupleMetas:_0x1efa82,rangeShort:_0x505ecd,rangeLong:_0x35e4f1,actionType:_0x4da1a5,attackBonus:_0x4d441a,attackTypes:_0x163d4a}=DataConverter['getParsedWeaponEntryData'](_0x315859,_0x3573ae),{damageParts:_0x34f4cb,formula:_0x62a4e6}=DataConverter['getDamagePartsAndOtherFormula'](_0x1efa82);_0x49b3ae[_0x1d0bd3(0x1ed)][_0x1d0bd3(0x1e5)](await DataConverter[_0x1d0bd3(0x1fc)](_0x3573ae,{'mode':'object','fvttType':_0x1d0bd3(0x1ce),'activationType':_0x1d0bd3(0x1e4),'entity':_0x315859,'source':_0x315859[_0x1d0bd3(0x1f2)],'img':ImportListTrap['_IMG_TRAP'],'damageParts':_0x34f4cb,'formula':_0x62a4e6,'rangeShort':_0x505ecd||(_0x163d4a['includes']('m')?0x5:null),'rangeLong':_0x35e4f1,'attackBonus':_0x4d441a,'actionType':_0x4da1a5}));}const _0x28b3ca=[{'prop':_0x1d0bd3(0x1df),'name':_0x1d0bd3(0x216)},{'prop':'eDynamic','name':_0x1d0bd3(0x204)},{'prop':_0x1d0bd3(0x218),'name':_0x1d0bd3(0x221)}];for(const {prop:_0x5759f4,name:_0x7dd7f9}of _0x28b3ca){if(!_0x315859[_0x5759f4])continue;_0x49b3ae[_0x1d0bd3(0x1ed)][_0x1d0bd3(0x1e5)](await DataConverter['pGetItemActorPassive']({'name':_0x7dd7f9,'entries':_0x315859[_0x5759f4]},{'mode':'object','fvttType':_0x1d0bd3(0x1ce),'activationType':'special','entity':_0x315859,'source':_0x315859[_0x1d0bd3(0x1f2)],'img':ImportListTrap[_0x1d0bd3(0x1be)]}));}_0x315859[_0x1d0bd3(0x1ae)]&&_0x49b3ae[_0x1d0bd3(0x1ed)][_0x1d0bd3(0x1e5)](await DataConverter[_0x1d0bd3(0x1fc)]({'name':'Initiative','entries':Renderer[_0x1d0bd3(0x20c)][_0x1d0bd3(0x1d5)](_0x315859)},{'mode':'object','fvttType':_0x1d0bd3(0x1ce),'entity':_0x315859,'source':_0x315859[_0x1d0bd3(0x1f2)],'img':ImportListTrap[_0x1d0bd3(0x1be)]}));_0x315859[_0x1d0bd3(0x1f4)]&&_0x49b3ae[_0x1d0bd3(0x1ed)][_0x1d0bd3(0x1e5)](await DataConverter['pGetItemActorPassive']({'name':_0x1d0bd3(0x1c7),'entries':_0x315859[_0x1d0bd3(0x1f4)]},{'mode':_0x1d0bd3(0x203),'fvttType':'feat','entity':_0x315859,'source':_0x315859[_0x1d0bd3(0x1f2)],'img':ImportListTrap[_0x1d0bd3(0x1be)]}));const _0x2c0c67=_0x4cc485[_0x1d0bd3(0x201)]||this[_0x1d0bd3(0x1eb)]!=null;await UtilActors['pAddActorItems'](_0x49b3ae[_0x1d0bd3(0x213)],_0x49b3ae[_0x1d0bd3(0x1ed)],{'isTemporary':_0x2c0c67});}}ImportListTrap[_0x5da71b(0x1b6)]=new Set([_0x5da71b(0x1d6),_0x5da71b(0x1f1),_0x5da71b(0x1c0),_0x5da71b(0x1d9),'GEN']),ImportListTrap[_0x5da71b(0x1be)]='icons/svg/trap.svg',ImportListTrap['ImportEntryOpts']=class extends ImportListActor[_0x5da71b(0x1c3)]{};export{ImportListTrap};