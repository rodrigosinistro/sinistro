function _0x4b31(_0x32e070,_0x2d48ac){const _0x1ff00c=_0x1ff0();return _0x4b31=function(_0x4b3131,_0x5b2435){_0x4b3131=_0x4b3131-0x121;let _0x169a5d=_0x1ff00c[_0x4b3131];return _0x169a5d;},_0x4b31(_0x32e070,_0x2d48ac);}const _0x47dbd4=_0x4b31;(function(_0x541a03,_0x436081){const _0x1158c1=_0x4b31,_0x5e7468=_0x541a03();while(!![]){try{const _0xa26865=parseInt(_0x1158c1(0x13f))/0x1*(-parseInt(_0x1158c1(0x148))/0x2)+parseInt(_0x1158c1(0x12c))/0x3+-parseInt(_0x1158c1(0x125))/0x4+parseInt(_0x1158c1(0x123))/0x5+parseInt(_0x1158c1(0x13e))/0x6*(parseInt(_0x1158c1(0x132))/0x7)+parseInt(_0x1158c1(0x131))/0x8+-parseInt(_0x1158c1(0x12f))/0x9;if(_0xa26865===_0x436081)break;else _0x5e7468['push'](_0x5e7468['shift']());}catch(_0x46a830){_0x5e7468['push'](_0x5e7468['shift']());}}}(_0x1ff0,0x9916a));import{Vetools}from'./Vetools.js';function _0x1ff0(){const _0x4501ac=['mapParent','102uVfbgA','225196bwviVr','getOrSet','_IMPORTABLE_IMAGE_TYPES__MAP','(Unnamed\x20Chapter)','mapPlayer','mutMapNames','replace','â€“Map','_chapterName','8WlzpWO','mapName','test','4946635oKjpZf','name','3077804bJwmOJ','forEach','ordinal','getImageUrl','imageType','(Unnamed\x20Map)','map','2060721PPPWJS','_DEFAULT_MAP_NAME','title','4804560XVGNBB','image','7282224vkjCQh','100723WEjVzC','_mutMapNames_entry','copy','source','doProcessNode_mutAddMaps','has','values','bookOrdinalToAbv','_tmp_parentEntryName','\x20(Player\x20Version)','_parentEntry'];_0x1ff0=function(){return _0x4501ac;};return _0x1ff0();}class UtilAdventureBook{static[_0x47dbd4(0x136)]({availableMaps:_0x44f239,entryIdToMap:_0x23613b,entryIdToName:_0x5d9647,entry:_0x58bb55,entryStack:_0x99fe68,source:_0xcce976,chapterInfo:_0x2fd359}){const _0xca2507=_0x47dbd4;if(_0x58bb55['id']&&_0x58bb55['name'])_0x5d9647[_0x58bb55['id']]=_0x58bb55['name'];if(_0x58bb55['type']!==_0xca2507(0x130)||!UtilAdventureBook[_0xca2507(0x141)][_0xca2507(0x137)](_0x58bb55[_0xca2507(0x129)]))return;const _0x404b87=Vetools[_0xca2507(0x128)](_0x58bb55);if(!_0x404b87)return;const _0x28a357=MiscUtil[_0xca2507(0x140)](_0x44f239,_0x58bb55[_0xca2507(0x129)],_0x404b87,MiscUtil[_0xca2507(0x134)](_0x58bb55));_0x28a357[_0xca2507(0x12e)]=_0x28a357[_0xca2507(0x12e)]||_0x58bb55[_0xca2507(0x12e)],_0x28a357['_url']=_0x404b87,_0x28a357[_0xca2507(0x135)]=_0x28a357['source']||_0xcce976;_0x2fd359&&(_0x28a357[_0xca2507(0x147)]=''+Parser[_0xca2507(0x139)](_0x2fd359[_0xca2507(0x127)])+(_0x2fd359['name']||_0xca2507(0x142)));_0x99fe68?.['length']&&(_0x28a357['_tmp_parentEntryName']=[..._0x99fe68]['reverse']()['find'](_0x427dac=>_0x427dac[_0xca2507(0x124)])?.[_0xca2507(0x124)]);if(_0x58bb55['id'])_0x23613b[_0x58bb55['id']]=MiscUtil[_0xca2507(0x134)](_0x58bb55);}static[_0x47dbd4(0x144)]({availableMaps:_0x2f498f,entryIdToMap:_0x1b0c94,entryIdToName:_0x1f3ac5}){const _0x5c598a=_0x47dbd4;Object[_0x5c598a(0x138)](_0x2f498f)[_0x5c598a(0x126)](_0xede54f=>{const _0x12a864=_0x5c598a;Object[_0x12a864(0x138)](_0xede54f)[_0x12a864(0x126)](_0x22c531=>{const _0x3649ef=_0x12a864;this[_0x3649ef(0x133)]({'entryIdToMap':_0x1b0c94,'entryIdToName':_0x1f3ac5,'entry':_0x22c531});});});}static[_0x47dbd4(0x133)]({entryIdToMap:_0x4b04dd,entryIdToName:_0x50cbaf,entry:_0x16761b}){const _0x224a92=_0x47dbd4;_0x16761b['mapRegions']&&_0x16761b['mapRegions'][_0x224a92(0x126)](_0xf83530=>{const _0x5b4664=_0x224a92;_0xf83530[_0x5b4664(0x124)]=_0xf83530[_0x5b4664(0x124)]||_0x50cbaf[_0xf83530['area']];});const _0x15eef0=_0x16761b['mapParent']?.['id']?_0x4b04dd[_0x16761b[_0x224a92(0x13d)]['id']]:null;if(_0x15eef0)this[_0x224a92(0x133)]({'entryIdToMap':_0x4b04dd,'entryIdToName':_0x50cbaf,'entry':_0x15eef0});_0x16761b[_0x224a92(0x124)]=this['_getMapName']({'entry':_0x16761b,'parentEntry':_0x15eef0}),_0x16761b[_0x224a92(0x13c)]=_0x15eef0;}static['_getMapName']({entry:_0xd590fd,parentEntry:_0x6fdac0}){const _0x3515b8=_0x47dbd4;if(_0xd590fd[_0x3515b8(0x121)])return _0xd590fd[_0x3515b8(0x121)];const _0x26f91c=Renderer['stripTags'](_0xd590fd[_0x3515b8(0x12e)]),_0x219635=_0x26f91c||(_0xd590fd[_0x3515b8(0x13a)]?_0xd590fd['_tmp_parentEntryName']+_0x3515b8(0x146):UtilAdventureBook['_DEFAULT_MAP_NAME']);if(!_0x6fdac0||!_0x6fdac0[_0x3515b8(0x12e)])return _0x219635;const _0x277a92=Renderer['stripTags'](_0x6fdac0[_0x3515b8(0x12e)]),_0x4f522d=(_0x26f91c||'')[_0x3515b8(0x145)](/[^a-zA-Z]+/g,'');if(!/^player(?:version)?$/i[_0x3515b8(0x122)](_0x4f522d))return _0x219635;return _0x277a92+_0x3515b8(0x13b);}}UtilAdventureBook[_0x47dbd4(0x141)]=new Set([_0x47dbd4(0x12b),_0x47dbd4(0x143)]),UtilAdventureBook[_0x47dbd4(0x12d)]=_0x47dbd4(0x12a);export{UtilAdventureBook};