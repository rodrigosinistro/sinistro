const _0x1cda67=_0x5eb6;(function(_0x3cec9f,_0x2d0921){const _0x3f1529=_0x5eb6,_0x354a09=_0x3cec9f();while(!![]){try{const _0x381b94=parseInt(_0x3f1529(0x1eb))/0x1+-parseInt(_0x3f1529(0x222))/0x2+parseInt(_0x3f1529(0x1b1))/0x3*(-parseInt(_0x3f1529(0x22a))/0x4)+-parseInt(_0x3f1529(0x1f1))/0x5+-parseInt(_0x3f1529(0x1bc))/0x6*(parseInt(_0x3f1529(0x18c))/0x7)+parseInt(_0x3f1529(0x1f9))/0x8+parseInt(_0x3f1529(0x1cd))/0x9;if(_0x381b94===_0x2d0921)break;else _0x354a09['push'](_0x354a09['shift']());}catch(_0x207524){_0x354a09['push'](_0x354a09['shift']());}}}(_0x1706,0xbac9c));import{Vetools}from'./Vetools.js';import{LGT,Util}from'./Util.js';import{UtilApplications}from'./UtilApplications.js';import{UtilDataConverter}from'./UtilDataConverter.js';function _0x5eb6(_0x334865,_0x1916ea){const _0x170648=_0x1706();return _0x5eb6=function(_0x5eb6fe,_0xc9afa1){_0x5eb6fe=_0x5eb6fe-0x188;let _0x13d440=_0x170648[_0x5eb6fe];return _0x13d440;},_0x5eb6(_0x334865,_0x1916ea);}class Charactermancer_Background_Characteristics extends BaseComponent{static async[_0x1cda67(0x209)]({entries:_0x3546a2}={}){const _0x2d05d0=_0x1cda67;if(!_0x3546a2||!_0x3546a2[_0x2d05d0(0x1f4)])return{'isFormComplete':!![],'data':{}};const _0x3c6bba=new this({'entries':_0x3546a2});return UtilApplications[_0x2d05d0(0x1cf)]({'comp':_0x3c6bba,'width':Util['getMaxWindowWidth'](0x280),'height':Util[_0x2d05d0(0x216)]()});}static async[_0x1cda67(0x1e9)](_0x1c1788,_0x53bd71,_0x51c445){const _0x4c6088=_0x1cda67;if(!_0x1c1788||!_0x1c1788[_0x4c6088(0x1f4)])return;const _0x5d1b2b=await this['pGetUserInput']({'entries':_0x1c1788});if(!_0x5d1b2b)return _0x51c445[_0x4c6088(0x205)]=!![];if(_0x5d1b2b===VeCt[_0x4c6088(0x18b)])return;this['applyFormDataToActorUpdate'](_0x53bd71,_0x5d1b2b);}static[_0x1cda67(0x18a)](_0x476491,_0x765769){const _0x19afeb=_0x1cda67;MiscUtil[_0x19afeb(0x1a8)](_0x476491,'data','details',{}),Charactermancer_Background_Characteristics['_PROP_METAS']['forEach'](_0x240498=>{const _0x4a75ce=_0x19afeb,_0x30ff3a=Charactermancer_Background_Characteristics['_PROP_TO_ACTOR_DETAILS_PROP'][_0x240498['prop']];_0x476491[_0x4a75ce(0x1f3)][_0x4a75ce(0x21f)][_0x30ff3a]=[(_0x476491[_0x4a75ce(0x1f3)][_0x4a75ce(0x21f)][_0x30ff3a]||'')[_0x4a75ce(0x1ba)](),...[...new Array(_0x240498[_0x4a75ce(0x1b9)]||0x1)][_0x4a75ce(0x219)]((_0x489746,_0x3016c4)=>{const _0x2dee71=_0x4a75ce,{propValue:_0xbb7cda}=this[_0x2dee71(0x1e5)](_0x240498['prop'],_0x3016c4);if(!_0x765769[_0x2dee71(0x1f3)][_0xbb7cda])return null;return _0x765769[_0x2dee71(0x1f3)][_0xbb7cda];})][_0x4a75ce(0x20e)](Boolean)['join']('\x0a\x0a');});}static[_0x1cda67(0x220)](_0x250609,_0xe86715){const _0x1aa0dd=_0x1cda67,_0x5c2142=MiscUtil[_0x1aa0dd(0x1a8)](_0x250609,'data','details',{});Object[_0x1aa0dd(0x1e8)](Charactermancer_Background_Characteristics['_PROP_TO_ACTOR_DETAILS_PROP'])['forEach'](_0x5e81c7=>{const _0x212e1f=_0x1aa0dd;_0x5c2142[_0x5e81c7]=MiscUtil[_0x212e1f(0x1ac)](_0xe86715,_0x212e1f(0x1f3),_0x212e1f(0x1f3),_0x212e1f(0x21f),_0x5e81c7);});}constructor(_0x23cf08){const _0x50600d=_0x1cda67;_0x23cf08=_0x23cf08||{},super(),this[_0x50600d(0x21e)]=Charactermancer_Background_Characteristics[_0x50600d(0x1ca)](_0x23cf08[_0x50600d(0x1fc)]),this['_$wrpHeaderControls']=_0x23cf08[_0x50600d(0x1ab)],Object['assign'](this[_0x50600d(0x20b)],Charactermancer_Background_Characteristics[_0x50600d(0x196)][_0x50600d(0x1ff)](_0x4c8a91=>({[Charactermancer_Background_Characteristics[_0x50600d(0x1e5)](_0x4c8a91[_0x50600d(0x1f6)])[_0x50600d(0x210)]]:this[_0x50600d(0x21e)][_0x4c8a91[_0x50600d(0x1f6)]]!=null?_0x50600d(0x1e3):'custom'})));}static['_getProps'](_0x3feacb,_0x38ff23){const _0x2f1d04=_0x1cda67;return{'propValue':_0x3feacb+'_'+_0x38ff23+_0x2f1d04(0x1fa),'propMode':_0x3feacb+_0x2f1d04(0x1d0)};}static[_0x1cda67(0x1e4)](_0xc8db03,_0x5b5164){const _0x3f7264=_0x1cda67,_0x2e1c7e=_0xc8db03[_0x3f7264(0x1ce)][_0x5b5164]?.[0x1];if(!_0x2e1c7e)return ui[_0x3f7264(0x1fb)][_0x3f7264(0x1f5)](_0x3f7264(0x1af)+_0x5b5164+'!'),null;return Renderer['stripTags'](MiscUtil[_0x3f7264(0x21b)](_0x2e1c7e));}get[_0x1cda67(0x1ae)](){return'Characteristics';}[_0x1cda67(0x19e)](_0x1cd34e){const _0x2afdf7=_0x1cda67,_0x28f129=Charactermancer_Background_Characteristics[_0x2afdf7(0x196)][_0x2afdf7(0x219)]((_0xb0cc54,_0x1c7923)=>{const _0x389e27=_0x2afdf7,_0x3f6c74=_0xb0cc54[_0x389e27(0x1b9)]||0x1,{propMode:_0x3f23d1}=this[_0x389e27(0x192)]['_getProps'](_0xb0cc54[_0x389e27(0x1f6)]);let _0x22d906,_0x464b12;if(this[_0x389e27(0x21e)][_0xb0cc54['prop']]){const _0x59195b=$(_0x389e27(0x215))['click'](()=>this[_0x389e27(0x1c9)][_0x3f23d1]=this['_state'][_0x3f23d1]===_0x389e27(0x232)?_0x389e27(0x1e3):_0x389e27(0x232));_0x22d906=$$`<div class="ve-flex-v-center">
					${_0x59195b}
				</div>`;const _0x603647=this['_tables'][_0xb0cc54[_0x389e27(0x1f6)]],_0x1b1151=Vetools[_0x389e27(0x1ea)](()=>{const _0x7d4572=_0x389e27,_0x45542b=$(''+Renderer[_0x7d4572(0x1ac)]()['render'](_0x603647));return _0x45542b[_0x7d4572(0x18d)](_0x7d4572(0x1ed))['each']((_0x1a8990,_0x4ef742)=>{const _0x180795=_0x7d4572,_0x252120=$(_0x4ef742),_0x1994ac=[...new Array(_0x3f6c74)][_0x180795(0x219)]((_0x58d6dd,_0x4e753b)=>{const _0x4ca3c6=_0x180795;return $(_0x4ca3c6(0x1a7)+(_0x3f6c74>0x1?'\x20'+Parser[_0x4ca3c6(0x1f2)](_0x4e753b+0x1):'')+_0x4ca3c6(0x1b4))['click'](async()=>{const _0x3ec271=_0x4ca3c6,{propValue:_0x32e856}=this[_0x3ec271(0x192)][_0x3ec271(0x1e5)](_0xb0cc54['prop'],_0x4e753b);let _0x4f8f06;try{_0x4f8f06=new Roll(Renderer[_0x3ec271(0x217)](_0x603647[_0x3ec271(0x189)][0x0])),await _0x4f8f06[_0x3ec271(0x1d5)](),_0x4f8f06[_0x3ec271(0x214)]();}catch(_0x2cb78d){return ui['notifications'][_0x3ec271(0x1f5)](_0x3ec271(0x203)+VeCt['STR_SEE_CONSOLE']);}const _0x10a0d8=_0x603647[_0x3ec271(0x1ce)][_0x4f8f06[_0x3ec271(0x1db)]-0x1]?.[0x1];if(!_0x10a0d8)return ui[_0x3ec271(0x1fb)][_0x3ec271(0x1f5)](_0x3ec271(0x1f7)+_0x4f8f06['total']+'!');this[_0x3ec271(0x1c9)][_0x32e856]=Renderer['stripTags'](MiscUtil[_0x3ec271(0x21b)](_0x10a0d8));});}),_0x550701=$$`<div class="ve-flex-vh-center btn-group">${_0x1994ac}</div>`;_0x252120[_0x180795(0x198)](_0x550701);}),_0x45542b[_0x7d4572(0x18d)](_0x7d4572(0x1b5))['each']((_0x5df6b6,_0x1542f7)=>{const _0x27741f=_0x7d4572,_0x48896a=$(_0x1542f7),_0x377bfd=_0x48896a[_0x27741f(0x223)]();$(_0x27741f(0x202)+_0x377bfd+_0x27741f(0x1fe))[_0x27741f(0x1dd)](_0x25b938=>{const _0x1e5d33=_0x27741f,{propValue:_0x3e1610}=this[_0x1e5d33(0x192)]['_getProps'](_0xb0cc54['prop'],_0x25b938[_0x1e5d33(0x22c)]?0x1:0x0);this['_state'][_0x3e1610]=this['constructor'][_0x1e5d33(0x1e4)](_0x603647,_0x5df6b6);})[_0x27741f(0x195)](_0x3f6c74>0x1?_0x27741f(0x20f):null)['appendTo'](_0x48896a[_0x27741f(0x1a5)]());}),_0x45542b;},()=>{const _0x1d4a17=_0x389e27;return _0x1d4a17(0x19a);});_0x464b12=$$`<div class="ve-flex-col w-100 ve-small">
					${_0x1b1151}
				</div>`;const _0x2f75f6=()=>{const _0x207144=_0x389e27;_0x59195b['toggleClass'](_0x207144(0x1a4),this[_0x207144(0x1c9)][_0x3f23d1]==='standard'),_0x464b12['toggleVe'](this[_0x207144(0x1c9)][_0x3f23d1]===_0x207144(0x1e3));};this[_0x389e27(0x1e1)](_0x3f23d1,_0x2f75f6),_0x2f75f6();}const _0x253499=[...new Array(_0x3f6c74)][_0x389e27(0x219)]((_0x3501b0,_0x3682eb)=>ComponentUiUtil[_0x389e27(0x1da)](this,this['constructor'][_0x389e27(0x1e5)](_0xb0cc54[_0x389e27(0x1f6)],_0x3682eb)[_0x389e27(0x1d4)])['addClass'](_0x389e27(0x190)));if(_0x3f6c74!==0x1){const _0x117f64=_0x253499[_0x389e27(0x219)](_0x28035d=>_0x28035d[0x0]),_0x1bebf5=new ResizeObserver(_0x592b2a=>{const _0x5d956b=_0x389e27;if(_0x592b2a[_0x5d956b(0x1f4)]!==0x1)return;const _0x30c1d5=_0x592b2a[0x0]['target'];_0x117f64[_0x5d956b(0x20e)](_0x2cf755=>_0x2cf755!==_0x30c1d5)[_0x5d956b(0x1a6)](_0x772202=>_0x772202[_0x5d956b(0x213)][_0x5d956b(0x19f)]=_0x30c1d5[_0x5d956b(0x213)][_0x5d956b(0x19f)]);});_0x117f64[_0x389e27(0x1a6)](_0x58a061=>_0x1bebf5[_0x389e27(0x1b3)](_0x58a061));}return $$`<div class="ve-flex-col ${_0x1c7923<Charactermancer_Background_Characteristics[_0x389e27(0x196)]['length']-0x1?_0x389e27(0x221):''}">
				<div class="split-v-center mb-1">
					<div>${Charactermancer_Background_Characteristics[_0x389e27(0x1e6)][_0xb0cc54[_0x389e27(0x1f6)]]}:</div>
					${_0x22d906}
				</div>

				${_0x464b12}

				<div class="ve-flex">${_0x253499}</div>
			</div>`;}),_0x372977=!!Object[_0x2afdf7(0x1e8)](this[_0x2afdf7(0x21e)])[_0x2afdf7(0x1f4)];let _0x590e17;if(_0x372977){_0x590e17=$('<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22>Hide\x20Tables</button>')['click'](()=>{const _0x318905=_0x2afdf7,_0xdae8ed=_0x590e17[_0x318905(0x207)]()===_0x318905(0x22f);this[_0x318905(0x200)](_0x318905(0x1bb),Charactermancer_Background_Characteristics['_PROP_METAS'][_0x318905(0x1ff)](_0x12bf3d=>({[Charactermancer_Background_Characteristics[_0x318905(0x1e5)](_0x12bf3d['prop'])[_0x318905(0x210)]]:this[_0x318905(0x21e)][_0x12bf3d[_0x318905(0x1f6)]]!=null&&!_0xdae8ed?_0x318905(0x1e3):_0x318905(0x232)}))),_0x590e17[_0x318905(0x207)](_0xdae8ed?_0x318905(0x1d2):_0x318905(0x22f));});const _0x5ab2d6=()=>{const _0x6e7ae9=_0x2afdf7,_0x34abc5=Charactermancer_Background_Characteristics[_0x6e7ae9(0x196)][_0x6e7ae9(0x20e)](_0x58f5e1=>this['_tables'][_0x58f5e1['prop']])['map'](_0x229c98=>this[_0x6e7ae9(0x1c9)][Charactermancer_Background_Characteristics[_0x6e7ae9(0x1e5)](_0x229c98[_0x6e7ae9(0x1f6)])[_0x6e7ae9(0x210)]]==='custom');if(_0x34abc5[_0x6e7ae9(0x1bf)](Boolean))_0x590e17[_0x6e7ae9(0x207)](_0x6e7ae9(0x1d2));else{if(_0x34abc5[_0x6e7ae9(0x1bf)](_0x21f2a3=>!_0x21f2a3))_0x590e17[_0x6e7ae9(0x207)](_0x6e7ae9(0x22f));}};Charactermancer_Background_Characteristics[_0x2afdf7(0x196)]['map'](_0x1389f1=>Charactermancer_Background_Characteristics[_0x2afdf7(0x1e5)](_0x1389f1[_0x2afdf7(0x1f6)])[_0x2afdf7(0x210)])[_0x2afdf7(0x1a6)](_0x3f39db=>this[_0x2afdf7(0x1e1)](_0x3f39db,_0x5ab2d6)),_0x5ab2d6();}let _0xf30b75;if(!this['_$wrpHeaderControls']&&_0x372977)_0xf30b75=$$`<div class="mb-2 ve-flex-h-right">${_0x590e17}</div>`;else this[_0x2afdf7(0x21c)]&&_0x372977&&this[_0x2afdf7(0x21c)][_0x2afdf7(0x224)](_0x590e17);$$(_0x1cd34e)`
			${_0xf30b75}
			${_0x28f129}
		`;}[_0x1cda67(0x20a)](){const _0x87484a=_0x1cda67,_0x2a8ccf=Charactermancer_Background_Characteristics[_0x87484a(0x196)][_0x87484a(0x219)](_0x476212=>[...new Array(_0x476212[_0x87484a(0x1b9)]||0x1)][_0x87484a(0x219)]((_0x49b9d9,_0x9ce174)=>this[_0x87484a(0x192)][_0x87484a(0x1e5)](_0x476212[_0x87484a(0x1f6)],_0x9ce174)[_0x87484a(0x1d4)]))[_0x87484a(0x1d3)]()['mergeMap'](_0x5d7179=>({[_0x5d7179]:UiUtil['getEntriesAsText'](this['_state'][_0x5d7179])}));return{'isFormComplete':Object['values'](_0x2a8ccf)['every'](_0x2f3cbc=>_0x2f3cbc[_0x87484a(0x1ba)]()),'data':_0x2a8ccf};}['_getDefaultState'](){const _0x409dcd=_0x1cda67;return Charactermancer_Background_Characteristics[_0x409dcd(0x196)][_0x409dcd(0x219)](_0x3df356=>[...new Array(_0x3df356[_0x409dcd(0x1b9)]||0x1)][_0x409dcd(0x219)]((_0x56a3fb,_0x4c37bf)=>this['constructor']['_getProps'](_0x3df356[_0x409dcd(0x1f6)],_0x4c37bf)[_0x409dcd(0x1d4)]))[_0x409dcd(0x1d3)]()[_0x409dcd(0x1ff)](_0x14a604=>({[_0x14a604]:''}));}static[_0x1cda67(0x1ca)](_0x71e82b){const _0x242fc0=_0x1cda67;if(!_0x71e82b)return{};const _0x55938c={};return UtilDataConverter['WALKER_READONLY_GENERIC'][_0x242fc0(0x22d)](_0x71e82b,{'object':_0x2841c0=>{const _0x300fae=_0x242fc0;if(_0x2841c0[_0x300fae(0x1bd)]!==_0x300fae(0x1aa)||_0x2841c0?.[_0x300fae(0x189)]?.[_0x300fae(0x1f4)]!==0x2||Renderer[_0x300fae(0x22e)](_0x2841c0)!==RollerUtil['ROLL_COL_STANDARD'])return;const _0x32359d=_0x2841c0[_0x300fae(0x189)][0x1][_0x300fae(0x1a0)]()[_0x300fae(0x227)](/\s+/g,''),_0x22ab25=/^(personalitytrait|ideal|bond|flaw)s?$/i[_0x300fae(0x226)](_0x32359d);if(!_0x22ab25)return;_0x55938c[_0x32359d]=MiscUtil[_0x300fae(0x21b)](_0x2841c0);}}),_0x55938c;}}Charactermancer_Background_Characteristics[_0x1cda67(0x196)]=[{'prop':'personalitytrait','count':0x2},{'prop':_0x1cda67(0x19c)},{'prop':_0x1cda67(0x188)},{'prop':_0x1cda67(0x1ee)}],Charactermancer_Background_Characteristics[_0x1cda67(0x1e6)]={'personalitytrait':_0x1cda67(0x1ef),'ideal':'Ideal','bond':_0x1cda67(0x201),'flaw':_0x1cda67(0x1c0)},Charactermancer_Background_Characteristics[_0x1cda67(0x1a1)]={'personalitytrait':_0x1cda67(0x1a9),'ideal':_0x1cda67(0x19c),'bond':'bond','flaw':'flaw'};class Charactermancer_Background_Features extends BaseComponent{static async[_0x1cda67(0x209)]({background:_0x4df7a7,modalFilter:_0x128828,..._0x4af3d5}={}){const _0x1bd0ea=_0x1cda67,_0x5b1430=new this({'background':_0x4df7a7,'modalFilter':_0x128828});return UtilApplications['pGetImportCompApplicationFormData']({'comp':_0x5b1430,'width':Util['getMaxWindowWidth'](0x280),'height':Util[_0x1bd0ea(0x216)](0x1e0),..._0x4af3d5});}constructor(_0x3cebb7){const _0x35aab4=_0x1cda67;_0x3cebb7=_0x3cebb7||{},super(),this['_background']=_0x3cebb7[_0x35aab4(0x1a3)],this[_0x35aab4(0x1b0)]=_0x3cebb7[_0x35aab4(0x1cb)];}static[_0x1cda67(0x230)](_0x2d13c5){const _0x30f8c3=_0x1cda67;return(_0x2d13c5?.['entries']||[])[_0x30f8c3(0x20e)](_0x374a27=>_0x374a27['data']?.[_0x30f8c3(0x208)])[_0x30f8c3(0x219)](_0x3631f9=>{const _0x42b060=_0x30f8c3,_0x473c81=MiscUtil['copy'](_0x3631f9);if(_0x473c81[_0x42b060(0x1e2)])_0x473c81[_0x42b060(0x1e2)]['replace'](/^.*?:\s*/,'');return _0x473c81;});}get[_0x1cda67(0x1ae)](){return'Customize\x20Background:\x20Features';}get['mode'](){const _0x403676=_0x1cda67;return this['_state'][_0x403676(0x1fd)];}get[_0x1cda67(0x20d)](){const _0x10c6e9=_0x1cda67;return this['_state'][_0x10c6e9(0x20d)];}[_0x1cda67(0x1b7)](_0x3ebfb1){const _0x2e9068=_0x1cda67;this[_0x2e9068(0x1e1)](_0x2e9068(0x1d6),_0x3ebfb1);}[_0x1cda67(0x19e)](_0x592224){const _0x3f73fd=_0x1cda67,_0x209355=ComponentUiUtil[_0x3f73fd(0x1df)](this,'mode',{'values':[Charactermancer_Background_Features[_0x3f73fd(0x1c5)],Charactermancer_Background_Features['_MODE_OTHER_BACKGROUND'],Charactermancer_Background_Features[_0x3f73fd(0x1cc)]],'fnDisplay':_0xb869af=>Charactermancer_Background_Features[_0x3f73fd(0x225)][_0xb869af]});this['_addHookBase'](_0x3f73fd(0x1fd),()=>this[_0x3f73fd(0x1c9)][_0x3f73fd(0x1d6)]=!this['_state'][_0x3f73fd(0x1d6)]);const _0x5219ee=$('<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20ml-1\x22><span\x20class=\x22glyphicon\x20glyphicon-plus\x22></span>\x20Add\x20Feature</button>')[_0x3f73fd(0x1dd)](()=>{const _0x2d2678=_0x3f73fd,_0x42eca1=this[_0x2d2678(0x1c3)]();this['_state'][_0x2d2678(0x194)]=[...this[_0x2d2678(0x1c9)][_0x2d2678(0x194)],_0x42eca1];}),_0x104d19=()=>_0x5219ee[_0x3f73fd(0x21a)](this[_0x3f73fd(0x1c9)][_0x3f73fd(0x1fd)]===Charactermancer_Background_Features[_0x3f73fd(0x1cc)]);this[_0x3f73fd(0x1e1)](_0x3f73fd(0x1fd),_0x104d19),_0x104d19();const _0x3d87de=this[_0x3f73fd(0x204)](),_0x2991a5=this['_render_other'](),_0x5f488d=this[_0x3f73fd(0x20c)]();$$(_0x592224)`
			<div class="ve-flex-v-center mb-1">
				${_0x209355}
				${_0x5219ee}
			</div>
			${_0x3d87de}
			${_0x2991a5}
			${_0x5f488d}
		`;}[_0x1cda67(0x204)](){const _0x5ba5b4=_0x1cda67,_0x598276=$$`<div class="ve-flex-col mt-1">
			<div class="w-100">${Vetools['withUnpatchedDiceRendering'](()=>Renderer[_0x5ba5b4(0x1ac)]()[_0x5ba5b4(0x19e)]({'type':_0x5ba5b4(0x1fc),'entries':this[_0x5ba5b4(0x192)][_0x5ba5b4(0x230)](this[_0x5ba5b4(0x212)])}))}</div>
		</div>`,_0x4ea90d=()=>_0x598276[_0x5ba5b4(0x21a)](this[_0x5ba5b4(0x1c9)][_0x5ba5b4(0x1fd)]===Charactermancer_Background_Features['_MODE_DEFAULT']);return this[_0x5ba5b4(0x1e1)](_0x5ba5b4(0x1fd),_0x4ea90d),_0x4ea90d(),_0x598276;}[_0x1cda67(0x1c4)](){const _0x123bc0=_0x1cda67;return this[_0x123bc0(0x1b0)]['allData'][this[_0x123bc0(0x1c9)][_0x123bc0(0x20d)]];}[_0x1cda67(0x1c7)](){const _0x4b0a72=_0x1cda67,_0x2ec646=$(_0x4b0a72(0x191))[_0x4b0a72(0x1dd)](async()=>{const _0x4bc7d8=_0x4b0a72,_0x4abc29=await this[_0x4bc7d8(0x1b0)][_0x4bc7d8(0x1de)]();if(_0x4abc29==null||!_0x4abc29[_0x4bc7d8(0x1f4)])return;this['_state'][_0x4bc7d8(0x20d)]=_0x4abc29[0x0]?.['ix'];}),_0x1ccee4=$(_0x4b0a72(0x1c8)),_0x456d4a=()=>{const _0x768286=_0x4b0a72,_0x10e64c=this['_getOtherBackground']();if(!_0x10e64c){_0x1ccee4[_0x768286(0x223)](_0x768286(0x1b2));return;}const _0x104948=this[_0x768286(0x192)][_0x768286(0x230)](_0x10e64c);_0x1ccee4['html'](Vetools[_0x768286(0x1e0)](()=>Renderer[_0x768286(0x1ac)]()['render'](_0x104948?.[_0x768286(0x1f4)]?{'type':_0x768286(0x1fc),'entries':_0x104948}:{'type':'entries','entries':[_0x768286(0x18f)]}))),this[_0x768286(0x1c9)][_0x768286(0x1d6)]=!this['_state'][_0x768286(0x1d6)];};this[_0x4b0a72(0x1e1)](_0x4b0a72(0x20d),_0x456d4a),_0x456d4a();const _0x56abc1=$$`<div class="ve-flex-col mt-1">
			${_0x2ec646}
			${_0x1ccee4}
		</div>`,_0xd2ac8d=()=>_0x56abc1[_0x4b0a72(0x21a)](this[_0x4b0a72(0x1c9)][_0x4b0a72(0x1fd)]===Charactermancer_Background_Features[_0x4b0a72(0x1f0)]);return this[_0x4b0a72(0x1e1)]('mode',_0xd2ac8d),_0xd2ac8d(),_0x56abc1;}[_0x1cda67(0x20c)](){const _0x14057e=_0x1cda67,_0x2cce05=$('<div\x20class=\x22italic\x20text-center\x20ve-muted\x20my-1\x22>No\x20features.</div>'),_0x32b74a=$('<div\x20class=\x22ve-flex-col\x22></div>'),_0x39d479=()=>{const _0x1007ee=_0x5eb6;this[_0x1007ee(0x1d7)]({'prop':_0x1007ee(0x194),'fnDeleteExisting':()=>{const _0x268fb6=_0x1007ee;this[_0x268fb6(0x1c9)]['pulseFeatures']=!this[_0x268fb6(0x1c9)][_0x268fb6(0x1d6)];},'fnUpdateExisting':(_0x4347aa,_0x3d1b76)=>{const _0x1c4b15=_0x1007ee;_0x4347aa[_0x1c4b15(0x18e)]['_proxyAssignSimple'](_0x1c4b15(0x1bb),_0x3d1b76['data'],!![]),this['_state'][_0x1c4b15(0x1d6)]=!this[_0x1c4b15(0x1c9)][_0x1c4b15(0x1d6)];},'fnGetNew':_0x5ccdac=>{const _0x158082=_0x1007ee,_0x2a662f=BaseComponent[_0x158082(0x206)](_0x5ccdac[_0x158082(0x1f3)],'*');_0x2a662f[_0x158082(0x218)](_0x158082(0x1bb),()=>{const _0x3aec5b=_0x158082;_0x5ccdac[_0x3aec5b(0x1f3)]=_0x2a662f[_0x3aec5b(0x1b8)]('*'),this[_0x3aec5b(0x228)]('manualEntryMetas');});const _0x33b2e7=ComponentUiUtil[_0x158082(0x1f8)](_0x2a662f,_0x158082(0x1e2)),_0x28b13c=ComponentUiUtil['$getIptEntries'](_0x2a662f,_0x158082(0x1fc)),_0xbba7f8=$(_0x158082(0x1d9))['click'](()=>this['_state'][_0x158082(0x194)]=this['_state'][_0x158082(0x194)][_0x158082(0x20e)](_0x71083f=>_0x71083f!==_0x5ccdac)),_0x354557=$$`<div class="ve-flex-col py-1 w-100 stripe-even">
						<div class="split-v-center mb-1">
							<label class="ve-flex-v-center w-100"><div class="mr-1 text-right pr-1 no-shrink w-50p">Name</div>${_0x33b2e7}</label>
							${_0xbba7f8}
						</div>
						<label class="ve-flex-v-center w-100"><div class="mr-1 text-right pr-1 no-shrink w-50p">Text</div>${_0x28b13c}</label>
					</div>`[_0x158082(0x1ec)](_0x32b74a);return{'comp':_0x2a662f,'$wrpRow':_0x354557};}}),_0x2cce05[_0x1007ee(0x21a)](!this['_state'][_0x1007ee(0x194)]?.[_0x1007ee(0x1f4)]);};_0x39d479(),this[_0x14057e(0x1e1)]('manualEntryMetas',_0x39d479);const _0x3e5393=$$`<div class="ve-flex-col">
			<hr class="hr-1">
			${_0x2cce05}
			${_0x32b74a}
		</div>`,_0x3d2c6e=()=>_0x3e5393[_0x14057e(0x21a)](this['_state'][_0x14057e(0x1fd)]===Charactermancer_Background_Features['_MODE_MANUAL']);return this[_0x14057e(0x1e1)](_0x14057e(0x1fd),_0x3d2c6e),_0x3d2c6e(),_0x3e5393;}[_0x1cda67(0x211)](){const _0xbbf8c2=_0x1cda67;let _0x9409fa=!![];const _0x1e1164=[],_0x23146b=MiscUtil[_0xbbf8c2(0x21b)](this[_0xbbf8c2(0x212)]),_0x4eb8a5=Object[_0xbbf8c2(0x1fc)](_0x23146b['fromFeature']||{})[_0xbbf8c2(0x20e)](([,_0x4fd234])=>_0x4fd234)[_0xbbf8c2(0x219)](([_0xd9d79e])=>_0xd9d79e);switch(this['_state'][_0xbbf8c2(0x1fd)]){case Charactermancer_Background_Features[_0xbbf8c2(0x1c5)]:{_0x1e1164[_0xbbf8c2(0x1c6)](...this[_0xbbf8c2(0x192)]['_getFeatureEntries'](this[_0xbbf8c2(0x212)]));break;}case Charactermancer_Background_Features[_0xbbf8c2(0x1f0)]:{const _0x40d81f=this[_0xbbf8c2(0x1c4)]();if(!_0x40d81f){_0x9409fa=![],_0x4eb8a5[_0xbbf8c2(0x1a6)](_0x116247=>delete _0x23146b[_0x116247]);break;}_0x1e1164[_0xbbf8c2(0x1c6)](...this['constructor'][_0xbbf8c2(0x230)](_0x40d81f)),this[_0xbbf8c2(0x193)]({'background':_0x23146b,'otherBackground':_0x40d81f,'fromFeature':_0x4eb8a5});break;}case Charactermancer_Background_Features['_MODE_MANUAL']:{const _0x2d77be=this[_0xbbf8c2(0x1c9)][_0xbbf8c2(0x194)][_0xbbf8c2(0x20e)](({data:_0x1bf6e3})=>_0x1bf6e3[_0xbbf8c2(0x1fc)]&&_0x1bf6e3[_0xbbf8c2(0x1fc)][_0xbbf8c2(0x1f4)])['map'](({data:_0x124d64})=>{const _0x1843e0=_0xbbf8c2;return _0x124d64=MiscUtil['copy'](_0x124d64),_0x124d64['name']=_0x124d64[_0x1843e0(0x1e2)]||'(Unnamed\x20Feature)',_0x124d64[_0x1843e0(0x1bd)]=_0x1843e0(0x1fc),_0x124d64;});if(!_0x2d77be[_0xbbf8c2(0x1f4)])_0x9409fa=![];_0x1e1164[_0xbbf8c2(0x1c6)](..._0x2d77be),_0x4eb8a5[_0xbbf8c2(0x1a6)](_0x1e1e7e=>delete _0x23146b[_0x1e1e7e]);break;}}return{'isFormComplete':_0x9409fa,'data':{'entries':_0x1e1164,'isCustomize':this[_0xbbf8c2(0x1c9)]['mode']!==Charactermancer_Background_Features['_MODE_DEFAULT'],'background':_0x23146b}};}[_0x1cda67(0x193)]({background:_0x3b5486,otherBackground:_0x55ab99,fromFeature:_0x45cedb}){const _0xf85b14=_0x1cda67;_0x45cedb['forEach'](_0x2ed941=>{const _0x3ed01d=_0x5eb6;if(!_0x55ab99[_0x2ed941])return delete _0x3b5486[_0x2ed941];_0x3b5486[_0x2ed941]=MiscUtil[_0x3ed01d(0x21b)](_0x55ab99[_0x2ed941]);});const _0x1f6b77=Object[_0xf85b14(0x1fc)](_0x55ab99['fromFeature']||{})[_0xf85b14(0x20e)](([,_0x4edda3])=>_0x4edda3)[_0xf85b14(0x219)](([_0x3d1207])=>_0x3d1207);_0x1f6b77[_0xf85b14(0x1a6)](_0x5a7095=>{const _0x4a2ee2=_0xf85b14;if(!_0x55ab99[_0x5a7095])return;if(!_0x3b5486[_0x5a7095]){_0x3b5486[_0x5a7095]=MiscUtil['copy'](_0x55ab99[_0x5a7095],!![]);return;}switch(_0x5a7095){default:{const _0x443d50=typeof _0x3b5486[_0x5a7095],_0x3c5277=typeof _0x55ab99[_0x5a7095];if(_0x443d50!==_0x3c5277||_0x443d50===_0x4a2ee2(0x1a2)&&Array['isArray'](_0x3b5486[_0x5a7095])!==Array['isArray'](_0x55ab99[_0x5a7095]))return;if(_0x443d50!==_0x4a2ee2(0x1a2))return;if(Array['isArray'](_0x3b5486[_0x5a7095])){this[_0x4a2ee2(0x1e7)]({'background':_0x3b5486,'otherBackground':_0x55ab99,'prop':_0x5a7095});return;}this[_0x4a2ee2(0x199)]({'background':_0x3b5486,'otherBackground':_0x55ab99,'prop':_0x5a7095});}}});}[_0x1cda67(0x1e7)]({background:_0x1fe9ef,otherBackground:_0x16395f,prop:_0x3d39c4}){const _0x174abb=_0x1cda67;switch(_0x3d39c4){case'additionalSpells':{if(_0x1fe9ef[_0x3d39c4][_0x174abb(0x1f4)]!==0x1||_0x1fe9ef[_0x3d39c4]['length']!==_0x16395f[_0x3d39c4][_0x174abb(0x1f4)])return;Object[_0x174abb(0x1fc)](_0x16395f[_0x3d39c4][0x0])[_0x174abb(0x1a6)](([_0x13a956,_0x3c4b5c])=>{const _0x4a699d=_0x174abb;if(![_0x4a699d(0x197),'known',_0x4a699d(0x19d),_0x4a699d(0x231)][_0x4a699d(0x22b)](_0x13a956)){console[_0x4a699d(0x1b6)](...LGT,_0x4a699d(0x229)+_0x13a956+_0x4a699d(0x1be));return;}if(!_0x1fe9ef[_0x3d39c4][0x0][_0x13a956])_0x1fe9ef[_0x3d39c4][0x0][_0x13a956]={};Object['entries'](_0x3c4b5c)[_0x4a699d(0x1a6)](([_0x46c3af,_0x27b569])=>{const _0x216092=_0x4a699d;_0x1fe9ef[_0x3d39c4][0x0][_0x13a956][_0x46c3af]=_0x1fe9ef[_0x3d39c4][0x0][_0x13a956][_0x46c3af]||[],_0x1fe9ef[_0x3d39c4][0x0][_0x13a956][_0x46c3af][_0x216092(0x1c6)](..._0x27b569);});});break;}case _0x174abb(0x1c1):{if(_0x1fe9ef[_0x3d39c4][_0x174abb(0x1f4)]!==0x1||_0x1fe9ef[_0x3d39c4][_0x174abb(0x1f4)]!==_0x16395f[_0x3d39c4][_0x174abb(0x1f4)])return;const _0x5d4c32={};Object[_0x174abb(0x1fc)](_0x1fe9ef[_0x3d39c4][0x0])[_0x174abb(0x1a6)](([_0x44a2ff,_0x3bd5fd])=>_0x5d4c32[_0x44a2ff]=(_0x5d4c32[_0x44a2ff]||0x0)+Number(_0x3bd5fd)),Object[_0x174abb(0x1fc)](_0x16395f[_0x3d39c4][0x0])[_0x174abb(0x1a6)](([_0x28dbab,_0x23d7ce])=>_0x5d4c32[_0x28dbab]=(_0x5d4c32[_0x28dbab]||0x0)+Number(_0x23d7ce)),_0x1fe9ef[_0x3d39c4][0x0]=_0x5d4c32;break;}default:{_0x1fe9ef[_0x3d39c4]=[..._0x1fe9ef[_0x3d39c4],..._0x16395f[_0x3d39c4]][_0x174abb(0x1d8)]();}}}[_0x1cda67(0x199)]({background:_0x2030b6,otherBackground:_0x238c78,prop:_0x4d3416}){const _0x3a6c75=_0x1cda67;switch(_0x4d3416){default:Object[_0x3a6c75(0x1c2)](_0x2030b6[_0x4d3416],_0x238c78[_0x4d3416]);}}[_0x1cda67(0x20a)](){const _0x10a34b=_0x1cda67;return this[_0x10a34b(0x211)]();}[_0x1cda67(0x1c3)](){const _0x571b80=_0x1cda67;return{'id':CryptUtil[_0x571b80(0x1dc)](),'data':{'name':'','entries':[]}};}[_0x1cda67(0x1ad)](){const _0x1adc69=_0x1cda67;return{'mode':Charactermancer_Background_Features[_0x1adc69(0x1c5)],'ixBackgroundOther':null,'manualEntryMetas':[this[_0x1adc69(0x1c3)]()],'pulseFeatures':![]};}}Charactermancer_Background_Features[_0x1cda67(0x1c5)]=0x0,Charactermancer_Background_Features[_0x1cda67(0x1f0)]=0x1,Charactermancer_Background_Features[_0x1cda67(0x1cc)]=0x2,Charactermancer_Background_Features[_0x1cda67(0x225)]={[Charactermancer_Background_Features[_0x1cda67(0x1c5)]]:_0x1cda67(0x1d1),[Charactermancer_Background_Features[_0x1cda67(0x1f0)]]:_0x1cda67(0x21d),[Charactermancer_Background_Features[_0x1cda67(0x1cc)]]:_0x1cda67(0x19b)};export{Charactermancer_Background_Characteristics,Charactermancer_Background_Features};function _0x1706(){const _0x1d04d5=['stripTags','_addHookAll','map','toggleVe','copy','_$wrpHeaderControls','Customize\x20your\x20Background:\x20Add\x20Feature(s)\x20from\x20Another\x20Background','_tables','details','applyExistingActorDataToActorUpdate','mb-2','1405862PDZCKl','html','append','_MODE_TO_FULL','exec','replace','_triggerCollectionUpdate','Could\x20not\x20merge\x20additionalSpell\x20property\x20\x22','1492BAgVCo','includes','ctrlKey','walk','getAutoConvertedTableRollMode','Hide\x20Tables','_getFeatureEntries','expanded','custom','bond','colLabels','applyFormDataToActorUpdate','SYM_UI_SKIP','14YtUhfV','find','comp','{@note\x20(No\x20feature(s)).}','resize-vertical','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x20w-100\x20mr-2\x20mb-2\x22>Choose\x20Background</button>','constructor','_getFormData_doMergeOtherBackground','manualEntryMetas','title','_PROP_METAS','innate','replaceWith','_getFormData_doMergeOtherBackground_object','<span\x20data-plut-temp-dice=\x22true\x22></span>','Customize\x20your\x20Background:\x20Add\x20Custom\x20Feature(s)','ideal','prepared','render','height','toLowerCase','_PROP_TO_ACTOR_DETAILS_PROP','object','background','active','empty','forEach','<button\x20class=\x22btn\x20btn-xs\x20btn-default\x22>Roll','getOrSet','trait','table','$wrpHeaderControls','get','_getDefaultState','modalTitle','No\x20cell\x20found\x20for\x20row\x20','_modalFilter','177wjHTFP','<i\x20class=\x22ve-muted\x22>Select\x20an\x20alternate\x20background,\x20whose\x20feature(s)\x20will\x20replace\x20your\x20current\x20background\x27s\x20feature(s).</i>','observe','</button>','[data-roll-min]','warn','addHookPulseFeatures','toObject','count','trim','state','848952QeJiWb','type','\x22--no\x20merge\x20strategy\x20defined!','every','Flaw','feats','assign','_getDefaultState_manualEntryMeta','_getOtherBackground','_MODE_DEFAULT','push','_render_other','<div\x20class=\x22w-100\x22></div>','_state','_getCharacteristicTables','modalFilter','_MODE_MANUAL','18381024fufuuM','rows','pGetImportCompApplicationFormData','_mode','Add\x20Features\x20from\x20This\x20Background','Show\x20Tables','flat','propValue','evaluate','pulseFeatures','_renderCollection','unique','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20btn-danger\x20ml-1\x22\x20title=\x22Delete\x22><span\x20class=\x22glyphicon\x20glyphicon-trash\x22></span></button>','$getIptEntries','total','uid','click','pGetUserSelection','$getSelEnum','withUnpatchedDiceRendering','_addHookBase','name','standard','_getCpyTableCell','_getProps','_PROP_TO_FULL','_getFormData_doMergeOtherBackground_array','keys','pFillActorCharacteristicsData','withCustomDiceRenderingPatch','263379TUzAvq','appendTo','[data-plut-temp-dice]','flaw','Personality\x20Traits','_MODE_OTHER_BACKGROUND','4008065HQMjNA','getOrdinalForm','data','length','error','prop','No\x20result\x20found\x20for\x20roll\x20of\x20','$getIptStr','2151232QIeXnQ','_value','notifications','entries','mode','</div>','mergeMap','_proxyAssignSimple','Bond','<div\x20class=\x22render-roller\x22>','Failed\x20to\x20roll\x20dice!\x20','_render_default','isCancelled','fromObject','text','isFeature','pGetUserInput','pGetFormData','__state','_render_manual','ixBackgroundOther','filter','Left-click\x20to\x20set\x20the\x20first\x20field;\x20CTRL-click\x20to\x20set\x20the\x20second\x20field.','propMode','getFormData','_background','style','toMessage','<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22\x20title=\x22Show/Hide\x20Table\x22>View\x20Table</button>','getMaxWindowHeight'];_0x1706=function(){return _0x1d04d5;};return _0x1706();}