const _0x533532=_0x5975;(function(_0x5cdc50,_0x2c80c8){const _0x1459c9=_0x5975,_0x1764d7=_0x5cdc50();while(!![]){try{const _0x8f7413=-parseInt(_0x1459c9(0x1b5))/0x1*(-parseInt(_0x1459c9(0x1b6))/0x2)+parseInt(_0x1459c9(0x16f))/0x3+parseInt(_0x1459c9(0x169))/0x4*(-parseInt(_0x1459c9(0x187))/0x5)+parseInt(_0x1459c9(0x159))/0x6+parseInt(_0x1459c9(0x151))/0x7*(-parseInt(_0x1459c9(0x1a7))/0x8)+parseInt(_0x1459c9(0x189))/0x9+-parseInt(_0x1459c9(0x15a))/0xa*(parseInt(_0x1459c9(0x197))/0xb);if(_0x8f7413===_0x2c80c8)break;else _0x1764d7['push'](_0x1764d7['shift']());}catch(_0xc132a){_0x1764d7['push'](_0x1764d7['shift']());}}}(_0x4b13,0x4b513));import{Config}from'./Config.js';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilCompat}from'./UtilCompat.js';import{UtilHooks}from'./UtilHooks.js';class Styler{static['init'](){const _0x3a9005=_0x5975;UtilHooks['on'](UtilHooks['HK_CONFIG_UPDATE'],()=>this['_handleConfigUpdate']()),this[_0x3a9005(0x192)](),Hooks['on'](_0x3a9005(0x196),()=>this[_0x3a9005(0x1bd)]()),Hooks['on']('updateScene',()=>this[_0x3a9005(0x1bd)]()),Hooks['on'](_0x3a9005(0x16c),()=>setTimeout(()=>this[_0x3a9005(0x1bd)](),0x1f4));}static[_0x533532(0x192)](){const _0x4fe4e6=_0x533532;this['_handleConfigUpdate_compactDirectories'](),this[_0x4fe4e6(0x18b)](),this[_0x4fe4e6(0x18c)](),this[_0x4fe4e6(0x16b)](),this[_0x4fe4e6(0x17e)](),this[_0x4fe4e6(0x19c)](),this['_handleConfigUpdate_sheetLevelUpButton'](),this[_0x4fe4e6(0x1a6)](),this[_0x4fe4e6(0x1ae)](),this[_0x4fe4e6(0x1b3)](),this[_0x4fe4e6(0x198)](),this[_0x4fe4e6(0x16d)](),this[_0x4fe4e6(0x1b8)](),this['_handleNameTabFromScene']();}static[_0x533532(0x15b)](_0x23ee14){const _0x169777=_0x533532;if(!_0x23ee14[_0x169777(0x158)]&&!_0x23ee14[_0x169777(0x183)])throw new Error(_0x169777(0x147));if(!(_0x23ee14['configGroup']&&_0x23ee14[_0x169777(0x1b7)])&&!_0x23ee14[_0x169777(0x149)])throw new Error('One\x20of\x20\x22configGroup/Key\x22\x20or\x20\x22condition\x22\x20must\x20be\x20specified!');const _0xb53fbe=$('#'+_0x23ee14[_0x169777(0x1c4)]),_0x30db15=_0x23ee14[_0x169777(0x149)]&&(_0x23ee14[_0x169777(0x1c3)]&&_0x23ee14['configGroupKey'])?_0x23ee14['condition'](Config[_0x169777(0x1c2)](_0x23ee14['configGroup'],_0x23ee14[_0x169777(0x1b7)])):_0x23ee14[_0x169777(0x149)]?_0x23ee14[_0x169777(0x149)]():Config['get'](_0x23ee14[_0x169777(0x1c3)],_0x23ee14['configGroupKey']);if(!_0x30db15)return _0xb53fbe[_0x169777(0x18a)]();if(_0xb53fbe[_0x169777(0x17d)])return;_0x23ee14[_0x169777(0x158)]?$(_0x169777(0x1b9)+_0x23ee14['idStyle']+_0x169777(0x1af)+_0x23ee14['css']+_0x169777(0x1a4))[_0x169777(0x1ab)](document[_0x169777(0x1bf)]):$('<link\x20id=\x22'+_0x23ee14[_0x169777(0x1c4)]+'\x22\x20href=\x22'+SharedConsts[_0x169777(0x1bb)]+'/'+_0x23ee14[_0x169777(0x183)]+_0x169777(0x185))[_0x169777(0x1ab)](document[_0x169777(0x190)]);}static[_0x533532(0x164)](){const _0x192c12=_0x533532;this[_0x192c12(0x15b)]({'configGroup':'ui','configGroupKey':'isCompactScenes','idStyle':Styler[_0x192c12(0x14e)],'file':'css/optional-compact-scenes.css'}),this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x192c12(0x19d),'idStyle':Styler['_ID_COMPACT_ACTORS'],'file':_0x192c12(0x1bc)}),this[_0x192c12(0x15b)]({'configGroup':'ui','configGroupKey':'isCompactItems','idStyle':Styler[_0x192c12(0x148)],'file':_0x192c12(0x170)}),this[_0x192c12(0x15b)]({'configGroup':'ui','configGroupKey':'isCompactJournal','idStyle':Styler[_0x192c12(0x1ac)],'file':'css/optional-compact-journal.css'}),this[_0x192c12(0x15b)]({'configGroup':'ui','configGroupKey':_0x192c12(0x1c0),'idStyle':Styler['_ID_COMPACT_TABLES'],'file':_0x192c12(0x195)}),this[_0x192c12(0x15b)]({'configGroup':'ui','configGroupKey':'isCompactCards','idStyle':Styler['_ID_COMPACT_CARDS'],'file':'css/optional-compact-cards.css'}),this[_0x192c12(0x15b)]({'configGroup':'ui','configGroupKey':_0x192c12(0x160),'idStyle':Styler[_0x192c12(0x146)],'file':'css/optional-compact-macros.css'});}static['_handleConfigUpdate_compactDirectoryButtons'](){const _0x15074b=_0x533532;this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x15074b(0x186),'idStyle':Styler[_0x15074b(0x19b)],'file':'css/optional-compact-directory-buttons.css'});}static[_0x533532(0x18c)](){const _0x70f35a=_0x533532;this[_0x70f35a(0x15b)]({'configGroup':'ui','configGroupKey':_0x70f35a(0x17b),'idStyle':Styler[_0x70f35a(0x178)],'file':'css/optional-hide-plut-directory-buttons.css'});}static[_0x533532(0x16b)](){const _0x563e0c=_0x533532;this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':'isShowPopout','idStyle':Styler[_0x563e0c(0x14f)],'file':_0x563e0c(0x150)});}static[_0x533532(0x17e)](){const _0x7b9f70=_0x533532;this[_0x7b9f70(0x15b)]({'configGroup':'ui','configGroupKey':_0x7b9f70(0x1a5),'idStyle':Styler['_ID_SHEET_COMPACT_CONTROLS'],'file':'css/optional-sheet-compact-controls.css'});}static[_0x533532(0x19c)](){const _0x166aa6=_0x533532;this[_0x166aa6(0x15b)]({'configGroup':'ui','configGroupKey':_0x166aa6(0x193),'idStyle':Styler[_0x166aa6(0x182)],'file':_0x166aa6(0x152)});}static[_0x533532(0x180)](){const _0x389b2c=_0x533532;this[_0x389b2c(0x15b)]({'configGroup':_0x389b2c(0x162),'configGroupKey':_0x389b2c(0x168),'idStyle':Styler['_ID_SHEET_LEVEL_UP_BUTTON'],'file':_0x389b2c(0x14b)});}static[_0x533532(0x1a6)](){const _0x4a108c=_0x533532;this[_0x4a108c(0x15b)]({'configGroup':'ui','configGroupKey':'isEnableFolderNameWrap','idStyle':Styler[_0x4a108c(0x181)],'file':'css/optional-wrap-folder-names.css'});}static[_0x533532(0x1ae)](){const _0x40f96d=_0x533532;this[_0x40f96d(0x15b)]({'condition':()=>{const _0xbdafba=_0x40f96d;if(!UtilCompat[_0xbdafba(0x1a9)]()||UtilCompat['isPermissionViewerActive']()&&UtilCompat[_0xbdafba(0x1be)]())return![];const _0x494dc6=[_0xbdafba(0x174),_0xbdafba(0x19d),_0xbdafba(0x1ba),'isCompactJournal',_0xbdafba(0x1c0),'isCompactCards',_0xbdafba(0x160)];return _0x494dc6[_0xbdafba(0x173)](_0x504ca0=>Config[_0xbdafba(0x1c2)]('ui',_0x504ca0));},'idStyle':Styler['_ID_COMPATIBILITY_PERMISSION_VIEWER'],'file':'css/optional-compatibility-permission-viewer.css'});}static[_0x533532(0x1b3)](){const _0x5c5c62=_0x533532;this[_0x5c5c62(0x15b)]({'condition':()=>UtilCompat[_0x5c5c62(0x165)](),'idStyle':Styler['_ID_COMPATIBILITY_TWILIGHT_UI'],'file':'css/optional-compatibility-twilight-ui.css'});}static[_0x533532(0x198)](){const _0x4c0749=_0x533532;this['_handleConfigUpdate_handleGenericCssMod']({'condition':()=>UtilCompat[_0x4c0749(0x18e)](),'idStyle':Styler[_0x4c0749(0x17f)],'file':_0x4c0749(0x153)});}static[_0x533532(0x16d)](){const _0x1f7e59=_0x533532;Config[_0x1f7e59(0x14a)]['then'](async _0x2e0587=>{const _0x4591dc=_0x1f7e59;if(!_0x2e0587)return;await Styler[_0x4591dc(0x15f)]['pLock']();try{const _0x48aecd=$('#'+Styler[_0x4591dc(0x17a)]),_0x2c7145=$('#'+Styler[_0x4591dc(0x194)]),_0x492fc7=$('#logo');if(!Config[_0x4591dc(0x1c2)]('ui',_0x4591dc(0x1b4))||Config[_0x4591dc(0x1c2)]('ui','isStreamerMode')){_0x492fc7['title'](''),_0x48aecd[_0x4591dc(0x18a)](),_0x2c7145[_0x4591dc(0x18a)]();return;}!_0x48aecd['length']&&(_0x492fc7[_0x4591dc(0x199)](_0x4591dc(0x172)+_0x2e0587+_0x4591dc(0x175)),$(_0x4591dc(0x1b9)+Styler[_0x4591dc(0x17a)]+_0x4591dc(0x1a1))[_0x4591dc(0x1ab)](document[_0x4591dc(0x1bf)])),!_0x2c7145['length']&&$(_0x4591dc(0x191)+Styler[_0x4591dc(0x194)]+'\x22>'+_0x2e0587+_0x4591dc(0x156))[_0x4591dc(0x1ab)](document[_0x4591dc(0x1bf)]);}finally{Styler[_0x4591dc(0x15f)][_0x4591dc(0x19f)]();}});}static[_0x533532(0x1b8)](){const _0xac14b1=_0x533532;if(!ExtensionUtil[_0xac14b1(0x16a)])return;const _0xe07bf8=$('#'+Styler[_0xac14b1(0x17c)]);if(!Config['get'](_0xac14b1(0x154),_0xac14b1(0x188))||Config[_0xac14b1(0x1c2)]('ui','isStreamerMode')){_0xe07bf8['remove']();return;}!_0xe07bf8[_0xac14b1(0x17d)]&&$(_0xac14b1(0x16e)+Styler[_0xac14b1(0x17c)]+_0xac14b1(0x14d))[_0xac14b1(0x1ab)](document[_0xac14b1(0x1bf)]);}static[_0x533532(0x1bd)](){const _0x59bba6=_0x533532;if(Styler[_0x59bba6(0x184)]==null)Styler['_TAB_TITLE_DEFAULT']=document[_0x59bba6(0x199)];if(!Config[_0x59bba6(0x1c2)]('ui',_0x59bba6(0x177))){document['title']=Styler[_0x59bba6(0x184)];return;}const _0x3b7535=MiscUtil[_0x59bba6(0x1c2)](canvas,_0x59bba6(0x15c),_0x59bba6(0x157)),_0x256822=Config[_0x59bba6(0x1c2)]('ui',_0x59bba6(0x15d)),_0x248ce9=_0x256822&&_0x256822[_0x59bba6(0x171)]()?_0x256822:_0x59bba6(0x1a3);if(_0x3b7535){const _0x1c18b3=_0x3b7535[_0x59bba6(0x161)]||canvas[_0x59bba6(0x15c)]?.[_0x59bba6(0x1b1)];document['title']=_0x1c18b3+_0x59bba6(0x19e)+_0x248ce9;}else document[_0x59bba6(0x199)]=_0x248ce9;}}function _0x4b13(){const _0xbbf861=['isCompactMacros','navName','importClass','plutonium__compatibility-twilight-ui','_handleConfigUpdate_compactDirectories','isTwilightUiActive','_ID_COMPATIBILITY_PERMISSION_VIEWER','plutonium__compatibility-tidy5e-sheet','isAddLevelUpButton','7024Oadwxn','ACTIVE','_handleConfigUpdate_showPopoutButton','deleteScene','_handleBackendCheck','<div\x20class=\x22rivet__disp-active\x20ve-flex-vh-center\x22\x20id=\x22','17100XrRdmw','css/optional-compact-items.css','trim','++++\x20Plutonium\x20server\x20v','some','isCompactScenes',':\x20[online]\x20++++','plutonium__compact-cards','isNameTabFromScene','_ID_HIDE_PLUT_DIRECTORY_BUTTONS','_ID_COMPACT_ACTORS','_ID_LOGO_GLITCH','isHidePlutoniumDirectoryButtons','_ID_DISP_RIVET_DETECTED','length','_handleConfigUpdate_compactSheetControls','_ID_COMPATIBILITY_TIDY5E_SHEET','_handleConfigUpdate_sheetLevelUpButton','_ID_WRAP_FOLDER_NAMES','_ID_COMPACT_CHAT','file','_TAB_TITLE_DEFAULT','\x22\x20rel=\x22stylesheet\x22\x20type=\x22text/css\x22\x20media=\x22all\x22>','isCompactDirectoryButtons','1435akiWYm','isDisplayStatus','4492962EqiKaP','remove','_handleConfigUpdate_compactDirectoryButtons','_handleConfigUpdate_hidePlutoniumDirectoryButtons','plutonium__sheet-compact-controls','isTidy5eSheetActive','_ID_COMPACT_TABLES','head','<div\x20class=\x22plutsrv__disp-version\x20text-center\x22\x20id=\x22','_handleConfigUpdate','isCompactChat','_ID_BACKEND_VERSION','css/optional-compact-tables.css','canvasReady','17853OobaFm','_handleConfigUpdate_compatibilityTidy5eSheet','title','plutonium__sheet-level-up-button','_ID_COMPACT_DIRECTORY_BUTTONS','_handleConfigUpdate_compactChat','isCompactActors','\x20•\x20','unlock','plutonium__compact-directory-buttons','\x22>\x0a\x09\x09\x09\x09\x09\x09\x09#logo\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09filter:\x20hue-rotate(100deg)\x20saturate(1.5);\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09</style>','plutonium__compact-items','Foundry\x20Virtual\x20Tabletop','\x0a\x09\x09\x09</style>','isCompactWindowBar','_handleConfigUpdate_wrapDirectories','40SNldqm','plutonium__disp-rivet-detected','isPermissionViewerActive','plutonium__compact-journal','appendTo','_ID_COMPACT_JOURNAL','plutonium__compact-scenes','_handleConfigUpdate_compatibilityPermissionViewer','\x22>\x0a\x09\x09\x09\x09','plutonium__compact-actors','name','_ID_SHEET_COMPACT_CONTROLS','_handleConfigUpdate_compatibilityTwilightUi','isDisplayBackendStatus','4PAJUyK','247052BHpsrz','configGroupKey','_handleRivetCheck','<style\x20id=\x22','isCompactItems','MODULE_LOCATION','css/optional-compact-actors.css','_handleNameTabFromScene','isSmolFoundryActive','body','isCompactTables','plutonium__backend-version','get','configGroup','idStyle','_ID_COMPACT_MACROS','One\x20of\x20\x22css\x22\x20or\x20\x22file\x22\x20must\x20be\x20specified!','_ID_COMPACT_ITEMS','condition','P_GET_BACKEND_VERSION','css/optional-sheet-level-up-button.css','plutonium__sheet-compact-popout','\x22><span\x20class=\x22glyphicon\x20glyphicon-send\x22></span></div>','_ID_COMPACT_SCENES','_ID_SHEET_POPOUT','css/optional-sheet-popout.css','258370ehZcvT','css/optional-compact-chat.css','css/optional-compatibility-tidy5e-sheet.css','rivet','plutonium__wrap-folder-names','</div>','data','css','1507122XNECLR','1560DplDgQ','_handleConfigUpdate_handleGenericCssMod','scene','tabNameSuffix','plutonium__compact-tables','_LOCK_GLITCH'];_0x4b13=function(){return _0xbbf861;};return _0x4b13();}function _0x5975(_0x165cb8,_0x42cc18){const _0x4b1359=_0x4b13();return _0x5975=function(_0x5975ea,_0xae88e4){_0x5975ea=_0x5975ea-0x146;let _0x5a9ed7=_0x4b1359[_0x5975ea];return _0x5a9ed7;},_0x5975(_0x165cb8,_0x42cc18);}Styler[_0x533532(0x179)]=_0x533532(0x1b0),Styler[_0x533532(0x148)]=_0x533532(0x1a2),Styler[_0x533532(0x1ac)]=_0x533532(0x1aa),Styler[_0x533532(0x18f)]=_0x533532(0x15e),Styler['_ID_COMPACT_CARDS']=_0x533532(0x176),Styler[_0x533532(0x14e)]=_0x533532(0x1ad),Styler[_0x533532(0x146)]='plutonium__compact-macros',Styler[_0x533532(0x182)]='plutonium__compact-chat',Styler[_0x533532(0x19b)]=_0x533532(0x1a0),Styler[_0x533532(0x178)]='plutonium__hide-plutonium-directory-buttons',Styler['_ID_HIDE_DIRECTORY_IMPORT_BUTTONS']='plutonium__hide-directory-import-buttons',Styler['_ID_SHEET_POPOUT']='plutonium__sheet-popout',Styler[_0x533532(0x1b2)]=_0x533532(0x18d),Styler['_ID_SHEET_COMPACT_POPOUT']=_0x533532(0x14c),Styler[_0x533532(0x15f)]=new VeLock(),Styler[_0x533532(0x17a)]='plutonium__logo-glitch',Styler['_ID_BACKEND_VERSION']=_0x533532(0x1c1),Styler['_ID_SHEET_LEVEL_UP_BUTTON']=_0x533532(0x19a),Styler['_ID_WRAP_FOLDER_NAMES']=_0x533532(0x155),Styler['_ID_DISP_RIVET_DETECTED']=_0x533532(0x1a8),Styler[_0x533532(0x166)]='plutonium__compatibility-permission-viewer',Styler['_ID_COMPATIBILITY_TWILIGHT_UI']=_0x533532(0x163),Styler[_0x533532(0x17f)]=_0x533532(0x167),Styler[_0x533532(0x184)]=null;export{Styler};