const _0x248b50=_0x4a9a;(function(_0x476541,_0x5e3503){const _0x350a3b=_0x4a9a,_0x25fdbc=_0x476541();while(!![]){try{const _0x458f0f=parseInt(_0x350a3b(0x21c))/0x1+parseInt(_0x350a3b(0x219))/0x2*(-parseInt(_0x350a3b(0x17f))/0x3)+-parseInt(_0x350a3b(0x211))/0x4+-parseInt(_0x350a3b(0x1f4))/0x5+-parseInt(_0x350a3b(0x182))/0x6+-parseInt(_0x350a3b(0x1f2))/0x7+parseInt(_0x350a3b(0x1dd))/0x8;if(_0x458f0f===_0x5e3503)break;else _0x25fdbc['push'](_0x25fdbc['shift']());}catch(_0x2709dc){_0x25fdbc['push'](_0x25fdbc['shift']());}}}(_0x3470,0x1adab));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_AdditionalSpellsSelect}from'./UtilCharactermancerAdditionalSpells.js';import{Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_Spell}from'./UtilCharactermancerSpell.js';import{Charactermancer_Spell_SlotLevelSelect,Charactermancer_Spell_Util}from'./UtilCharactermancerSpellSlotLevelSelect.js';import{DataConverterClass}from'./DataConverterClass.js';import{ModalFilterSpellsFvtt}from'./UtilModalFilter.js';function _0x3470(){const _0x17d393=['subclassName','_hk_onChangeAbilityScores','681652pxSPTK','getMaxCasterProgression','<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22\x20title=\x22Include\x20spell\x20lists\x20defined\x20in\x20Unearthed\x20Arcana,\x20Plane\x20Shift,\x20and\x20other\x20semi-official\x20products\x20when\x20generating\x20the\x20list\x20of\x20spells\x20which\x20can\x20be\x20learned/prepared.\x22>Include\x20UA/etc.\x20Spell\x20Lists</button>','EVNT_VALCHANGE','_spell_renderBackgroundSection','innate','class_totalLevels','_compBackground','34dmlXlK','isIncludeUaEtcSpellLists','spellsKnownProgressionFixed','61633IWdfBq','_compsSpellAdditionalSpellSubclass','_hk_shared_doInitClassSubclass','getClass_','class_ixMax','keyup','notifications','_spell_getMaxPreparedSpells','getMaxLearnedCantrips','race_ixRace','_state','Set!','fixedLearnedProgressionDefault','_unlock','_spell_getFixedLearnedProgression','info','expandedSpellsSubclass','toggleVe','bind','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','bindTypingEnd','_parent','spellLevelHigh','level','<div\x20class=\x22bold\x20mb-2\x22>Subclass\x20Spells\x20(','13830mhMogM','shortName','getMaxPreparedSpells','861660tAqqdu','_compSpellAdditionalSpellBackground','getCleanSearchTerm','_spell_isCasterClassAtLevel','class_pulseChange','_pLock','_getDefaultState','alwaysKnownSpellsRace','ActorCharactermancer.spells','data','_filterValuesSpellsCache','_tabSpells','parent','append','compRace','additionalSpells','pLoad','source','getTotals','_actor','alwaysKnownSpellsSubclass','_changeSubclassTable','compsSpellSpells','subclassSpells','_spell_isCasterClassAtLevel_additionalSpells','constructor','getSubclass_','spellsAlwaysPrepared','[‒]','tabSpells','spellLevelLow','val','some','_compsSpellAdditionalSpellClass','<div\x20class=\x22fltr__mini-view\x20btn-group\x22></div>','addHookExpandedSpells','class_getProps','_hk_onChangeSubclass_pRenderSpellTable','<button\x20class=\x22btn-5et\x20veapp__btn-filter\x22>Filter</button>','forEach','_spell_getExistingCasterMeta','click','_spell_renderClassSection','getRenderedClassTableFromDereferenced','compSpellAdditionalSpellRace','curLevel','_hk_shared_doRenderClassSubclass','actor','empty','ActorCharactermancer.spells_page','copy','getExistingClassTotalLevels_','_spell_getLocks','fixedLearnedProgression','addHookAlwaysKnownSpells','compsSpellAdditionalSpellClass','CASTER_TYPE_TO_PROGRESSION','addHookPulseFixedLearnedProgression','addHookBase','text','_compsSpellSpellSlotLevelSelect','_hk_shared_doCleanupClassSubclass','_spell_isCasterClassAtLevel_additionalSpellsBlock','filterBox','_hk_onChangeLevel','getValues','pGetDereferencedSubclassData','getFeatureCustomizedBackground_','showVe','class','compAbility','getCasterProgression','name','_hk_shared_doUpdateRenderedClassSubclass','<div\x20class=\x22bold\x20mb-2\x22>Class\x20Spells\x20(','_hk_onChangeSubclass','_compRace','alwaysPreparedSpellsSubclass','max','pGetDereferencedClassData','filter','mutateAndAddToFilters','targetLevel','keys','state','alwaysPreparedSpellsRace','casterProgression','alwaysPreparedSpellsClass','pPreloadHidden','getFixedLearnedProgression','compClass','4061088dqjZxK','spellsAlwaysKnown','expandedSpellsClass','<input\x20type=\x22search\x22\x20class=\x22search\x20w-100\x20form-control\x22\x20placeholder=\x22Find\x20spell...\x22>','render','<h2\x20class=\x22m-0\x20b-0\x20py-1\x22></h2>','spellsKnownProgressionFixedAllowLowerLevel','_compsSpellSpells','_compSpellAdditionalSpellRace','expandedSpellsBackground','handleSearch','trimState','_spell_handleFilterChange','addHookAlwaysPreparedSpells','_modalFilterSpells','spellsKnownProgression','isAnyCantrips','hideVe','_pageFilterSpells','_hk_onChangeSubclass_pRenderSpellTable_','_spell_isClassCaster','368417ZldTga','subSubclassSpells','71250PVwHaJ','spellsExpanded','ixClass','expandedSpellsRace','_data','spells_isIncludeUaEtcSpellLists','html','expanded','_lastSearchTermSpells','addHookAbilityScores','_spell_pRenderFilterBox','getFormData','_spell_renderRaceSection','exec','subclassSource','fastSetHtml','alwaysKnownSpellsClass','spell','_addHookBase','_spell_renderRaceBackgroundSection','appendTo','_hk_onChangeClass','handleFilterChange','[+]','getRace_','<button\x20class=\x22btn\x20btn-default\x20btn-xs\x20mr-1\x22\x20title=\x22Save\x20a\x20copy\x20of\x20the\x20current\x20filters,\x20to\x20use\x20when\x20filtering\x20spell\x20lists\x20during\x20import\x20of\x20&quot;prepared\x20spell&quot;\x20casters.\x20For\x20example,\x20if\x20you\x20want\x20your\x20Cleric\x27s\x20spell\x20list\x20to\x20include\x20only\x20PHB\x20spells,\x20you\x20would\x20filter\x20(using\x20the\x20interface\x20above)\x20for\x20PHB\x20spells,\x20then\x20click\x20this\x20button.\x20Note\x20that\x20all\x20the\x20spells\x20that\x20you\x20have\x20selected\x20as\x20learned\x20or\x20that\x20you\x20have\x20selected\x20as\x20prepared\x20will\x20be\x20imported\x20regardless.\x22>Set\x20Prepared\x20Spell\x20Filter</button>','background_pulseBackground'];_0x3470=function(){return _0x17d393;};return _0x3470();}import{DataConverter}from'./DataConverter.js';function _0x4a9a(_0x543ceb,_0x53c11b){const _0x3470bd=_0x3470();return _0x4a9a=function(_0x4a9a77,_0x44ef5d){_0x4a9a77=_0x4a9a77-0x176;let _0x18c855=_0x3470bd[_0x4a9a77];return _0x18c855;},_0x4a9a(_0x543ceb,_0x53c11b);}import{UtilDataConverter}from'./UtilDataConverter.js';class ActorCharactermancerSpell extends ActorCharactermancerBaseComponent{constructor(_0x5c2e55){const _0x7f80=_0x4a9a;_0x5c2e55=_0x5c2e55||{},super(),this[_0x7f80(0x195)]=_0x5c2e55[_0x7f80(0x1b1)],this[_0x7f80(0x1f8)]=_0x5c2e55[_0x7f80(0x18b)],this[_0x7f80(0x17b)]=_0x5c2e55[_0x7f80(0x18e)],this[_0x7f80(0x18d)]=_0x5c2e55[_0x7f80(0x19f)],this[_0x7f80(0x1ef)]=new PageFilterSpells(),this['_modalFilterSpells']=new ModalFilterSpellsFvtt({'namespace':_0x7f80(0x18a),'isRadio':!![],'allData':this[_0x7f80(0x1f8)][_0x7f80(0x205)]}),this[_0x7f80(0x18c)]=null,this[_0x7f80(0x1fc)]='',this[_0x7f80(0x1e4)]=[],this[_0x7f80(0x1be)]=[],this[_0x7f80(0x1e5)]=null,this[_0x7f80(0x183)]=null,this['_compsSpellAdditionalSpellClass']=[],this['_compsSpellAdditionalSpellSubclass']=[];}get['modalFilterSpells'](){return this['_modalFilterSpells'];}get['filterValuesSpellsCache'](){const _0x182bd3=_0x4a9a;return this[_0x182bd3(0x18c)];}get['filterBoxSpells'](){const _0xf5bc66=_0x4a9a;return this['_pageFilterSpells']?.[_0xf5bc66(0x1c1)];}get[_0x248b50(0x198)](){const _0x216ea7=_0x248b50;return this[_0x216ea7(0x1e4)];}get[_0x248b50(0x1ae)](){const _0x358485=_0x248b50;return this[_0x358485(0x1e5)];}get['compSpellAdditionalSpellBackground'](){return this['_compSpellAdditionalSpellBackground'];}get[_0x248b50(0x1b9)](){return this['_compsSpellAdditionalSpellClass'];}get['compsSpellAdditionalSpellSubclass'](){return this['_compsSpellAdditionalSpellSubclass'];}async[_0x248b50(0x192)](){const _0xbf6282=_0x248b50;await this['_modalFilterSpells'][_0xbf6282(0x1da)]();}async['pRender'](){const _0x5c14f6=_0x248b50,_0x223e03=this['_tabSpells']?.['$wrpTab'];if(!_0x223e03)return;const _0x59ff01=$$`<div class="ve-flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry smooth-scroll"></div>`,_0x26b963=$$`<div class="ve-flex-col w-100"></div>`,_0x4e8f1b=$$`<div class="ve-flex-col w-100 h-100"></div>`;await this[_0x5c14f6(0x1fe)](_0x59ff01);for(let _0x2b1e2f=0x0;_0x2b1e2f<this[_0x5c14f6(0x17b)][_0x5c14f6(0x1dc)]['state'][_0x5c14f6(0x220)]+0x1;++_0x2b1e2f)this[_0x5c14f6(0x1ac)](_0x59ff01,_0x26b963,_0x4e8f1b,_0x2b1e2f);const _0x451f52=()=>{const _0x475656=_0x5c14f6;this[_0x475656(0x1ac)](_0x59ff01,_0x26b963,_0x4e8f1b,this[_0x475656(0x17b)][_0x475656(0x1dc)][_0x475656(0x1d6)][_0x475656(0x220)]);};this[_0x5c14f6(0x17b)][_0x5c14f6(0x1dc)][_0x5c14f6(0x1bc)](_0x5c14f6(0x220),_0x451f52),this['_spell_renderRaceSection'](_0x59ff01),this[_0x5c14f6(0x215)](_0x59ff01),this['_spell_handleFilterChange'](),$$`<div class="ve-flex w-100 h-100">
			${_0x59ff01}

			<div class="vr-1"></div>

			<div class="ve-flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry smooth-scroll">
				${_0x26b963}
				${_0x4e8f1b}
			</div>
		</div>`[_0x5c14f6(0x208)](_0x223e03);}async['_spell_pRenderFilterBox'](_0x483ac1){const _0xe538e0=_0x248b50,_0x2041c7=$(_0xe538e0(0x1a8)),_0x390eda=$('<button\x20class=\x22btn\x20btn-5et\x22\x20title=\x22Toggle\x20Filter\x20Summary\x20Display\x22><span\x20class=\x22glyphicon\x20glyphicon-resize-small\x22></span></button>'),_0x237de1=$(_0xe538e0(0x1e0)),_0x248c76=$('<button\x20class=\x22btn-5et\x20veapp__btn-list-reset\x22>Reset</button>')[_0xe538e0(0x1ab)](()=>_0x237de1[_0xe538e0(0x1a1)]('')[_0xe538e0(0x221)]()),_0x48ceb1=$(_0xe538e0(0x1a4)),_0x27e7d1=$(_0xe538e0(0x20d))[_0xe538e0(0x1ab)](()=>{const _0x4f971a=_0xe538e0;this[_0x4f971a(0x18c)]=this[_0x4f971a(0x1ef)][_0x4f971a(0x1c1)]['getValues'](),ui[_0x4f971a(0x222)][_0x4f971a(0x22b)](_0x4f971a(0x227));}),_0x2e7e56=ComponentUiUtil['$getBtnBool'](this,'spells_isIncludeUaEtcSpellLists',{'$ele':$(_0xe538e0(0x213))}),_0x251a48=()=>this[_0xe538e0(0x1e4)]['filter'](Boolean)[_0xe538e0(0x1a9)](_0x33f2cb=>_0x33f2cb[_0xe538e0(0x21a)]=this[_0xe538e0(0x226)]['spells_isIncludeUaEtcSpellLists']);this[_0xe538e0(0x206)](_0xe538e0(0x1f9),_0x251a48),_0x251a48(),$$(_0x483ac1)`
			<div class="ve-flex-v-stretch input-group input-group--top no-shrink">
				${_0x2041c7}
				${_0x390eda}
				${_0x237de1}
				${_0x248c76}
			</div>
			${_0x48ceb1}
			<div class="ve-flex-v-stretch input-group input-group--bottom mb-1 no-shrink">
				<button class="btn-5et w-100" disabled></button>
			</div>

			<div class="mb-1 ve-flex-v-center">${_0x27e7d1}${_0x2e7e56}</div>
		`,await this[_0xe538e0(0x1ef)]['pInitFilterBox']({'$iptSearch':_0x237de1,'$btnReset':_0x248c76,'$btnOpen':_0x2041c7,'$btnToggleSummaryHidden':_0x390eda,'$wrpMiniPills':_0x48ceb1,'namespace':_0xe538e0(0x1b3)}),this[_0xe538e0(0x1f8)]['spell'][_0xe538e0(0x1a9)](_0x51e607=>this['_pageFilterSpells'][_0xe538e0(0x1d3)](_0x51e607)),this[_0xe538e0(0x1ef)][_0xe538e0(0x1e8)](),this[_0xe538e0(0x1ef)][_0xe538e0(0x1c1)][_0xe538e0(0x1e1)](),this[_0xe538e0(0x18c)]=this[_0xe538e0(0x1ef)][_0xe538e0(0x1c1)][_0xe538e0(0x1c3)](),UiUtil[_0xe538e0(0x17a)]({'$ipt':_0x237de1,'fnKeyup':()=>{const _0x458fe9=_0xe538e0,_0xdd69a6=List[_0x458fe9(0x184)](_0x237de1[_0x458fe9(0x1a1)]());if(this[_0x458fe9(0x1fc)]===_0xdd69a6)return;this['_lastSearchTermSpells']=_0xdd69a6,this['_compsSpellSpells']['filter'](Boolean)[_0x458fe9(0x1a9)](_0x11eab4=>_0x11eab4[_0x458fe9(0x1e7)](_0xdd69a6));}}),this[_0xe538e0(0x1ef)][_0xe538e0(0x1c1)]['on'](FilterBox[_0xe538e0(0x214)],this['_spell_handleFilterChange'][_0xe538e0(0x178)](this));}[_0x248b50(0x1e9)](){const _0x20a955=_0x248b50,_0x3400be=this[_0x20a955(0x1ef)]['filterBox'][_0x20a955(0x1c3)]();this[_0x20a955(0x1e4)][_0x20a955(0x1d2)](Boolean)[_0x20a955(0x1a9)](_0x4950f5=>_0x4950f5['handleFilterChange'](_0x3400be));}[_0x248b50(0x22a)](_0x1eb25d,_0xa42b4c,_0xe53c52,_0x20d4f5,{isExistingClass:_0x5f41d7,isDefault:isDefault=![]}={}){const _0x24be12=_0x248b50,_0x3d695d=this[_0x24be12(0x1be)][_0x1eb25d]?this[_0x24be12(0x1be)][_0x1eb25d][_0x24be12(0x1ff)]():null;return Charactermancer_Spell_Util[_0x24be12(0x1db)]({'cls':_0xa42b4c,'sc':_0xe53c52,'targetLevel':_0x20d4f5,'isExistingClass':_0x5f41d7,'isDefault':isDefault,'formDataSlotSelectFromComp':_0x3d695d});}[_0x248b50(0x223)](_0x2fad45,_0x238f52,_0x1fbd6b,{existingAbilityScores:_0x42f615}={}){const _0x239a9b=_0x248b50,_0x44e439=this['_parent'][_0x239a9b(0x1c8)][_0x239a9b(0x194)]();return Charactermancer_Spell_Util[_0x239a9b(0x181)]({'cls':_0x2fad45,'sc':_0x238f52,'targetLevel':_0x1fbd6b,'existingAbilityScores':_0x42f615,'abilityScoresFromComp':_0x44e439});}['_spell_renderClassSection'](_0x45a370,_0x263c0f,_0x9f87e4,_0x238988){const _0x42799e=_0x248b50,{propIxClass:_0x4d622e,propIxSubclass:_0x4ca309,propTargetLevel:_0x16aa3a}=ActorCharactermancerBaseComponent[_0x42799e(0x1a6)](_0x238988),_0x4ec977=$(_0x42799e(0x1e2)),_0x15ecca=$$`<div class="mb-1 ve-muted ve-small manc-sp__disp-prepared ve-flex-v-center"></div>`,_0x2eb094=$$`<div class="mb-1 ve-muted ve-small manc-sp__disp-prepared ve-flex-v-center"></div>`,_0x14b4dd=$$`<div class="mb-1 ve-flex-col"></div>`,_0x2a7023=$('<h2\x20class=\x22m-0\x20b-0\x20py-1\x22></h2>'),_0x22ee2f=$$`<div class="ve-flex-col"></div>`,_0x12e17a=$$`<div class="ve-flex-col"></div>`['hideVe'](),_0x2d42ea=$$`<div class="ve-flex-col"></div>`['hideVe'](),_0x8bb85b=$$`<div class="ve-flex-col"></div>`,_0x4ff94f=$(_0x42799e(0x179))['click'](()=>{const _0x50918f=_0x42799e;_0x4ff94f[_0x50918f(0x1bd)](_0x4ff94f['text']()===_0x50918f(0x20b)?_0x50918f(0x19e):_0x50918f(0x20b)),_0x14b4dd['toggleVe'](),_0x23b745[_0x50918f(0x177)]();}),_0x23b745=$$`<div class="ve-flex-col w-100">
			${_0x22ee2f}
			${_0x12e17a}
			${_0x2d42ea}
		</div>`,_0x2cdf5a=$$`<div class="ve-flex-col mb-2">
			<div class="split-v-center">
				${_0x4ec977}
				${_0x4ff94f}
			</div>
			${_0x15ecca}
			${_0x14b4dd}

			${_0x23b745}
		</div>`['appendTo'](_0x45a370),_0x1b165f=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')['click'](()=>{const _0x38e0d3=_0x42799e;_0x1b165f['text'](_0x1b165f[_0x38e0d3(0x1bd)]()===_0x38e0d3(0x20b)?_0x38e0d3(0x19e):_0x38e0d3(0x20b)),_0x33dfdb[_0x38e0d3(0x177)]();}),_0x33dfdb=$$`<div class="ve-flex-col w-100">
			${_0x8bb85b}
		</div>`,_0x4c552e=$$`<div class="ve-flex-col w-100">
			<div class="split-v-center">
				${_0x2a7023}
				${_0x1b165f}
			</div>
			${_0x2eb094}

			${_0x33dfdb}

			<hr class="hr-2">
		</div>`['appendTo'](_0x263c0f),_0x284874=this[_0x42799e(0x209)][_0x42799e(0x178)](this,_0x238988,{'$dispClassNameLeft':_0x4ec977,'$dispClassNameRight':_0x2a7023,'$stgClassAdditionalSpells':_0x12e17a,'$stgSubclassAdditionalSpells':_0x2d42ea,'$wrpLeftInner':_0x2cdf5a,'$wrpRightInner':_0x4c552e,'$stgClassSpells':_0x22ee2f,'$stgSpellsTable':_0x8bb85b,'$dispSpell':_0x9f87e4,'$wrpSlotLevelSelect':_0x14b4dd,'$wrpPreparedLearnedLhs':_0x15ecca,'$wrpPreparedLearnedRhs':_0x2eb094}),_0x36fe98=this[_0x42799e(0x1cd)][_0x42799e(0x178)](this,_0x238988,{'$dispClassNameLeft':_0x4ec977,'$dispClassNameRight':_0x2a7023,'$stgSubclassAdditionalSpells':_0x2d42ea,'$wrpLeftInner':_0x2cdf5a,'$wrpRightInner':_0x4c552e,'$stgClassSpells':_0x22ee2f,'$stgSpellsTable':_0x8bb85b,'$dispSpell':_0x9f87e4,'$wrpSlotLevelSelect':_0x14b4dd,'$wrpPreparedLearnedLhs':_0x15ecca,'$wrpPreparedLearnedRhs':_0x2eb094}),_0x578be1=this[_0x42799e(0x1c2)][_0x42799e(0x178)](this,_0x238988,{'$wrpLeftInner':_0x2cdf5a,'$wrpRightInner':_0x4c552e}),_0xa08222=this[_0x42799e(0x210)][_0x42799e(0x178)](this,_0x238988);this[_0x42799e(0x17b)][_0x42799e(0x1dc)][_0x42799e(0x1bc)](_0x4d622e,_0x284874),this['_parent']['compClass'][_0x42799e(0x1bc)](_0x4ca309,_0x36fe98),this[_0x42799e(0x17b)]['compClass']['addHookBase'](_0x16aa3a,_0x578be1),this[_0x42799e(0x17b)][_0x42799e(0x1c8)][_0x42799e(0x1fd)](_0xa08222),_0x284874();}[_0x248b50(0x200)](_0x5c9c1d){const _0x532b7d=_0x248b50;return this[_0x532b7d(0x207)]({'$wrpLeft':_0x5c9c1d,'propPulse':_0x532b7d(0x225),'propCompAdditionalSpells':_0x532b7d(0x1e5),'propAlwaysPreparedSpells':_0x532b7d(0x1d7),'propExpandedSpells':_0x532b7d(0x1f7),'propAlwaysKnownSpells':_0x532b7d(0x189),'compEntity':this['_parent'][_0x532b7d(0x190)],'fnGetEntity':()=>this[_0x532b7d(0x17b)][_0x532b7d(0x1ce)][_0x532b7d(0x20c)]()});}[_0x248b50(0x215)](_0x7bc908){const _0x45e22a=_0x248b50;return this[_0x45e22a(0x207)]({'$wrpLeft':_0x7bc908,'propPulse':_0x45e22a(0x20e),'propCompAdditionalSpells':_0x45e22a(0x183),'propAlwaysPreparedSpells':'alwaysPreparedSpellsBackground','propExpandedSpells':_0x45e22a(0x1e6),'propAlwaysKnownSpells':'alwaysKnownSpellsBackground','compEntity':this[_0x45e22a(0x17b)]['compBackground'],'fnGetEntity':()=>this[_0x45e22a(0x17b)][_0x45e22a(0x218)][_0x45e22a(0x1c5)]({'isAllowStub':![]})});}['_spell_renderRaceBackgroundSection']({$wrpLeft:_0x1fb781,propPulse:_0xcf4c3b,propCompAdditionalSpells:_0x40254c,propAlwaysPreparedSpells:_0x102f63,propExpandedSpells:_0x263cb2,propAlwaysKnownSpells:_0x582b20,compEntity:_0x143d98,fnGetEntity:_0x581437}){const _0x3f07cc=_0x248b50,_0x1f35e1=$$`<div class="ve-flex-col"></div>`[_0x3f07cc(0x1ee)](),_0x2c785e=()=>{const _0x4a9421=_0x3f07cc,_0x2ecae0=this[_0x4a9421(0x17b)][_0x4a9421(0x1dc)][_0x4a9421(0x1b5)](),_0x3bce61=this[_0x4a9421(0x17b)][_0x4a9421(0x1dc)][_0x4a9421(0x1d6)]['class_totalLevels'];if(this[_0x40254c]){this[_0x40254c][_0x4a9421(0x1af)]=_0x2ecae0,this[_0x40254c]['targetLevel']=Math[_0x4a9421(0x1d0)](0x1,_0x3bce61);const {min:_0x13b4ac,max:_0x11fac9,isAnyCantrips:_0x257c27}=this[_0x4a9421(0x17b)][_0x4a9421(0x1dc)]['class_getMinMaxSpellLevel']();this[_0x40254c][_0x4a9421(0x1a0)]=_0x13b4ac,this[_0x40254c]['spellLevelHigh']=_0x11fac9,this[_0x40254c][_0x4a9421(0x1ed)]=_0x257c27;}};this[_0x3f07cc(0x17b)][_0x3f07cc(0x1dc)][_0x3f07cc(0x1bc)](_0x3f07cc(0x217),_0x2c785e),this[_0x3f07cc(0x17b)][_0x3f07cc(0x1dc)][_0x3f07cc(0x1bc)](_0x3f07cc(0x186),_0x2c785e);const _0x5b9e0a=$(_0x3f07cc(0x1e2)),_0x2417b7=$(_0x3f07cc(0x179))[_0x3f07cc(0x1ab)](()=>{const _0x59aee7=_0x3f07cc;_0x2417b7[_0x59aee7(0x1bd)](_0x2417b7[_0x59aee7(0x1bd)]()===_0x59aee7(0x20b)?_0x59aee7(0x19e):_0x59aee7(0x20b)),_0xd26f8[_0x59aee7(0x177)]();}),_0xd26f8=$$`<div class="ve-flex-col w-100">
			${_0x1f35e1}
		</div>`,_0x4ce5f1=$$`<div class="ve-flex-col w-100 mb-2">
			<div class="split-v-center">
				${_0x5b9e0a}
				${_0x2417b7}
			</div>

			${_0xd26f8}
		</div>`[_0x3f07cc(0x1ee)]()['appendTo'](_0x1fb781),_0x151dbb=()=>{const _0x4bbda1=_0x3f07cc;_0x1f35e1[_0x4bbda1(0x1b2)]();const _0x270b6b=_0x581437();let _0x2d3312=![];if(_0x270b6b&&_0x270b6b[_0x4bbda1(0x191)]){_0x2d3312=!![],_0x1f35e1[_0x4bbda1(0x1c6)](),this[_0x40254c]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this[_0x4bbda1(0x1f8)][_0x4bbda1(0x205)],'additionalSpells':_0x270b6b[_0x4bbda1(0x191)],'modalFilterSpells':this[_0x4bbda1(0x1eb)]}),this[_0x40254c][_0x4bbda1(0x1e1)](_0x1f35e1);const _0x345733=()=>this[_0x4bbda1(0x1e4)]['filter'](Boolean)[_0x4bbda1(0x1a9)](_0x2a015c=>_0x2a015c[_0x102f63]=MiscUtil[_0x4bbda1(0x1b4)](this[_0x40254c][_0x4bbda1(0x19d)]));this[_0x40254c]['addHookAlwaysPreparedSpells'](_0x345733),_0x345733();const _0x5f295a=()=>this['_compsSpellSpells'][_0x4bbda1(0x1d2)](Boolean)[_0x4bbda1(0x1a9)](_0x3e0846=>_0x3e0846[_0x263cb2]=MiscUtil[_0x4bbda1(0x1b4)](this[_0x40254c][_0x4bbda1(0x1f5)]));this[_0x40254c][_0x4bbda1(0x1a5)](_0x5f295a),_0x5f295a();const _0x5c1a4d=()=>this[_0x4bbda1(0x1e4)][_0x4bbda1(0x1d2)](Boolean)[_0x4bbda1(0x1a9)](_0x3a6818=>_0x3a6818[_0x582b20]=MiscUtil[_0x4bbda1(0x1b4)](this[_0x40254c]['spellsAlwaysKnown']));this[_0x40254c][_0x4bbda1(0x1b8)](_0x5c1a4d),_0x5c1a4d();}else _0x1f35e1['hideVe'](),this[_0x40254c]=null,this[_0x4bbda1(0x1e4)][_0x4bbda1(0x1d2)](Boolean)[_0x4bbda1(0x1a9)](_0x51f5c5=>_0x51f5c5[_0x263cb2]=[]);_0x270b6b&&_0x2d3312?(_0x4ce5f1[_0x4bbda1(0x1c6)](),_0x5b9e0a[_0x4bbda1(0x1bd)](_0x270b6b[_0x4bbda1(0x1ca)])):_0x4ce5f1[_0x4bbda1(0x1ee)](),_0x2c785e();};_0x143d98[_0x3f07cc(0x1bc)](_0xcf4c3b,_0x151dbb),_0x151dbb();}[_0x248b50(0x209)](_0x5e2c59,{$stgClassSpells:_0xc4f8a0,$stgSpellsTable:_0x218ad7,$dispClassNameLeft:_0x233338,$dispClassNameRight:_0x1937c6,$stgClassAdditionalSpells:_0x105238,$stgSubclassAdditionalSpells:_0x19f489,$wrpLeftInner:_0x15587e,$wrpRightInner:_0x41656d,$dispSpell:_0x440aa2,$wrpSlotLevelSelect:_0x2de6f4,$wrpPreparedLearnedLhs:_0x5b7179,$wrpPreparedLearnedRhs:_0x474eb0}){const _0x3c561b=_0x248b50,{propIxClass:_0x3a96e0,propIxSubclass:_0x16cf72,propTargetLevel:_0x4d3d09}=ActorCharactermancerBaseComponent[_0x3c561b(0x1a6)](_0x5e2c59),_0x41614a=this['_parent'][_0x3c561b(0x1dc)][_0x3c561b(0x21f)]({'propIxClass':_0x3a96e0}),_0x31d47e=this[_0x3c561b(0x17b)][_0x3c561b(0x1dc)]['getSubclass_']({'cls':_0x41614a,'propIxSubclass':_0x16cf72});if(!_0x41614a||!this['constructor'][_0x3c561b(0x1f1)](_0x41614a,_0x31d47e)){this[_0x3c561b(0x1bf)]({'$stgClassSpells':_0xc4f8a0,'$stgSpellsTable':_0x218ad7,'$wrpLeftInner':_0x15587e,'$wrpRightInner':_0x41656d,'ix':_0x5e2c59});return;}_0xc4f8a0[_0x3c561b(0x1b2)](),_0x218ad7['empty'](),this[_0x3c561b(0x21e)]({'ix':_0x5e2c59,'cls':_0x41614a,'sc':_0x31d47e,'$wrpPreparedLearnedLhs':_0x5b7179,'$wrpPreparedLearnedRhs':_0x474eb0,'propTargetLevel':_0x4d3d09}),_0x105238[_0x3c561b(0x1b2)]();if(_0x41614a&&_0x41614a[_0x3c561b(0x191)]){_0x105238[_0x3c561b(0x1c6)]()[_0x3c561b(0x18f)](_0x3c561b(0x1cc)+_0x41614a[_0x3c561b(0x1ca)]+')</div>'),this[_0x3c561b(0x1a3)][_0x5e2c59]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this[_0x3c561b(0x1f8)]['spell'],'additionalSpells':_0x41614a['additionalSpells'],'modalFilterSpells':this[_0x3c561b(0x1eb)]}),this[_0x3c561b(0x1a3)][_0x5e2c59][_0x3c561b(0x1e1)](_0x105238);const _0x9a66e8=()=>{const _0x7e731f=_0x3c561b;if(this[_0x7e731f(0x1e4)][_0x5e2c59])this['_compsSpellSpells'][_0x5e2c59][_0x7e731f(0x1d9)]=MiscUtil['copy'](this[_0x7e731f(0x1a3)][_0x5e2c59]['spellsAlwaysPrepared']);};this[_0x3c561b(0x1a3)][_0x5e2c59][_0x3c561b(0x1ea)](_0x9a66e8);const _0x31fb59=()=>{const _0x3d80fa=_0x3c561b;if(this[_0x3d80fa(0x1e4)][_0x5e2c59])this[_0x3d80fa(0x1e4)][_0x5e2c59][_0x3d80fa(0x1df)]=MiscUtil[_0x3d80fa(0x1b4)](this[_0x3d80fa(0x1a3)][_0x5e2c59][_0x3d80fa(0x1f5)]);};this[_0x3c561b(0x1a3)][_0x5e2c59][_0x3c561b(0x1a5)](_0x31fb59);const _0x438772=()=>{const _0x4082e3=_0x3c561b;if(this[_0x4082e3(0x1e4)][_0x5e2c59])this[_0x4082e3(0x1e4)][_0x5e2c59][_0x4082e3(0x204)]=MiscUtil[_0x4082e3(0x1b4)](this['_compsSpellAdditionalSpellClass'][_0x5e2c59][_0x4082e3(0x1de)]);};this[_0x3c561b(0x1a3)][_0x5e2c59][_0x3c561b(0x1b8)](_0x438772);}else _0x105238[_0x3c561b(0x1ee)](),this['_compsSpellAdditionalSpellClass'][_0x5e2c59]=null;this[_0x3c561b(0x1cd)](_0x5e2c59,{'$dispClassNameLeft':_0x233338,'$dispClassNameRight':_0x1937c6,'$stgClassSpells':_0xc4f8a0,'$stgSpellsTable':_0x218ad7,'$stgSubclassAdditionalSpells':_0x19f489,'$wrpLeftInner':_0x15587e,'$wrpRightInner':_0x41656d});if(this['_compsSpellSpells'][_0x5e2c59]&&this[_0x3c561b(0x1a3)][_0x5e2c59])this[_0x3c561b(0x1e4)][_0x5e2c59]['alwaysPreparedSpellsClass']=MiscUtil[_0x3c561b(0x1b4)](this[_0x3c561b(0x1a3)][_0x5e2c59][_0x3c561b(0x19d)]),this[_0x3c561b(0x1e4)][_0x5e2c59][_0x3c561b(0x1df)]=MiscUtil['copy'](this[_0x3c561b(0x1a3)][_0x5e2c59]['spellsExpanded']),this['_compsSpellSpells'][_0x5e2c59][_0x3c561b(0x204)]=MiscUtil[_0x3c561b(0x1b4)](this['_compsSpellAdditionalSpellClass'][_0x5e2c59][_0x3c561b(0x1de)]);else{if(this['_compsSpellSpells'][_0x5e2c59])this[_0x3c561b(0x1e4)][_0x5e2c59][_0x3c561b(0x1d9)]=[];if(this[_0x3c561b(0x1e4)][_0x5e2c59])this[_0x3c561b(0x1e4)][_0x5e2c59][_0x3c561b(0x1df)]=[];if(this[_0x3c561b(0x1e4)][_0x5e2c59])this['_compsSpellSpells'][_0x5e2c59]['alwaysKnownSpellsClass']=[];}this['_hk_shared_doRenderClassSubclass']({'ix':_0x5e2c59,'$stgClassSpells':_0xc4f8a0,'$stgSpellsTable':_0x218ad7,'$dispSpell':_0x440aa2,'$wrpSlotLevelSelect':_0x2de6f4});}[_0x248b50(0x1bf)]({$stgClassSpells:_0x249a90,$stgSpellsTable:_0x55ba48,$wrpLeftInner:_0x23da96,$wrpRightInner:_0x428c70,ix:_0x1fd79b}){const _0xc81ed3=_0x248b50;_0x249a90['empty'](),_0x55ba48[_0xc81ed3(0x1b2)](),_0x23da96[_0xc81ed3(0x1ee)](),_0x428c70['hideVe'](),this[_0xc81ed3(0x1e4)][_0x1fd79b]=null,this[_0xc81ed3(0x1be)][_0x1fd79b]=null;}[_0x248b50(0x21e)]({ix:_0x294d8d,cls:_0x2e08b2,sc:_0x185fbe,$wrpPreparedLearnedLhs:_0x566cce,$wrpPreparedLearnedRhs:_0x3c9c76,propTargetLevel:_0x1bfd65}){const _0x5ce031=_0x248b50,_0x2c8c4e=this[_0x5ce031(0x17b)][_0x5ce031(0x1dc)]['existingClassMetas'][_0x294d8d];this[_0x5ce031(0x1e4)][_0x294d8d]=new Charactermancer_Spell({'actor':this[_0x5ce031(0x195)],'existingClass':_0x2c8c4e?this[_0x5ce031(0x1f8)]['class'][_0x2c8c4e[_0x5ce031(0x1f6)]]:null,'existingCasterMeta':this[_0x5ce031(0x1aa)]({'ix':_0x294d8d,'cls':_0x2e08b2,'sc':_0x185fbe,'existingClassMeta':_0x2c8c4e}),'spellDatas':this[_0x5ce031(0x1f8)][_0x5ce031(0x205)],'className':_0x2e08b2['name'],'classSource':_0x2e08b2[_0x5ce031(0x193)],'brewClassSpells':_0x2e08b2['classSpells'],'subclassName':_0x185fbe?.[_0x5ce031(0x1ca)],'subclassShortName':_0x185fbe?.[_0x5ce031(0x180)],'subclassSource':_0x185fbe?.[_0x5ce031(0x193)],'brewSubclassSpells':_0x185fbe?.[_0x5ce031(0x199)],'brewSubSubclassSpells':_0x185fbe?.[_0x5ce031(0x1f3)],'pageFilter':this[_0x5ce031(0x1ef)],'$wrpsPreparedLearned':[_0x566cce,_0x3c9c76]}),this[_0x5ce031(0x1be)][_0x294d8d]=new Charactermancer_Spell_SlotLevelSelect(_0x2e08b2[_0x5ce031(0x1ca)]);const _0x4c5b01=()=>{const _0x1479fb=_0x5ce031,_0x5b0281=this['_parent'][_0x1479fb(0x1dc)][_0x1479fb(0x1d6)][_0x1bfd65];this['_compsSpellSpells'][_0x294d8d]&&(this[_0x1479fb(0x1e4)][_0x294d8d][_0x1479fb(0x1b7)]=this['_spell_getFixedLearnedProgression'](_0x294d8d,_0x2e08b2,_0x185fbe,_0x5b0281),this['_compsSpellSpells'][_0x294d8d][_0x1479fb(0x228)]=this[_0x1479fb(0x22a)](_0x294d8d,_0x2e08b2,_0x185fbe,_0x5b0281,{'isDefault':!![]}));};this['_compsSpellSpellSlotLevelSelect'][_0x294d8d][_0x5ce031(0x1bb)](_0x4c5b01),_0x4c5b01();}[_0x248b50(0x1b0)]({ix:_0x33b0fd,$stgClassSpells:_0x45b321,$stgSpellsTable:_0x2792fc,$dispSpell:_0x352e18,$wrpSlotLevelSelect:_0x524436}){const _0x4791f2=_0x248b50;this[_0x4791f2(0x1e4)][_0x33b0fd][_0x4791f2(0x1e1)](_0x45b321,_0x352e18),this['_compsSpellSpellSlotLevelSelect'][_0x33b0fd][_0x4791f2(0x1e1)](_0x524436);const _0x57c88e=this[_0x4791f2(0x1ef)][_0x4791f2(0x1c1)][_0x4791f2(0x1c3)]();this[_0x4791f2(0x1e4)][_0x33b0fd][_0x4791f2(0x20a)](_0x57c88e);if(this['_compSpellAdditionalSpellRace'])this['_compsSpellSpells'][_0x33b0fd][_0x4791f2(0x1f7)]=MiscUtil['copy'](this[_0x4791f2(0x1e5)][_0x4791f2(0x1f5)]);if(this[_0x4791f2(0x183)])this['_compsSpellSpells'][_0x33b0fd]['expandedSpellsBackground']=MiscUtil[_0x4791f2(0x1b4)](this[_0x4791f2(0x183)][_0x4791f2(0x1f5)]);}[_0x248b50(0x1cb)]({ix:_0x3b79ed}){const _0x1d4e1d=_0x248b50;if(!this[_0x1d4e1d(0x1e4)][_0x3b79ed])return;const _0xf4ba4e=this['_pageFilterSpells'][_0x1d4e1d(0x1c1)]['getValues']();this[_0x1d4e1d(0x1e4)][_0x3b79ed][_0x1d4e1d(0x20a)](_0xf4ba4e);}[_0x248b50(0x210)](_0x121b54){const _0x47df54=_0x248b50,{propIxClass:_0xcad677,propTargetLevel:_0x111d10,propIxSubclass:_0x171a4f}=ActorCharactermancerBaseComponent[_0x47df54(0x1a6)](_0x121b54),_0x26b259=this[_0x47df54(0x17b)][_0x47df54(0x1dc)][_0x47df54(0x21f)]({'propIxClass':_0xcad677}),_0x1e7dbb=this['_parent']['compClass'][_0x47df54(0x19c)]({'cls':_0x26b259,'propIxSubclass':_0x171a4f}),_0x3619c3=this['_parent'][_0x47df54(0x1dc)][_0x47df54(0x1d6)][_0x111d10];if(this[_0x47df54(0x1e4)][_0x121b54])this[_0x47df54(0x1e4)][_0x121b54]['maxPrepared']=this[_0x47df54(0x223)](_0x26b259,_0x1e7dbb,_0x3619c3);}[_0x248b50(0x1cd)](_0x11b537,{$stgClassSpells:_0x48f18d,$stgSpellsTable:_0x3d70b8,$dispClassNameLeft:_0x3fde14,$dispClassNameRight:_0x2c87b0,$stgSubclassAdditionalSpells:_0x4ea332,$wrpLeftInner:_0xa8a733,$wrpRightInner:_0xe2e15d,$wrpPreparedLearnedLhs:_0x4bdf05,$wrpPreparedLearnedRhs:_0x567811,$dispSpell:_0x41c4e2,$wrpSlotLevelSelect:_0x1bb738}){const _0x3c06ad=_0x248b50,{propIxClass:_0xf9c2f5,propIxSubclass:_0x5be90a,propTargetLevel:_0xbfbced}=ActorCharactermancerBaseComponent['class_getProps'](_0x11b537),_0x4496df=this['_parent'][_0x3c06ad(0x1dc)][_0x3c06ad(0x21f)]({'propIxClass':_0xf9c2f5}),_0x3134cb=this[_0x3c06ad(0x17b)][_0x3c06ad(0x1dc)][_0x3c06ad(0x19c)]({'cls':_0x4496df,'propIxSubclass':_0x5be90a}),_0x55eeeb=_0x4496df?''+_0x4496df[_0x3c06ad(0x1ca)]+(_0x3134cb?'\x20('+_0x3134cb[_0x3c06ad(0x1ca)]+')':''):'';_0x3fde14['text'](_0x55eeeb),_0x2c87b0[_0x3c06ad(0x1bd)](_0x55eeeb),this['_hk_onChangeSubclass_pRenderSpellTable'](_0x11b537,{'cls':_0x4496df,'sc':_0x3134cb,'$stgSpellsTable':_0x3d70b8});const _0x3e6860=this[_0x3c06ad(0x19b)]['_spell_isClassCaster'](_0x4496df,_0x3134cb),_0x6abac0=_0x3e6860&&!this[_0x3c06ad(0x1e4)][_0x11b537];if(!_0x3e6860&&this[_0x3c06ad(0x1e4)][_0x11b537]){this['_hk_shared_doCleanupClassSubclass']({'$stgClassSpells':_0x48f18d,'$stgSpellsTable':_0x3d70b8,'$wrpLeftInner':_0xa8a733,'$wrpRightInner':_0xe2e15d,'ix':_0x11b537});return;}else _0x6abac0&&this[_0x3c06ad(0x21e)]({'ix':_0x11b537,'cls':_0x4496df,'sc':_0x3134cb,'$wrpPreparedLearnedLhs':_0x4bdf05,'$wrpPreparedLearnedRhs':_0x567811,'propTargetLevel':_0xbfbced});_0x4ea332[_0x3c06ad(0x1b2)]();if(_0x3134cb&&_0x3134cb['additionalSpells']){_0x4ea332[_0x3c06ad(0x1c6)]()[_0x3c06ad(0x18f)](_0x3c06ad(0x17e)+_0x3134cb[_0x3c06ad(0x1ca)]+')</div>'),this[_0x3c06ad(0x21d)][_0x11b537]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this[_0x3c06ad(0x1f8)][_0x3c06ad(0x205)],'additionalSpells':_0x3134cb['additionalSpells'],'modalFilterSpells':this['_modalFilterSpells']}),this['_compsSpellAdditionalSpellSubclass'][_0x11b537]['render'](_0x4ea332);const _0x2e7fc8=()=>{const _0x3479c9=_0x3c06ad;if(this['_compsSpellSpells'][_0x11b537])this[_0x3479c9(0x1e4)][_0x11b537]['alwaysPreparedSpellsSubclass']=MiscUtil[_0x3479c9(0x1b4)](this[_0x3479c9(0x21d)][_0x11b537][_0x3479c9(0x19d)]);};this[_0x3c06ad(0x21d)][_0x11b537][_0x3c06ad(0x1ea)](_0x2e7fc8);const _0x362d33=()=>{const _0x573006=_0x3c06ad;if(this['_compsSpellSpells'][_0x11b537])this[_0x573006(0x1e4)][_0x11b537][_0x573006(0x176)]=MiscUtil['copy'](this[_0x573006(0x21d)][_0x11b537]['spellsExpanded']);};this['_compsSpellAdditionalSpellSubclass'][_0x11b537][_0x3c06ad(0x1a5)](_0x362d33);const _0x33fd35=()=>{const _0x9ad985=_0x3c06ad;if(this['_compsSpellSpells'][_0x11b537])this[_0x9ad985(0x1e4)][_0x11b537][_0x9ad985(0x196)]=MiscUtil[_0x9ad985(0x1b4)](this[_0x9ad985(0x21d)][_0x11b537][_0x9ad985(0x1de)]);};this[_0x3c06ad(0x21d)][_0x11b537][_0x3c06ad(0x1b8)](_0x33fd35);}else _0x4ea332[_0x3c06ad(0x1ee)](),this[_0x3c06ad(0x21d)][_0x11b537]=null;this['_hk_onChangeLevel'](_0x11b537,{'$wrpLeftInner':_0xa8a733,'$wrpRightInner':_0xe2e15d});const _0x573d64=DataConverter[_0x3c06ad(0x212)](_0x4496df?.[_0x3c06ad(0x1d8)],_0x3134cb?.[_0x3c06ad(0x1d8)]);this[_0x3c06ad(0x1e4)][_0x11b537]&&(this[_0x3c06ad(0x1e4)][_0x11b537][_0x3c06ad(0x20f)]=_0x3134cb?.['name'],this[_0x3c06ad(0x1e4)][_0x11b537]['subclassShortName']=_0x3134cb?.[_0x3c06ad(0x180)],this[_0x3c06ad(0x1e4)][_0x11b537][_0x3c06ad(0x202)]=_0x3134cb?.['source'],this[_0x3c06ad(0x1e4)][_0x11b537][_0x3c06ad(0x1d8)]=_0x573d64);if(this[_0x3c06ad(0x1be)][_0x11b537])this['_compsSpellSpellSlotLevelSelect'][_0x11b537][_0x3c06ad(0x1d8)]=_0x573d64;if(this['_compsSpellSpells'][_0x11b537]&&this[_0x3c06ad(0x21d)][_0x11b537])this[_0x3c06ad(0x1e4)][_0x11b537][_0x3c06ad(0x1cf)]=MiscUtil[_0x3c06ad(0x1b4)](this[_0x3c06ad(0x21d)][_0x11b537][_0x3c06ad(0x19d)]),this[_0x3c06ad(0x1e4)][_0x11b537]['expandedSpellsSubclass']=MiscUtil[_0x3c06ad(0x1b4)](this[_0x3c06ad(0x21d)][_0x11b537][_0x3c06ad(0x1f5)]),this['_compsSpellSpells'][_0x11b537][_0x3c06ad(0x196)]=MiscUtil['copy'](this['_compsSpellAdditionalSpellSubclass'][_0x11b537][_0x3c06ad(0x1de)]);else{if(this[_0x3c06ad(0x1e4)][_0x11b537])this[_0x3c06ad(0x1e4)][_0x11b537]['alwaysPreparedSpellsSubclass']=[];if(this[_0x3c06ad(0x1e4)][_0x11b537])this['_compsSpellSpells'][_0x11b537]['expandedSpellsSubclass']=[];if(this[_0x3c06ad(0x1e4)][_0x11b537])this[_0x3c06ad(0x1e4)][_0x11b537][_0x3c06ad(0x196)]=[];}if(_0x6abac0)this[_0x3c06ad(0x1b0)]({'ix':_0x11b537,'$stgClassSpells':_0x48f18d,'$dispSpell':_0x41c4e2,'$wrpSlotLevelSelect':_0x1bb738});else this[_0x3c06ad(0x1cb)]({'ix':_0x11b537});}async[_0x248b50(0x1a7)](_0xc65cf2,{cls:_0x399725,sc:_0x129bdf,$stgSpellsTable:_0x253582}){const _0x5aa297=_0x248b50,{lockChangeSubclassTable:_0x2fec4a}=this[_0x5aa297(0x19b)][_0x5aa297(0x1b6)](_0xc65cf2);try{await this[_0x5aa297(0x187)](_0x2fec4a),await this[_0x5aa297(0x1f0)](_0xc65cf2,{'cls':_0x399725,'sc':_0x129bdf,'$stgSpellsTable':_0x253582});}finally{this[_0x5aa297(0x229)](_0x2fec4a);}}async[_0x248b50(0x1f0)](_0x31b375,{cls:_0x8357f3,sc:_0x344e02,$stgSpellsTable:_0x2e25d6}){const _0x5a0fce=_0x248b50,_0x6e8678=_0x8357f3?await DataUtil['class'][_0x5a0fce(0x1d1)](_0x8357f3):null,_0x3d8092=_0x344e02?await DataUtil[_0x5a0fce(0x1c7)][_0x5a0fce(0x1c4)](_0x344e02):null,_0x2b773e=DataConverterClass[_0x5a0fce(0x1ad)](_0x6e8678,_0x3d8092,{'isSpellsOnly':!![]});_0x2e25d6[_0x5a0fce(0x1fa)]('')[_0x5a0fce(0x203)](_0x2b773e);}static[_0x248b50(0x1b6)](_0x5cfd1b){const _0x3808ee=_0x248b50;return{'lockChangeSubclassTable':'spell_'+_0x5cfd1b+_0x3808ee(0x197)};}['_hk_onChangeLevel'](_0x2c90ea,{$wrpLeftInner:_0x5d6175,$wrpRightInner:_0x9962b}){const _0x58e9b1=_0x248b50,{propIxClass:_0x1a6f90,propIxSubclass:_0x17e826,propCurLevel:_0x55f376,propTargetLevel:_0x4e495f}=ActorCharactermancerBaseComponent[_0x58e9b1(0x1a6)](_0x2c90ea),_0x49bb7a=this['_parent'][_0x58e9b1(0x1dc)][_0x58e9b1(0x21f)]({'propIxClass':_0x1a6f90}),_0x4c7959=this[_0x58e9b1(0x17b)][_0x58e9b1(0x1dc)][_0x58e9b1(0x19c)]({'cls':_0x49bb7a,'propIxSubclass':_0x17e826}),_0x45fcc3=this[_0x58e9b1(0x17b)][_0x58e9b1(0x1dc)][_0x58e9b1(0x1d6)][_0x55f376]??0x0,_0x5a659b=this['_parent']['compClass']['state'][_0x4e495f],_0x17fc11=DataConverter[_0x58e9b1(0x212)](_0x49bb7a?.[_0x58e9b1(0x1d8)],_0x4c7959?.[_0x58e9b1(0x1d8)]),_0xa8de8e=Charactermancer_Spell_Util['getCasterProgressionMeta']({'casterProgression':_0x17fc11,'curLevel':_0x45fcc3,'targetLevel':_0x5a659b});if(this[_0x58e9b1(0x1e4)][_0x2c90ea]){if(_0xa8de8e){const {spellLevelLow:_0x5f279d,spellLevelHigh:_0x4b1527}=_0xa8de8e;this[_0x58e9b1(0x1e4)][_0x2c90ea][_0x58e9b1(0x1a0)]=_0x5f279d,this[_0x58e9b1(0x1e4)][_0x2c90ea][_0x58e9b1(0x17c)]=_0x4b1527;}else this[_0x58e9b1(0x1e4)][_0x2c90ea][_0x58e9b1(0x1a0)]=null,this[_0x58e9b1(0x1e4)][_0x2c90ea]['spellLevelHigh']=null;this[_0x58e9b1(0x1e4)][_0x2c90ea]['maxLearnedCantrips']=Charactermancer_Spell_Util[_0x58e9b1(0x224)]({'cls':_0x49bb7a,'sc':_0x4c7959,'targetLevel':_0x5a659b}),this[_0x58e9b1(0x1e4)][_0x2c90ea][_0x58e9b1(0x1b7)]=this[_0x58e9b1(0x22a)](_0x2c90ea,_0x49bb7a,_0x4c7959,_0x5a659b),this['_compsSpellSpells'][_0x2c90ea][_0x58e9b1(0x228)]=this['_spell_getFixedLearnedProgression'](_0x2c90ea,_0x49bb7a,_0x4c7959,_0x5a659b,{'isDefault':!![]}),this[_0x58e9b1(0x1e4)][_0x2c90ea][_0x58e9b1(0x21a)]=this[_0x58e9b1(0x226)][_0x58e9b1(0x1f9)];}this[_0x58e9b1(0x210)](_0x2c90ea);this['_compsSpellSpellSlotLevelSelect'][_0x2c90ea]&&(this[_0x58e9b1(0x1be)][_0x2c90ea]['curLevel']=_0x45fcc3,this[_0x58e9b1(0x1be)][_0x2c90ea][_0x58e9b1(0x1d4)]=_0x5a659b,this[_0x58e9b1(0x1be)][_0x2c90ea][_0x58e9b1(0x1ec)]=_0x49bb7a?.['spellsKnownProgression']||_0x4c7959?.[_0x58e9b1(0x1ec)],this[_0x58e9b1(0x1be)][_0x2c90ea][_0x58e9b1(0x1d8)]=_0x17fc11,this[_0x58e9b1(0x1be)][_0x2c90ea][_0x58e9b1(0x21b)]=_0x49bb7a?.[_0x58e9b1(0x21b)]||_0x4c7959?.['spellsKnownProgressionFixed'],this[_0x58e9b1(0x1be)][_0x2c90ea][_0x58e9b1(0x1e3)]=_0x49bb7a?.[_0x58e9b1(0x1e3)]||_0x4c7959?.[_0x58e9b1(0x1e3)]);if(this[_0x58e9b1(0x1a3)][_0x2c90ea]){this[_0x58e9b1(0x1a3)][_0x2c90ea][_0x58e9b1(0x1af)]=_0x45fcc3,this['_compsSpellAdditionalSpellClass'][_0x2c90ea]['targetLevel']=_0x5a659b;if(_0xa8de8e){const {spellLevelLow:_0x2a1067,spellLevelHigh:_0x4c99f6}=_0xa8de8e;this[_0x58e9b1(0x1a3)][_0x2c90ea][_0x58e9b1(0x1a0)]=_0x2a1067,this['_compsSpellAdditionalSpellClass'][_0x2c90ea][_0x58e9b1(0x17c)]=_0x4c99f6;}else this[_0x58e9b1(0x1a3)][_0x2c90ea][_0x58e9b1(0x1a0)]=null,this[_0x58e9b1(0x1a3)][_0x2c90ea][_0x58e9b1(0x17c)]=null;}if(this[_0x58e9b1(0x21d)][_0x2c90ea]){this[_0x58e9b1(0x21d)][_0x2c90ea]['curLevel']=_0x45fcc3,this['_compsSpellAdditionalSpellSubclass'][_0x2c90ea][_0x58e9b1(0x1d4)]=_0x5a659b;if(_0xa8de8e){const {spellLevelLow:_0x50f787,spellLevelHigh:_0x2695f0}=_0xa8de8e;this['_compsSpellAdditionalSpellSubclass'][_0x2c90ea][_0x58e9b1(0x1a0)]=_0x50f787,this['_compsSpellAdditionalSpellSubclass'][_0x2c90ea]['spellLevelHigh']=_0x2695f0;}else this[_0x58e9b1(0x21d)][_0x2c90ea][_0x58e9b1(0x1a0)]=null,this[_0x58e9b1(0x21d)][_0x2c90ea][_0x58e9b1(0x17c)]=null;}if(_0x49bb7a){const _0x598a8a=this[_0x58e9b1(0x19b)]['_spell_isCasterClassAtLevel'](_0x49bb7a,_0x4c7959,_0x5a659b);_0x5d6175['toggleVe'](_0x598a8a);const _0x2a073e=this['constructor'][_0x58e9b1(0x1f1)](_0x49bb7a,_0x4c7959);_0x9962b[_0x58e9b1(0x177)](_0x2a073e);}}static['_spell_isClassCaster'](_0x3607a1,_0x3e98e0){const _0x1cef7b=_0x248b50;return _0x3607a1?.[_0x1cef7b(0x1d8)]||_0x3e98e0?.[_0x1cef7b(0x1d8)]||_0x3607a1?.['additionalSpells']||_0x3e98e0?.[_0x1cef7b(0x191)];}static[_0x248b50(0x185)](_0x1eea66,_0x2dc398,_0x52d96b){const _0x522eeb=_0x248b50;if(!this[_0x522eeb(0x1f1)](_0x1eea66,_0x2dc398))return![];if(_0x52d96b==null)return![];const {casterProgression:_0x4647e1}=Charactermancer_Class_Util[_0x522eeb(0x1c9)](_0x1eea66,_0x2dc398,{'targetLevel':_0x52d96b}),_0x2c034c=UtilDataConverter[_0x522eeb(0x1ba)][_0x4647e1];if((_0x2c034c?.[_0x52d96b-0x1]||[])['some'](Boolean))return!![];if(this[_0x522eeb(0x19a)](_0x1eea66?.[_0x522eeb(0x191)],_0x52d96b))return!![];if(this['_spell_isCasterClassAtLevel_additionalSpells'](_0x2dc398?.['additionalSpells'],_0x52d96b))return!![];return![];}static['_spell_isCasterClassAtLevel_additionalSpells'](_0x23da0c,_0x4bb6a0){const _0x100b99=_0x248b50;if(!_0x23da0c)return![];if(_0x4bb6a0==null)return![];return _0x23da0c['some'](_0xb36142=>this[_0x100b99(0x1c0)](_0xb36142,_0x4bb6a0));}static[_0x248b50(0x1c0)](_0x24894f,_0xfe3d3b){const _0xcc50af=_0x248b50,_0x3b6967=Object[_0xcc50af(0x1d5)](_0x24894f);for(const _0x371e85 of _0x3b6967){switch(_0x371e85){case _0xcc50af(0x216):case'prepared':case _0xcc50af(0x1fb):{const _0x6f6429=Object[_0xcc50af(0x1d5)](_0x24894f[_0x371e85]||{})[_0xcc50af(0x1a2)](_0x152ba8=>{const _0x34dc2c=_0xcc50af,_0x492ff8=/^s(\d+)$/i[_0x34dc2c(0x201)](_0x152ba8);if(_0x492ff8)return![];if(isNaN(_0x152ba8))return![];return Number(_0x152ba8)<=_0xfe3d3b;});if(_0x6f6429)return!![];}}}return![];}[_0x248b50(0x1aa)]({ix:_0x32dd48,cls:_0x3188f5,sc:_0x1b4688,existingClassMeta:_0x525da2}){const _0x5ba923=_0x248b50;if(!_0x525da2?.[_0x5ba923(0x17d)])return null;const _0xd57388=this[_0x5ba923(0x1be)][_0x32dd48]?this[_0x5ba923(0x1be)][_0x32dd48][_0x5ba923(0x1ff)]():null,_0x28ced7=this['_parent'][_0x5ba923(0x1c8)][_0x5ba923(0x194)]();return Charactermancer_Spell_Util['getExistingCasterMeta']({'cls':_0x3188f5,'sc':_0x1b4688,'actor':this[_0x5ba923(0x195)],'targetLevel':_0x525da2[_0x5ba923(0x17d)],'formDataSlotSelectFromComp':_0xd57388,'abilityScoresFromComp':_0x28ced7});}[_0x248b50(0x188)](){return{'spells_isIncludeUaEtcSpellLists':![]};}}export{ActorCharactermancerSpell};