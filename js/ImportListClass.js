const _0x74276c=_0x48c1;(function(_0x55b5d0,_0xd4346b){const _0x51d8e2=_0x48c1,_0x497bba=_0x55b5d0();while(!![]){try{const _0x498a68=parseInt(_0x51d8e2(0x21c))/0x1+-parseInt(_0x51d8e2(0x162))/0x2*(parseInt(_0x51d8e2(0x191))/0x3)+parseInt(_0x51d8e2(0x311))/0x4*(-parseInt(_0x51d8e2(0x252))/0x5)+parseInt(_0x51d8e2(0x246))/0x6*(parseInt(_0x51d8e2(0x20d))/0x7)+parseInt(_0x51d8e2(0x2da))/0x8*(parseInt(_0x51d8e2(0x182))/0x9)+parseInt(_0x51d8e2(0x140))/0xa+-parseInt(_0x51d8e2(0x1e9))/0xb;if(_0x498a68===_0xd4346b)break;else _0x497bba['push'](_0x497bba['shift']());}catch(_0x255426){_0x497bba['push'](_0x497bba['shift']());}}}(_0x2b94,0xd288f));import{Vetools}from'./Vetools.js';import{LGT,Util}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterClass}from'./DataConverterClass.js';import{DataConverterClassSubclassFeature}from'./DataConverterClassSubclassFeature.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';function _0x2b94(){const _0x1702f8=['pImportSubclass','pct','SheetAdapterActorSheet5eCharacter','_pack','_pValidateUserLevelIndices','armorProficiencies','ancestorSubclassName','spellcastingAbility','_AE_LABEL_BASE_AC','/template/ImportListClass.hbs','ixSubclass','SOURCE_TYP_OFFICIAL_ALL','Importing\x20subclass\x20\x22','pCacheAndGet','getActorSpell','scrollIntoView','simple','425468iIXZGY','$row','getSpellPointTotal','info','__state','addFauxOptionalFeatureFeatures','_pageFilter','getPsiPointTotal','psiPointsResource','trimObject','Feat','_pImportListItems','SYM_UI_SKIP','startingEquipment','STR_SEE_CONSOLE','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Ability\x20Score\x20Improvement</button>','existingSubclassItem','toLowerCase','_pImportEntry_pFinalise','_pImportEntry_pFillClassData','subclasses','_getActorUpdate','pHasClassSideLoadedEffects','existingClassItem','SOURCE_TYP_CUSTOM','full','spellsKnownProgressionFixed','Class\x20item\x20\x22','prof','<div\x20class=\x22text-center\x22\x20title=\x22Remaining\x22></div>','\x20SOURCE\x20','levels','utils','_$getBtnLevelUp','classItem','classItemUpdate','isTemp','pAddActorEffects','pFillActorLanguageData','isSetXp','mode','ImportListClass_SheetLevelUpButtonAdapter_savedSelection','_pGetAvailableClassSubclassFromName','Level\x20up\x20complete!','Utils','bind','getExistingClassItems','title','folder','getImportedEmbed','_pGetProficiencyMeta','ImportEntryOpts','skillProficiencies','_pImportListItems_background','\x20via\x20Class\x20Importer','_pGetUserClassSubclassItem','curLevel','.selectSubclass','pGetCreateActorPsiPointsItem','1\x20+\x20@mod','importedClassFeatureLevelledEmbeddedDocuments','packUid','</h3>','click','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x20no-wrap\x22><i\x20class=\x22fas\x20fa-fw\x20fa-plus-circle\x22></i>\x20Add\x20New\x20Class\x20(Multiclass)</button>','hover','Select\x20Existing\x20Items\x20to\x20Import\x20','getIndexPathToParent','center','SRD','some','total','_$iptSearch','isPersistClassItemUpdate','con','_pImportEntry_getApproxPreviousMaxLevel','isCancelled','ml-2\x20ve-self-flex-center\x20b-0','join','handleFilterChange','get','isNonstandardSource','currency','_comp','Level\x20Up','disabled','text','.imp-cls__btn-sheet-level-up','MODE_ROLL','none','getChildByIndexPath','classFeatures','$iptBonus','Task','pGetDefaultFilterValues','_INDEX_PATH','addEventListener','trim','PG_CLASSES','Prepared\x20Spells','DataSourceFile','_getExistingClassItems','isCharacter','pAddActorItems','getClassFromExistingClassItem','\x20Levels\x20To','pGetUserEnum','includes','<hr\x20class=\x22hr-1\x22><h3\x20class=\x22mb-2\x20mt-0\x22>Selected:\x20','strBonus','pInit','absorbFnBindListeners','_removeExistingButton','Unhandled\x20Hit\x20Points\x20increase\x20mode\x20\x22','existing','subclassItemToCreate','isRadio','Base/Unarmored\x20AC','isStreamerMode','data','import','pImportEquipmentItemEntries','Bonus','_isDataEntered','_getAsTag','<button\x20class=\x22btn\x20btn-primary\x20mr-2\x22>Confirm</button>','Ability\x20Score\x20Improvement—Level\x20','focus','list-multi-selected','_getDuplicateMeta','pRunTasks','close','_page','_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom','UserChoose','isSkip','importClass','min','_getBrewSpellSources','dex','_foundryIsSkipImportPreparedSpells','_pImportEntry_pAddUpdateClassItem','_pImportEntry_pHandleFeatures','cha','getMaxWindowHeight','constructor','find','_pGetSelectedLevelIndices','visibleItems','warn','isAddLevelUpButton','_ITEM_NAME_UNARMED_STRIKE','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x20no-wrap\x22\x20title=\x22Level\x20up\x20this\x20class\x22><i\x20class=\x22fas\x20fa-fw\x20fa-arrow-alt-circle-up\x22></i>\x20Level\x20','pGetSources','getFeat','classList','Component','fromObject','class_subclass','proficiency','./ChooseImporter.js','_pImportEntry_handleConDifference','getExistingProficienciesFvttSavingThrows','Import\x20Level\x20','contains','initBtnSortHandlers','vulnerable','wis','importPsionic','getBaseAbilityScores','_pImportEntry_pGetCurLevelFillClassData','2450580uqmZSK','getCurrentAbilityScores','getSpellPointsResource','_foundryConFinal','pSerialAwaitMap','_pImportClassSubclass_pImportToActor','toggleVe','EVNT_VALCHANGE','pGetUserBoolean','hasActorSpellPointSlotEffect','description','spells','<p>Do\x20you\x20want\x20to\x20populate\x20the\x20spellbook\x20for\x20this\x20class\x20(for\x20class\x20level','classAbilityScoreIncrease','You\x20have\x20selected\x20a\x20single\x20level\x20to\x20import\x20(level\x20','_getExistingSubclassItems','page','_pImportEntry_pFillPreparedSpells','savingThrowProficiencies','sourceJsonToColor','_$btnReset','type','skills','\x22\x20by\x20name','armorProf','addClass','(Unnamed\x20class)','importSpell','preparedSpells','Alternatively,\x20you\x20may\x20gain\x20a\x20level\x20in\x20a\x20new\x20class,\x20if\x20your\x20DM\x20allows\x20{@variantrule\x20multiclassing|phb}.','_pDoResolve','loadeds','Imported\x20\x22','isPersistSubclassItemUpdate','18VbZhnS','forEach','attributes','TASK_EXIT_SKIPPED_DUPLICATE','pImportClass','absorbFnGetData','_getFilterNamespace','subclassFeature','_titleSearch','ExistingFeatureChecker','_$btnToggleSummary','actor','DataSourceSpecial','subRows','<button\x20class=\x22btn\x20btn-default\x22>Cancel</button>',')\x20did\x20not\x20have\x20a\x20valid\x20\x22levels\x22\x20value!','_state','You\x20have\x20selected\x20a\x20subclass\x20to\x20import,\x20but\x20have\x20no\x20class\x20levels.\x20Would\x20you\x20like\x20to\x20import\x20the\x20class\x20too?','getMaxPreparedSpellsFormula','$getIptNumber','Please\x20select\x20something\x20to\x20import!','_SUPPORTED_SHEETS','PG_FEATS','MODE_NONE','doAbsorbItems','spellcasting','_pImportEntry_pDoUpdateCharacter_spellcasting','select','_cachedData','weaponProficiencies','ticker','hashSubclass','2538333oZuVqX','_gameProp','generic','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','embeddedDocument','disableExperienceTracking','sortName','toUpperCase','dnd5e','getAllFeatures','additionalSpells','assign','hasSourceJson','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Feat</button>','getOrSet','174444JIkGcH','items','Unknown\x20proficiency\x20import\x20mode\x20\x22','_pGetAvailableClassSubclass','pGetClassImagePath','(Unnamed\x20Class)','_pGetSources','C_SPELL_POINTS_RESOURCE__SHEET_ITEM','sourceSubclass','toMessage','<p><i>','floor','unsetOverride','Psi\x20Points','name','isStubSubclass','values','<button\x20class=\x22btn\x20btn-5et\x20btn-xxs\x20ml-1\x20imp-cls__btn-sheet-level-up\x20ve-flex-vh-center\x22\x20type=\x22button\x22><i\x20class=\x22fas\x20fa-fw\x20fa-arrow-alt-circle-up\x20mx-auto\x20pl-1p\x22></i></button>','_pImportEntry_pDoUpdateCharacter_spellcasting_spellPsiPoints_resource','filter','<div\x20class=\x22col-2\x20text-center\x22></div>','has','then','getDedupedData','_pImportEntry_pFillSubclassData','_foundryAllFeatures','conFinal','pSetContent','bludgeoning','SheetAdapter','source','getCasterProgression','cls','Custom\x20URL','_$getBtn','notifications','rollOnArray','pGetClassItemEffects','Please\x20select\x20a\x20feat!','classSpells','Choose\x20Subclass?','active','ACTIVE_EFFECT_MODES','ixItemSubclass','toggleClass','_pImportEntry_pDoUpdateCharacter_profBonus','subclassSpells','<button\x20class=\x22btn\x20btn-primary\x20btn-5et\x22>Confirm</button>','remove','Select\x20Existing\x20Item\x20to\x20Import\x20','document','getGenericEffect','sort','_$wrpBtnsSort','prepend','HP\x20Increase','_$bntFilter',')\x20from\x20flags','pUpdateEmbeddedDocuments','_activateListeners_initRunButton','filterBox','_getDefaultState','error','getMaxCasterProgression','actorUpdate','Please\x20enter\x20a\x20combination\x20of\x20ability\x20score\x20changes\x20which\x20adds\x20up\x20to\x20two!','_pImportEntry_pFillItemArrayPredefinedFeatures','gainSubclassFeature','int','C_SPELL_POINTS_MODE__DISABLED','CASTER_TYPE_TO_PROGRESSION','DISPLAY_NAME_TYPE_PLURAL','propDroppable','Unhandled\x20feature\x20type\x20\x22','log','_CACHE_CLASS_DATA','toolProf','STR_GENERIC','isDataEntered','_pImportEntry_pDoUpdateCharacter_spellcasting_slots','minimumRole','Populate\x20Spellbook','flat','chosenProficiencies','veapp__msg-error','_list','Import\x20Only\x20Subclass','getAbilityModifier','5885033EHzaEL','copy','value','casterProgression','init','Import\x20Class\x20and\x20Subclass','getBaseHp','conditionImmune','spellLevelHigh','SOURCE_JSON_TO_ABV','raw_subclass','proficiencyImportMode','_pImportEntry_pAddUnarmedStrike','_actor','intBonus','pPostLoad','sourceLong','pGetAllSpells','reduce','LEVEL_XP_REQUIRED','shortName','subclassItem','$getHoverContent_stats','numLevels','_pImportEntry_pGetUserExistingClassSubclassItem','append','_pImportEntry_pAddToTargetTableIfRequired','btn-pulse','MODULE_LOCATION','_pGetSourcesHomebrew','numLevelsPrev','_$btnFeelingLucky','_$btnRun','isStubClass','owner','data.details.maxPreparedSpells','7LiIeyK','dexBonus','$getSelEnum','wisBonus','subclassItemUpdate','fnBindListeners','contents','pageFilter','subclass','details','tglSel','weaponProf','form','sourceJsonToAbv','spellLevelLow','1156782chpXoT','_configGroup','_$wrpMiniPills','Select\x20Source','Spell\x20Points','conInitial','_pImportEntry_pDoUpdateCharacter_psionics','_$getBtnLevelUp_errors','Could\x20not\x20update\x20','number','push','_pImportPreparedCasterSpells','pInitFilterBox','MODE_MULTICLASS','completedStub','_render_ability','@class[','_pImportEntry_pDoUpdateCharacter_xp','toolProficiencies','rows','_dataBuilderOpts','isLevelUp','_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficienciesAndEquipment','level','<input\x20type=\x22text\x22\x20class=\x22text-center\x22\x20placeholder=\x220\x22>','ceil','Yes','isOverwrite','spacer','_pImportSubclass_pImportToActor','_pGetFilterValues','pGetActorSpellItemOpts','traits','last','_pImportEntry_setActorFlags','isCharactermancer','\x20SUBCLASS\x20','languageProficiencies','getSpellPointsKey','_pImportEntry_pDoUpdateCharacter_hp','\x20too?','_pImportEntry_pAddAdvancements','1033986nMsxws','sourceJsonToFull','conBonus','_pImportEntry_pFillItemArrayFeatures','\x20&#8594;\x20Level\x20','sourceJsonToStylePart','postItemActorUpdate','spellPointsResource','render','subclassShortName','isIncludesLevelOne','ability','50BcjNtu','TASK_EXIT_FAILED','AbilityScoreIncrease','Failed\x20to\x20import\x20\x22','TASK_EXIT_COMPLETE','Feats','pImportEntry','_foundryStartingProficiencyMode','_pUserInput','disableAdvancements','Class','_resolve','getCasterProgressionMeta','filterValues','label','_pImportEntry_pDoUpdateCharacter_languages','MODE_DO_NOT_INCREASE','_reject','./ImportListOptionalFeature.js','classFeature',')\x20by\x20name','change','ele','.charlevel','applyFormDataToActorUpdate','set','getClassSubclassItemTuples','Failed\x20to\x20find\x20and/or\x20load\x20class\x20\x22','_foundryIsIgnoreFeature','pGetSubclassItemEffects','firstElementChild','immune','isClassImport','./ImportListClassFeature.js','pUpdateDocument','multiclassing','Unimplemented!','_pImportListItems_foreground','cancelled','effects','ascSortLower','role','checked','split','_activateListeners_initFeelingLuckyButton','Subclass','Importing\x20class\x20\x22','getCasterCantripProgressionMeta','hpIncreaseMode','importDocument','spell','\x22\x20(','pApplyFormDataToActor','getSafe','withUnpatchedDiceRendering','pPreloadHidden','pGetSubclassItem','MODULE_NAME_FAKE','faces','chaBonus','_pCacheClassData','(Create\x20New\x20Item)','Cannot\x20Level\x20Up—no\x20known\x20classes\x20found.','sheet','formDataEquipment','URL_TO_HASH_BUILDER','targetLevel','MODE_TAKE_AVERAGE','_pImportClass_pGetProficiencyImportMode','_foundrySelectedLevelIndices','pGetClassSubclassFeatureIgnoredLookup','max','(Unnamed\x20subclass)','add','_render_feat','folderId','classSourceLong','C_SPELL_POINTS_MODE__ENABLED_AND_UNLIMITED_SLOTS','importedSubclassFeatureLevelledEmbeddedDocuments','classSource','pGetUserChoice','5etools','_pImportEntry_pFillItemArrayAdditionalSpells','getBlacklistFilteredData','pGetUserSelection','LevelledEmbeddedDocument_MinLevel1','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x22>Skip</button>','feat','_P_LOADING_CLASS_DATA','raw_class','_pImportEntry_pGetFolderId','_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies','subSubclassSpells','proficienciesGained','unpackUidClassFeature','getTotalClassLevels','You\x20can\x27t\x20increase\x20an\x20ability\x20score\x20above\x2020\x20using\x20this\x20feature.','map','Import\x20Classes','(Unnamed\x20Subclass)','activateSidebarTab','Configure\x20and\x20Open\x20List','SheetLevelUpButtonAdapter','activateListeners','getMysticProgression','pGetCreateActorSpellPointsItem','\x20total—resource\x20\x22','\x22\x20was\x20not\x20valid!','imported','item','<button\x20class=\x22btn\x20btn-default\x20mr-3\x22>Skip</button>','dropActorSheetData','Open\x20List','Failed\x20to\x20find\x20and/or\x20load\x20subclass\x20\x22','_pImportEntry_pDoUpdateExistingDirectoryEntity','MODE_PRIMARY','_pImportEntry','_pImportEntry_pDoUpdateExistingPackEntity','appendTo','pGetClassItem','ixItemClass','\x22\x20(from\x20\x22','hash','getData','addButton','_handleFilterChange','ixClass','_pImportClass_pImportToItems','errors','setOverride','settings','Class/subclass\x20feature\x20had\x20neither\x20\x22classFeature\x22\x20nor\x20\x22subclassFeature\x22\x20set!\x20This\x20should\x20never\x20occur!','pact','_pPostLoad_pGetAllOptionalFeatures','registerSupportedSheet','pWaitForUserInput','40SYlQUH','prop','getAbilityModNumber','_pImportSubclass_pImportToItems','getExistingSubclassItems','str','keys','_tagFirstSubclassLoaded','isHpAvailable','_addHookBase','pGetUserInput','OVERRIDE','isAddUnarmedStrike','_pGetUserClassSubclassItems','length','classItemToCreate','doShowImportedNotification','feats-classAbilityScoreIncrease','/template/ImportListClassAbilityScoreIncrease.hbs','Tidy5eSheet','className','_content','create','_getLevelledEmbeddedDocuments','startingProficiencies','<div\x20class=\x22ve-flex-col\x20w-100\x20h-100\x22></div>','_fnClose','_pHandleRenderSheet','empty','getValues','expertise','_getDedupedData','entity','PRIORITY_BASE','class','Select\x20Class\x20Sources','_initCreateSheetItemHook','DataSourceUrl'];_0x2b94=function(){return _0x1702f8;};return _0x2b94();}import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{ImportListFeat}from'./ImportListFeat.js';import{ImportListCharacter}from'./ImportListCharacter.js';import{Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util,PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{Charactermancer_StartingEquipment}from'./UtilCharactermancerEquipment.js';import{Charactermancer_AdditionalSpellsSelect}from'./UtilCharactermancerAdditionalSpells.js';import{UtilDataSource}from'./UtilDataSource.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';import{UtilGameSettings}from'./UtilGameSettings.js';import{Charactermancer_Spell,Charactermancer_Spell_Modal}from'./UtilCharactermancerSpell.js';import{ImportedDocument,ImportSummary}from'./ImportList.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{ConfigConsts}from'./ConfigConsts.js';import{UtilDocuments}from'./UtilDocuments.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{Charactermancer_Spell_Util}from'./UtilCharactermancerSpellSlotLevelSelect.js';import{AppSourceSelectorMulti}from'./AppSourceSelectorMulti.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';import{UtilAdvancements}from'./UtilAdvancements.js';import{GameStorage}from'./GameStorage.js';class ImportListClass extends ImportListCharacter{static ['ID']='classes-subclasses';static [_0x74276c(0x1d8)]='Classes\x20&\x20Subclasses';static ['_']=this['registerImpl'](this);static[_0x74276c(0x1ed)](){const _0x303fee=_0x74276c,_0x597291={'isForce':!![],'fnGetSuccessMessage':({ent:_0x1367c7})=>_0x303fee(0x160)+(_0x1367c7[_0x303fee(0x2ee)]||_0x1367c7[_0x303fee(0x19f)])+'\x22'+(_0x1367c7[_0x303fee(0x24f)]?'\x20('+_0x1367c7[_0x303fee(0x19f)]+')':'')+_0x303fee(0x347),'fnGetFailedMessage':({ent:_0x335640})=>_0x303fee(0x255)+(_0x335640[_0x303fee(0x2ee)]||_0x335640[_0x303fee(0x19f)])+'\x22'+(_0x335640[_0x303fee(0x24f)]?'\x20('+_0x335640[_0x303fee(0x19f)]+')':'')+'!\x20'+VeCt[_0x303fee(0x31f)]};this[_0x303fee(0x2fe)]({..._0x597291,'prop':'class','importerName':_0x303fee(0x25c)}),this[_0x303fee(0x2fe)]({..._0x597291,'prop':_0x303fee(0x215),'importerName':_0x303fee(0x27f)}),Hooks['on'](_0x303fee(0x2c1),(_0x389e38,_0x39a1c0,_0x18f5b0)=>{const _0x19e992=_0x303fee;if(!Config[_0x19e992(0x361)]('importClass','isSuppressAdvancementsOnImportedDrop'))return;if(_0x18f5b0?.['type']!=='Item')return;const _0x5ed51c=game['items'][_0x19e992(0x361)](_0x18f5b0['id']);if(!_0x5ed51c)return;const _0x28fb08=_0x5ed51c['getFlag'](SharedConsts[_0x19e992(0x28b)],_0x19e992(0x1d9));if(!['class',_0x19e992(0x215)][_0x19e992(0x100)](_0x28fb08))return;const _0x41b619=game[_0x19e992(0x2d4)]['get'](_0x19e992(0x18a),'disableAdvancements');if(_0x41b619)return;GameStorage[_0x19e992(0x2d3)](_0x19e992(0x18a),'disableAdvancements',!![]),setTimeout(()=>{const _0x9a4cd1=_0x19e992;GameStorage[_0x9a4cd1(0x19d)](_0x9a4cd1(0x18a),_0x9a4cd1(0x25b));},0xc8);}),ImportListClass[_0x303fee(0x2b8)][_0x303fee(0x1ed)]();}constructor(_0x114b32){const _0x305454=_0x74276c;_0x114b32=_0x114b32||{},super({'title':_0x305454(0x2b4),'template':SharedConsts[_0x305454(0x205)]+_0x305454(0x309),'height':Util[_0x305454(0x125)](),'resizable':!![]},_0x114b32,{'namespace':_0x305454(0x133),'dirsHomebrew':[_0x305454(0x2fc),_0x305454(0x215)],'defaultFolderPath':['Classes'],'sidebarTab':'items','gameProp':_0x305454(0x192),'pageFilter':new PageFilterClassesFoundry(),'isDedupable':!![],'configGroup':_0x305454(0x11d),'page':UrlUtil[_0x305454(0xf7)]}),this[_0x305454(0x17e)]=null;}async[_0x74276c(0x1ac)](_0x3f8a9c){const _0x2e341e=_0x74276c;await super[_0x2e341e(0x1ac)](_0x3f8a9c),this[_0x2e341e(0x17e)]=null;}static async['pPostLoad'](_0x577a81,{actor:_0x413a3f}={}){const _0x2edbcb=_0x74276c,_0x5b9e81=await DataConverterClassSubclassFeature[_0x2edbcb(0x298)]({'data':_0x577a81}),_0x593f77=await PageFilterClassesFoundry[_0x2edbcb(0x1f8)](_0x577a81,{'actor':_0x413a3f,'isIgnoredLookup':_0x5b9e81});return Charactermancer_Class_Util[_0x2edbcb(0x316)](_0x593f77,await this[_0x2edbcb(0x2d7)]()),_0x593f77;}async[_0x74276c(0x197)](){const _0x196b8a=_0x74276c;return[new UtilDataSource[(_0x196b8a(0x16e))](Config[_0x196b8a(0x361)]('ui',_0x196b8a(0x10b))?_0x196b8a(0x356):_0x196b8a(0x2a3),Vetools['pGetClasses'],{'cacheKey':'5etools-classes','pPostLoad':_0x329924=>this[_0x196b8a(0x126)][_0x196b8a(0x1f8)](_0x329924,{'actor':this[_0x196b8a(0x1f6)]}),'filterTypes':[UtilDataSource[_0x196b8a(0x30b)]],'isDefault':!![]}),new UtilDataSource[(_0x196b8a(0x2ff))](_0x196b8a(0x1b2),'',{'pPostLoad':_0x129fe9=>this[_0x196b8a(0x126)][_0x196b8a(0x1f8)](_0x129fe9,{'actor':this[_0x196b8a(0x1f6)]}),'filterTypes':[UtilDataSource[_0x196b8a(0x329)]]}),new UtilDataSource[(_0x196b8a(0xf9))]('Upload\x20File',{'pPostLoad':_0x24b51c=>this[_0x196b8a(0x126)][_0x196b8a(0x1f8)](_0x24b51c,{'actor':this[_0x196b8a(0x1f6)]}),'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),...await this[_0x196b8a(0x206)]({'pPostLoad':_0x276b5a=>this['constructor'][_0x196b8a(0x1f8)](_0x276b5a,{'actor':this[_0x196b8a(0x1f6)]})})];}[_0x74276c(0x2cd)](){const _0xaf60b9=_0x74276c;if(this[_0xaf60b9(0x17e)]&&this[_0xaf60b9(0x17e)][_0xaf60b9(0x109)]!==!!this[_0xaf60b9(0x1f6)])this['_cachedData']=null;this[_0xaf60b9(0x17e)]=this[_0xaf60b9(0x17e)]||{'titleButtonRun':this['_titleButtonRun'],'titleSearch':this[_0xaf60b9(0x16a)],'rows':this[_0xaf60b9(0x2ef)][_0xaf60b9(0x1c5)]((_0x3038b7,_0x451342)=>SortUtil[_0xaf60b9(0x27a)](_0x3038b7[_0xaf60b9(0x19f)],_0x451342[_0xaf60b9(0x19f)])||SortUtil[_0xaf60b9(0x27a)](Parser[_0xaf60b9(0x247)](_0x3038b7[_0xaf60b9(0x1af)]||SRC_PHB),Parser[_0xaf60b9(0x247)](_0x451342[_0xaf60b9(0x1af)]||SRC_PHB)))[_0xaf60b9(0x2b3)]((_0x539147,_0xfcd469)=>{const _0x5449d7=_0xaf60b9;return this[_0x5449d7(0x317)][_0x5449d7(0x126)]['mutateForFilters'](_0x539147),{'name':_0x539147[_0x5449d7(0x19f)],'source':_0x539147[_0x5449d7(0x1af)],'sourceShort':Parser['sourceJsonToAbv'](_0x539147[_0x5449d7(0x1af)]),'sourceLong':Parser[_0x5449d7(0x247)](_0x539147[_0x5449d7(0x1af)]),'sourceClassName':Parser[_0x5449d7(0x153)](_0x539147['source']),'sourceStyle':BrewUtil2[_0x5449d7(0x24b)](_0x539147[_0x5449d7(0x1af)]),'ixClass':_0xfcd469,'disabled':!_0x539147[_0x5449d7(0xf0)],'subRows':(_0x539147['subclasses']||[])[_0x5449d7(0x2b3)]((_0x565646,_0x304f7e)=>({'name':_0x565646[_0x5449d7(0x19f)],'source':_0x565646[_0x5449d7(0x1af)]||_0x539147[_0x5449d7(0x1af)],'sourceShort':Parser[_0x5449d7(0x21a)](_0x565646[_0x5449d7(0x1af)]||_0x539147[_0x5449d7(0x1af)]),'sourceLong':Parser[_0x5449d7(0x247)](_0x565646[_0x5449d7(0x1af)]||_0x539147['source']),'sourceClassName':Parser[_0x5449d7(0x153)](_0x565646[_0x5449d7(0x1af)]||_0x539147['source']),'sourceStyle':BrewUtil2[_0x5449d7(0x24b)](_0x565646[_0x5449d7(0x1af)]||_0x539147[_0x5449d7(0x1af)]),'ixSubclass':_0x304f7e}))};})};if(this[_0xaf60b9(0x1f6)])this['_cachedData'][_0xaf60b9(0x109)]=!![];return this['_cachedData'];}[_0x74276c(0x2f9)]({allContentFlat:_0x39a0ab}){const _0x28a757=_0x74276c;return ImportListClass[_0x28a757(0x33d)][_0x28a757(0x1a8)]({'allContentFlat':_0x39a0ab});}['_getBlacklistFilteredData']({dedupedAllContentFlat:_0x5262a3}){const _0x17659d=_0x74276c;return ImportListClass[_0x17659d(0x33d)][_0x17659d(0x2a5)]({'dedupedAllContentFlat':_0x5262a3});}[_0x74276c(0x1cc)](){const _0xa0b1d=_0x74276c;this[_0xa0b1d(0x209)][_0xa0b1d(0x350)](async()=>{const _0x4997f1=_0xa0b1d;if(!this['_list'])return;const _0x2f98d3=this[_0x4997f1(0x1f6)]?this[_0x4997f1(0x1e6)][_0x4997f1(0x192)][_0x4997f1(0x1a4)](_0x8e4c2c=>_0x8e4c2c[_0x4997f1(0x10c)][_0x4997f1(0x217)]&&_0x8e4c2c['data'][_0x4997f1(0x217)]['classList']['contains'](_0x4997f1(0x1ba))):this[_0x4997f1(0x1e6)][_0x4997f1(0x192)][_0x4997f1(0x1a4)](_0x4f5eae=>_0x4f5eae['data']['cbSel'][_0x4997f1(0x27c)]);if(!_0x2f98d3[_0x4997f1(0x2e8)])return ui[_0x4997f1(0x1b4)][_0x4997f1(0x12a)](_0x4997f1(0x176));this[_0x4997f1(0x118)](),await this[_0x4997f1(0x31c)]({'listItems':_0x2f98d3}),this['_$cbAll']['prop'](_0x4997f1(0x27c),![])[_0x4997f1(0x267)]();});}async['_pImportListItems']({listItems:_0xb8e152,isBackground:_0x40334e}){const _0x1ceafd=_0x74276c;this[_0x1ceafd(0x2b6)]();const _0x41454c=_0xb8e152[_0x1ceafd(0x2b3)](_0x47533f=>({'ixClass':_0x47533f['data']['ixClass'],'ixSubclass':_0x47533f['data'][_0x1ceafd(0x30a)]})),_0x575082=_0x41454c[_0x1ceafd(0x2b3)](({ixClass:_0x33899f,ixSubclass:_0x55b25b})=>{const _0x3eae95=_0x1ceafd,_0x4d5381=MiscUtil[_0x3eae95(0x1ea)](this['_content'][_0x33899f]);return{'ixClass':_0x33899f,'cls':_0x4d5381,'ixSubclass':_0x55b25b,'sc':_0x55b25b!=null?_0x4d5381['subclasses'][_0x55b25b]:null};});_0x575082[_0x1ceafd(0x1a4)](_0x5a5bb6=>!_0x5a5bb6['sc'])[_0x1ceafd(0x163)](_0x1a12b3=>_0x1a12b3['cls'][_0x1ceafd(0x325)]=[]),_0x575082[_0x1ceafd(0x1c5)]((_0x5d81c7,_0x1b40d3)=>!!_0x5d81c7['sc']-!!_0x1b40d3['sc']);const _0x471277=[],_0x2fa5c3=[];_0x575082[_0x1ceafd(0x163)](_0xdf6a7d=>{const _0x57b6e8=_0x1ceafd;if(_0xdf6a7d['sc']){const _0x2571d4=_0x471277['find'](_0xb9931c=>_0xb9931c[_0x57b6e8(0x19f)][_0x57b6e8(0x322)]()===_0xdf6a7d['sc'][_0x57b6e8(0x2ee)][_0x57b6e8(0x322)]()&&_0xb9931c[_0x57b6e8(0x1af)][_0x57b6e8(0x322)]()===_0xdf6a7d['sc'][_0x57b6e8(0x2a1)][_0x57b6e8(0x322)]());if(_0x2571d4)_0x2571d4['subclasses'][_0x57b6e8(0x226)](_0xdf6a7d['sc']);else _0x2fa5c3['push']({'cls':_0xdf6a7d[_0x57b6e8(0x1b1)],'sc':_0xdf6a7d['sc']});}else _0x471277[_0x57b6e8(0x226)](_0xdf6a7d[_0x57b6e8(0x1b1)]);});if(_0x471277[_0x1ceafd(0x2e8)]||_0x2fa5c3[_0x1ceafd(0x2e8)])await this['_pDoPreCachePack']();await(_0x40334e?this[_0x1ceafd(0x346)]({'classes':_0x471277,'looseSubclasses':_0x2fa5c3}):this[_0x1ceafd(0x277)]({'classes':_0x471277,'looseSubclasses':_0x2fa5c3}));if(!this[_0x1ceafd(0x1f6)])game[this[_0x1ceafd(0x183)]][_0x1ceafd(0x24e)]();}async[_0x74276c(0x346)]({classes:_0x3bc207,looseSubclasses:_0x97612a}){const _0x1a81cd=_0x74276c;for(const _0x558e2d of _0x3bc207){try{const _0x2c54f9=await this[_0x1a81cd(0x166)](_0x558e2d);UtilApplications['doShowImportedNotification'](_0x2c54f9);}catch(_0x27f4ca){UtilApplications['doShowImportedNotification']({'entity':entry,'status':UtilApplications[_0x1a81cd(0x253)]}),console[_0x1a81cd(0x1cf)](_0x27f4ca);}}for(const {cls:_0x461bf6,sc:_0x5190d0}of _0x97612a){try{const _0x5d7644=await this['pImportSubclass'](_0x461bf6,_0x5190d0);UtilApplications[_0x1a81cd(0x2ea)](_0x5d7644);}catch(_0x487058){UtilApplications[_0x1a81cd(0x2ea)]({'entity':entry,'status':UtilApplications['TASK_EXIT_FAILED']}),console[_0x1a81cd(0x1cf)](_0x487058);}}}async[_0x74276c(0x277)]({classes:_0x581e53,looseSubclasses:_0x3a5bc0}){const _0xf28e7d=_0x74276c,_0x135f71=[..._0x581e53[_0xf28e7d(0x2b3)](_0x376cf0=>{const _0x45d9d9=_0xf28e7d;return new Util[(_0x45d9d9(0xf2))](_0x376cf0[_0x45d9d9(0x19f)]+'\x20('+Parser[_0x45d9d9(0x21a)](_0x376cf0[_0x45d9d9(0x1af)])+')',()=>this['pImportClass'](_0x376cf0));}),..._0x3a5bc0['map'](({cls:_0x142ace,sc:_0x30f7db})=>{const _0x2281dd=_0xf28e7d;return new Util[(_0x2281dd(0xf2))](_0x30f7db[_0x2281dd(0x19f)]+'\x20('+Parser[_0x2281dd(0x21a)](_0x30f7db[_0x2281dd(0x1af)])+')',()=>this[_0x2281dd(0x300)](_0x142ace,_0x30f7db));})];await UtilApplications[_0xf28e7d(0x117)](_0x135f71);}['_activateListeners_pInitFilteredList'](){const _0x5f0ed8=_0x74276c;this['_list']=new List({'$iptSearch':this['_$iptSearch'],'$wrpList':this['_$wrpList'],'fnSort':(_0x23322e,_0x1ce5ce,_0x2b48ef)=>{const _0x5ae213=_0x48c1;if(_0x2b48ef['sortDir']==='desc'&&_0x23322e[_0x5ae213(0x10c)][_0x5ae213(0x2d0)]===_0x1ce5ce[_0x5ae213(0x10c)][_0x5ae213(0x2d0)]&&(_0x23322e['data'][_0x5ae213(0x30a)]!=null||_0x1ce5ce['data'][_0x5ae213(0x30a)]!=null))return _0x23322e[_0x5ae213(0x10c)][_0x5ae213(0x30a)]!=null?-0x1:0x1;return SortUtil[_0x5ae213(0x27a)](_0x23322e[_0x5ae213(0x1a1)]['sortName'],_0x1ce5ce[_0x5ae213(0x1a1)][_0x5ae213(0x188)]);}}),SortUtil[_0x5f0ed8(0x13a)](this[_0x5f0ed8(0x1c6)],this['_list']);const _0x85d8ed=this[_0x5f0ed8(0x17e)][_0x5f0ed8(0x22f)][_0x5f0ed8(0x2b3)](_0xae5c8d=>{const _0x4b7d09=_0x5f0ed8,_0x4f6649={..._0xae5c8d};delete _0x4f6649[_0x4b7d09(0x16f)];const _0x545f0b=_0xae5c8d[_0x4b7d09(0x16f)][_0x4b7d09(0x2b3)](_0x208cc5=>({..._0x208cc5,'ixClass':_0xae5c8d[_0x4b7d09(0x2d0)],'className':_0xae5c8d[_0x4b7d09(0x19f)],'classSource':_0xae5c8d['source'],'classSourceLong':_0xae5c8d[_0x4b7d09(0x1f9)],'classSourceClassName':_0xae5c8d['sourceClassName']}));return[_0x4f6649,..._0x545f0b];})[_0x5f0ed8(0x1e3)]();return this['_pageFilter'][_0x5f0ed8(0x228)]({'$iptSearch':this[_0x5f0ed8(0x359)],'$btnReset':this[_0x5f0ed8(0x154)],'$btnOpen':this[_0x5f0ed8(0x1c9)],'$btnToggleSummaryHidden':this[_0x5f0ed8(0x16c)],'$wrpMiniPills':this[_0x5f0ed8(0x21e)],'namespace':this[_0x5f0ed8(0x168)]()})[_0x5f0ed8(0x1a7)](()=>{const _0x54ca5e=_0x5f0ed8;this[_0x54ca5e(0x2ef)][_0x54ca5e(0x163)](_0x3ff0f7=>this[_0x54ca5e(0x317)]['addToFilters'](_0x3ff0f7));const _0x167480={'fnGetName':_0x558e33=>_0x558e33['name'],'fnGetValues':_0x12c64f=>{const _0x2245db=_0x54ca5e;if(_0x12c64f['ixSubclass']!=null)return{'sortName':_0x12c64f[_0x2245db(0x2ee)]+'\x20SOURCE\x20'+_0x12c64f[_0x2245db(0x29e)]+_0x2245db(0x240)+_0x12c64f['name']+_0x2245db(0x32f)+_0x12c64f[_0x2245db(0x1f9)],'source':_0x12c64f[_0x2245db(0x1af)],'hash':UrlUtil[_0x2245db(0x293)][_0x2245db(0x215)](_0x12c64f)};return{'sortName':_0x12c64f[_0x2245db(0x19f)]+_0x2245db(0x32f)+_0x12c64f['sourceLong'],'source':_0x12c64f[_0x2245db(0x1af)],'hash':UrlUtil[_0x2245db(0x293)][this[_0x2245db(0x119)]](_0x12c64f)};},'fnGetData':(_0x56cce2,_0x1124fb)=>{const _0x345278=_0x54ca5e,_0x285005=this[_0x345278(0x1f6)]?{'tglSel':_0x56cce2['ele']['firstElementChild'][_0x345278(0x270)]}:UtilList2[_0x345278(0x167)](_0x56cce2);if(_0x1124fb[_0x345278(0x30a)]!=null)return{..._0x285005,'ixClass':_0x1124fb[_0x345278(0x2d0)],'ixSubclass':_0x1124fb[_0x345278(0x30a)]};return{..._0x285005,'ixClass':_0x1124fb['ixClass']};}};this[_0x54ca5e(0x1f6)]?_0x167480['fnBindListeners']=_0x3ac04f=>{const _0x5a88ac=_0x54ca5e;_0x3ac04f[_0x5a88ac(0x268)][_0x5a88ac(0xf5)](_0x5a88ac(0x350),()=>{const _0x12f187=_0x5a88ac,_0x5e10cc=_0x3ac04f[_0x12f187(0x10c)]['ixSubclass']!=null,_0x2d6897=_0x5e10cc?this[_0x12f187(0x1e6)][_0x12f187(0x192)]['find'](_0xa14ef1=>_0xa14ef1['data']['ixClass']===_0x3ac04f[_0x12f187(0x10c)][_0x12f187(0x2d0)]&&_0xa14ef1[_0x12f187(0x10c)][_0x12f187(0x30a)]==null):null,_0x3f21f0=this['_list'][_0x12f187(0x192)][_0x12f187(0x1a4)](_0x208130=>_0x208130[_0x12f187(0x10c)][_0x12f187(0x217)][_0x12f187(0x130)][_0x12f187(0x139)]('active'));if(!_0x3f21f0[_0x12f187(0x2e8)]){_0x3ac04f[_0x12f187(0x10c)][_0x12f187(0x217)][_0x12f187(0x130)][_0x12f187(0x29b)](_0x12f187(0x1ba)),_0x3ac04f[_0x12f187(0x268)][_0x12f187(0x130)]['add'](_0x12f187(0x115));_0x5e10cc&&(_0x2d6897[_0x12f187(0x10c)][_0x12f187(0x217)][_0x12f187(0x130)][_0x12f187(0x29b)](_0x12f187(0x1ba)),_0x2d6897[_0x12f187(0x268)]['classList']['add'](_0x12f187(0x115)));return;}if(_0x3ac04f[_0x12f187(0x10c)][_0x12f187(0x217)][_0x12f187(0x130)][_0x12f187(0x139)]('active')){_0x3ac04f['data']['tglSel'][_0x12f187(0x130)][_0x12f187(0x1c1)](_0x12f187(0x1ba)),_0x3ac04f[_0x12f187(0x268)][_0x12f187(0x130)][_0x12f187(0x1c1)](_0x12f187(0x115));_0x5e10cc?(_0x2d6897[_0x12f187(0x10c)][_0x12f187(0x217)][_0x12f187(0x130)][_0x12f187(0x1c1)](_0x12f187(0x1ba)),_0x2d6897['ele']['classList'][_0x12f187(0x1c1)](_0x12f187(0x115))):_0x3f21f0[_0x12f187(0x163)](_0x5613cd=>{const _0x22d2eb=_0x12f187;_0x5613cd[_0x22d2eb(0x10c)]['tglSel'][_0x22d2eb(0x130)]['remove'](_0x22d2eb(0x1ba)),_0x5613cd[_0x22d2eb(0x268)][_0x22d2eb(0x130)][_0x22d2eb(0x1c1)](_0x22d2eb(0x115));});return;}_0x3f21f0['forEach'](_0x4d7536=>{const _0x2178ea=_0x12f187;_0x4d7536['data'][_0x2178ea(0x217)][_0x2178ea(0x130)][_0x2178ea(0x1c1)](_0x2178ea(0x1ba)),_0x4d7536['ele'][_0x2178ea(0x130)][_0x2178ea(0x1c1)](_0x2178ea(0x115));}),_0x3ac04f[_0x12f187(0x10c)][_0x12f187(0x217)]['classList'][_0x12f187(0x29b)](_0x12f187(0x1ba)),_0x3ac04f[_0x12f187(0x268)]['classList'][_0x12f187(0x29b)](_0x12f187(0x115)),_0x5e10cc&&(_0x2d6897['data']['tglSel'][_0x12f187(0x130)]['add'](_0x12f187(0x1ba)),_0x2d6897[_0x12f187(0x268)][_0x12f187(0x130)][_0x12f187(0x29b)]('list-multi-selected'));});}:_0x167480[_0x54ca5e(0x212)]=_0x18ad6f=>UtilList2[_0x54ca5e(0x104)](this[_0x54ca5e(0x1e6)],_0x18ad6f),this[_0x54ca5e(0x1e6)][_0x54ca5e(0x17a)](_0x85d8ed,_0x167480),this[_0x54ca5e(0x1e6)][_0x54ca5e(0x1ed)](),this[_0x54ca5e(0x317)]['trimState'](),this[_0x54ca5e(0x317)][_0x54ca5e(0x1cd)][_0x54ca5e(0x24e)](),this[_0x54ca5e(0x317)][_0x54ca5e(0x1cd)]['on'](FilterBox[_0x54ca5e(0x147)],this[_0x54ca5e(0x2cf)]['bind'](this)),this['_handleFilterChange']();});}['_activateListeners_initFeelingLuckyButton'](){const _0x495399=_0x74276c;if(!this['_actor'])return super[_0x495399(0x27e)]();this[_0x495399(0x208)]['click'](()=>{const _0x4a53ad=_0x495399;if(!this[_0x4a53ad(0x1e6)]||!this[_0x4a53ad(0x1e6)][_0x4a53ad(0x129)][_0x4a53ad(0x2e8)])return;const _0xa843b4=RollerUtil[_0x4a53ad(0x1b5)](this[_0x4a53ad(0x1e6)]['visibleItems']);if(!_0xa843b4)return;_0xa843b4['ele'][_0x4a53ad(0x350)](),_0xa843b4[_0x4a53ad(0x268)][_0x4a53ad(0x30f)]({'block':_0x4a53ad(0x355)});});}[_0x74276c(0x2cf)](){const _0x19fd2=_0x74276c;return ModalFilterClasses[_0x19fd2(0x360)]({'pageFilter':this[_0x19fd2(0x317)],'list':this[_0x19fd2(0x1e6)],'allData':this[_0x19fd2(0x2ef)]});}async[_0x74276c(0x2c6)](_0x39fea2,_0x51f816){const _0x6bb6ff=_0x74276c;_0x51f816=_0x51f816||{};!_0x51f816[_0x6bb6ff(0x25f)]&&!this[_0x6bb6ff(0x317)]?.[_0x6bb6ff(0x1cd)]&&(_0x51f816[_0x6bb6ff(0x25f)]=await ImportListClass[_0x6bb6ff(0xf3)]());if(_0x39fea2?.[_0x6bb6ff(0x10c)]?.[_0x6bb6ff(0x2fc)]){const _0x22130f=_0x39fea2?.['data']?.[_0x6bb6ff(0x215)];_0x39fea2=_0x39fea2?.[_0x6bb6ff(0x10c)]?.[_0x6bb6ff(0x2fc)],_0x39fea2=await Renderer[_0x6bb6ff(0x352)][_0x6bb6ff(0x30d)](_0x6bb6ff(0x2ab),_0x39fea2[_0x6bb6ff(0x1af)],UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil['PG_CLASSES']](_0x39fea2),{'isCopy':!![]});const _0x1a014a={'class':[_0x39fea2]};if(_0x22130f){const _0x2c2adb=await Renderer[_0x6bb6ff(0x352)]['pCacheAndGet'](_0x6bb6ff(0x1f3),_0x22130f[_0x6bb6ff(0x1af)],UrlUtil[_0x6bb6ff(0x293)][_0x6bb6ff(0x215)](_0x22130f),{'isCopy':!![]});_0x1a014a['subclass']=[_0x2c2adb];}const _0x4d7926=await this[_0x6bb6ff(0x126)][_0x6bb6ff(0x1f8)](_0x1a014a);_0x39fea2=_0x4d7926[0x0];if(_0x22130f){const _0x58836f=_0x39fea2['subclasses'][0x0];return _0x39fea2[_0x6bb6ff(0x325)]=[],this['pImportSubclass'](_0x39fea2,_0x58836f,_0x51f816);}}return this['pImportClass'](_0x39fea2,_0x51f816);}async[_0x74276c(0x166)](_0x416650,_0x3a1fc5){const _0x4c450f=_0x74276c;_0x3a1fc5=_0x3a1fc5||{},console[_0x4c450f(0x1db)](...LGT,_0x4c450f(0x280)+_0x416650['name']+_0x4c450f(0x2cb)+Parser['sourceJsonToAbv'](_0x416650[_0x4c450f(0x1af)])+'\x22)');if(DataConverterClass[_0x4c450f(0x20a)](_0x416650))return ImportSummary[_0x4c450f(0x22a)]();if(_0x3a1fc5[_0x4c450f(0x335)])return this['_pImportClass_pImportToItems'](_0x416650,_0x3a1fc5);if(this[_0x4c450f(0x1f6)])return this['_pImportClass_pImportToActor'](_0x416650,_0x3a1fc5);return this[_0x4c450f(0x2d1)](_0x416650,_0x3a1fc5);}async['_pImportClass_pImportToActor'](_0x346d44,_0x2f527d){const _0x1fd580=_0x74276c,_0x44e7a5=new ImportListClass[(_0x1fd580(0x344))]({'isClassImport':!![],'isCharactermancer':_0x2f527d['isCharactermancer']});let _0x435c55;!_0x346d44[_0x1fd580(0x1aa)]?(_0x435c55=Charactermancer_Class_Util[_0x1fd580(0x18b)](_0x346d44),this[_0x1fd580(0x126)][_0x1fd580(0x2e1)](_0x346d44,_0x435c55),_0x435c55=Charactermancer_Util['getFilteredFeatures'](_0x435c55,this[_0x1fd580(0x317)],_0x2f527d[_0x1fd580(0x25f)]||this[_0x1fd580(0x317)][_0x1fd580(0x1cd)][_0x1fd580(0x2f7)]())):this['constructor'][_0x1fd580(0x2e1)](_0x346d44);const _0x30623d=_0x346d44[_0x1fd580(0x325)]?.[_0x1fd580(0x2e8)]?_0x346d44[_0x1fd580(0x325)][0x0]:null;return this[_0x1fd580(0x145)]({'cls':_0x346d44,'sc':_0x30623d,'importOpts':_0x2f527d,'dataBuilderOpts':_0x44e7a5,'allFeatures':_0x435c55});}static['_tagFirstSubclassLoaded'](_0x4ccefd,_0x514fe9=null){const _0xcb8fdf=_0x74276c;let _0x536dfb;if(_0x514fe9){const _0x338b48=_0x514fe9[_0xcb8fdf(0x127)](_0x54aad0=>_0x54aad0[_0xcb8fdf(0x169)]);if(!_0x338b48?.[_0xcb8fdf(0x15f)][_0xcb8fdf(0x2e8)])return;_0x536dfb=_0x338b48[_0xcb8fdf(0x15f)];}else _0x536dfb=_0x4ccefd[_0xcb8fdf(0x1aa)][_0xcb8fdf(0x1a4)](_0x474f72=>_0x474f72['type']===_0xcb8fdf(0x169));const _0x45d938=_0x4ccefd['classFeatures'][_0xcb8fdf(0x127)](_0x55a1d6=>_0x55a1d6['gainSubclassFeature'])?.[_0xcb8fdf(0x233)];if(_0x536dfb[0x0]?.[_0xcb8fdf(0x2fa)]?.['level']!==_0x45d938)return;if(BrewUtil2[_0xcb8fdf(0x18e)](_0x536dfb[0x0]?.[_0xcb8fdf(0x2fa)]?.[_0xcb8fdf(0x1af)])&&[_0xcb8fdf(0x345),_0xcb8fdf(0x241),_0xcb8fdf(0x22e),_0xcb8fdf(0x305),_0xcb8fdf(0x17f),_0xcb8fdf(0x152),_0xcb8fdf(0x271),'resist',_0xcb8fdf(0x13b),_0xcb8fdf(0x1f0),_0xcb8fdf(0x2f8)][_0xcb8fdf(0x357)](_0xa40319=>_0x536dfb[0x0][_0xcb8fdf(0x2fa)][_0xa40319]))return;_0x536dfb[0x0]['_foundryIsIgnoreFeature']=!![];}async[_0x74276c(0x145)]({cls:_0x21131f,sc:_0x15bc69,importOpts:_0x13bd11,dataBuilderOpts:_0x681e11,allFeatures:_0x1292aa}){const _0x37c9e5=_0x74276c,_0x36df28=await this[_0x37c9e5(0x128)](_0x21131f,_0x13bd11,_0x1292aa,_0x681e11,_0x15bc69!=null);if(_0x681e11[_0x37c9e5(0x35d)])return ImportSummary[_0x37c9e5(0x278)]();await this[_0x37c9e5(0x304)](_0x36df28,_0x681e11);if(_0x681e11[_0x37c9e5(0x35d)])return ImportSummary[_0x37c9e5(0x278)]();_0x681e11[_0x37c9e5(0x294)]=Math[_0x37c9e5(0x299)](..._0x36df28)+0x1,_0x681e11[_0x37c9e5(0x200)]=_0x681e11[_0x37c9e5(0x294)]-Math[_0x37c9e5(0x11e)](..._0x36df28),_0x681e11[_0x37c9e5(0x207)]=UtilActors[_0x37c9e5(0x2b1)](this['_actor']),_0x681e11[_0x37c9e5(0x250)]=_0x21131f!=null&&_0x36df28[_0x37c9e5(0x100)](0x0),_0x681e11['proficiencyImportMode']=await this[_0x37c9e5(0x296)](_0x21131f,_0x681e11);if(_0x681e11['isCancelled'])return ImportSummary[_0x37c9e5(0x278)]();_0x681e11['hpIncreaseMode']=await this['_pImportClass_pGetHpImportMode'](_0x21131f,_0x681e11);if(_0x681e11[_0x37c9e5(0x35d)])return ImportSummary[_0x37c9e5(0x278)]();const _0x3ec312={'data':{}},_0x5a083c=await this['_pImportEntry_pGetCurLevelFillClassData'](_0x3ec312,_0x21131f,_0x15bc69,_0x13bd11,_0x681e11);if(_0x681e11[_0x37c9e5(0x35d)])return ImportSummary['cancelled']();const {curLevel:_0x41b306,existingClassItem:_0x3abd27,existingSubclassItem:_0xaf3e5a}=_0x5a083c;this[_0x37c9e5(0x23e)](_0x3ec312,_0x21131f,_0x15bc69,_0x41b306,_0x681e11),await this['_pImportEntry_pDoUpdateCharacter'](_0x3ec312,_0x21131f,_0x15bc69,_0x41b306,_0x3abd27,_0xaf3e5a,_0x681e11);if(_0x681e11[_0x37c9e5(0x35d)])return ImportSummary[_0x37c9e5(0x278)]();await this['_pImportCasterCantrips'](_0x21131f,_0x15bc69,_0x41b306,_0x13bd11,_0x681e11),await this[_0x37c9e5(0x2a4)](_0x21131f,_0x21131f[_0x37c9e5(0x325)],_0x41b306,_0x681e11);if(_0x681e11['isCancelled'])return ImportSummary[_0x37c9e5(0x278)]();if(_0x21131f[_0x37c9e5(0x15c)]&&!_0x21131f[_0x37c9e5(0x32b)])await this[_0x37c9e5(0x227)](_0x21131f,_0x15bc69,_0x41b306,_0x681e11);await this[_0x37c9e5(0x122)](_0x21131f,_0x15bc69,_0x681e11);if(_0x21131f['preparedSpells'])await this[_0x37c9e5(0x151)](_0x21131f,_0x15bc69,_0x41b306,_0x681e11);await this['_pImportEntry_pHandleFeatures'](_0x21131f,_0x15bc69,_0x1292aa,_0x36df28,_0x13bd11,_0x681e11);if(_0x681e11[_0x37c9e5(0x35d)])return ImportSummary[_0x37c9e5(0x278)]();await this[_0x37c9e5(0x1f5)](),await this[_0x37c9e5(0x245)](_0x681e11),await this[_0x37c9e5(0x323)](_0x681e11);if(this['_actor']['isToken'])this[_0x37c9e5(0x1f6)][_0x37c9e5(0x291)][_0x37c9e5(0x24e)]();return new ImportSummary({'status':UtilApplications[_0x37c9e5(0x256)],'imported':[new ImportedDocument({'name':''+_0x21131f[_0x37c9e5(0x19f)]+(_0x15bc69?'\x20('+_0x15bc69['name']+')':''),'actor':this['_actor']})]});}async[_0x74276c(0x128)](_0x552efc,_0x3ae1cc,_0x391feb,_0x32f69c,_0x402366){const _0x6c74cd=_0x74276c;if(_0x552efc[_0x6c74cd(0x297)])return _0x552efc[_0x6c74cd(0x297)];if(_0x3ae1cc[_0x6c74cd(0x330)])return _0x3ae1cc[_0x6c74cd(0x330)]['map'](_0x4d42c6=>_0x4d42c6-0x1)[_0x6c74cd(0x1a4)](_0x304506=>_0x304506>=0x0);const _0xc5374e=await Charactermancer_Class_LevelSelect[_0x6c74cd(0x2e4)]({'features':_0x391feb,'isSubclass':_0x402366,'maxPreviousLevel':this[_0x6c74cd(0x35c)](_0x552efc)});if(_0xc5374e==null)return _0x32f69c[_0x6c74cd(0x35d)]=!![];return _0xc5374e[_0x6c74cd(0x10c)];}[_0x74276c(0x35c)](_0x291de8){const _0x3f77a8=_0x74276c,_0x52bcf3=this[_0x3f77a8(0xfa)](_0x291de8);if(!_0x52bcf3[_0x3f77a8(0x2e8)])return 0x0;return Math[_0x3f77a8(0x299)](..._0x52bcf3['map'](_0x4c3aed=>_0x4c3aed[_0x3f77a8(0x10c)][_0x3f77a8(0x10c)]['levels']||0x0));}[_0x74276c(0x23e)](_0x1bc16c,_0x35e848,_0x1e1df7,_0x636146,_0x2d900a){const _0x26401b=_0x74276c,_0x3da876={'dnd5e':{}};if(Object[_0x26401b(0x2e0)](_0x3da876[_0x26401b(0x18a)])[_0x26401b(0x2e8)])_0x1bc16c['flags']=_0x3da876;}async[_0x74276c(0x296)](_0x3e2c60,_0x5842ac){const _0xfd003f=_0x74276c,_0x18732f=this[_0xfd003f(0x1f6)]['items'][_0xfd003f(0x1a4)](_0xd6adc2=>_0xd6adc2[_0xfd003f(0x155)]===_0xfd003f(0x2fc));if(!_0x5842ac[_0xfd003f(0x272)]||!_0x5842ac[_0xfd003f(0x250)]||!_0x18732f[_0xfd003f(0x2e8)])return Charactermancer_Class_ProficiencyImportModeSelect[_0xfd003f(0x2c5)];if(_0x3e2c60[_0xfd003f(0x259)]!=null)return _0x3e2c60[_0xfd003f(0x259)];const _0x5f4c09=await Charactermancer_Class_ProficiencyImportModeSelect['pGetUserInput']();if(_0x5f4c09==null)_0x5842ac[_0xfd003f(0x35d)]=!![];return _0x5f4c09[_0xfd003f(0x10c)];}async['_pImportClass_pGetHpImportMode'](_0x48307e,_0x14438c){const _0x576f42=_0x74276c;if(!Charactermancer_Class_HpIncreaseModeSelect[_0x576f42(0x2e2)](_0x48307e))return Charactermancer_Class_HpIncreaseModeSelect[_0x576f42(0x262)];if(_0x48307e['_foundryHpIncreaseMode']!=null)return _0x48307e['_foundryHpIncreaseMode'];const _0x37cc38=await Charactermancer_Class_HpIncreaseModeSelect[_0x576f42(0x2e4)]();if(_0x37cc38==null)return _0x14438c[_0x576f42(0x35d)]=!![];if(_0x37cc38===VeCt[_0x576f42(0x31d)])return Charactermancer_Class_HpIncreaseModeSelect['MODE_DO_NOT_INCREASE'];return _0x37cc38[_0x576f42(0x10c)];}async[_0x74276c(0x2d1)](_0x45ef3a,_0x231d08){const _0x230c94=_0x74276c,_0x22a400=this['_getDuplicateMeta']({'entity':_0x45ef3a,'importOpts':_0x231d08});if(_0x22a400[_0x230c94(0x11c)])return new ImportSummary({'status':UtilApplications[_0x230c94(0x165)],'imported':[new ImportedDocument({'isExisting':!![],'document':_0x22a400[_0x230c94(0x107)]})]});const _0x2b0c8c=await DataConverterClass[_0x230c94(0x2c9)](_0x45ef3a,{'isAddPermission':!![],'filterValues':_0x231d08[_0x230c94(0x25f)]||this[_0x230c94(0x317)][_0x230c94(0x1cd)][_0x230c94(0x2f7)]()});if(_0x231d08[_0x230c94(0x335)]){const _0x13b41c=await Item['create'](_0x2b0c8c,{'renderSheet':!![],'temporary':!![]}),_0x41ea5c=await(_0x45ef3a['subclasses']||[])[_0x230c94(0x144)](_0x54eec3=>this[_0x230c94(0x2dd)](_0x45ef3a,_0x54eec3,_0x231d08));return new ImportSummary({'status':UtilApplications['TASK_EXIT_COMPLETE'],'imported':[_0x13b41c,..._0x41ea5c]['map'](_0x27dca4=>new ImportedDocument({'document':_0x27dca4,'actor':this[_0x230c94(0x1f6)]}))});}else{if(this['_pack']){if(_0x22a400['isOverwrite']){const _0xff409f=await this[_0x230c94(0x2c7)](_0x22a400,_0x2b0c8c),_0x5a0392=await(_0x45ef3a[_0x230c94(0x325)]||[])[_0x230c94(0x144)](_0x2ee4be=>this[_0x230c94(0x2dd)](_0x45ef3a,_0x2ee4be,_0x231d08));return new ImportSummary({'status':UtilApplications[_0x230c94(0x185)],'imported':[_0xff409f,..._0x5a0392][_0x230c94(0x2b3)](_0x1eb1a0=>new ImportedDocument({'isExisting':!![],'document':_0x1eb1a0,'actor':this['_actor']}))});}const _0x3f196a=await Item[_0x230c94(0x2f0)](_0x2b0c8c);await this['_pack']['importDocument'](_0x3f196a);const _0x12c50d=await(_0x45ef3a[_0x230c94(0x325)]||[])[_0x230c94(0x144)](_0x51acd0=>this[_0x230c94(0x2dd)](_0x45ef3a,_0x51acd0,_0x231d08));return await this['_pImportEntry_pAddToTargetTableIfRequired']([_0x3f196a],_0x22a400),new ImportSummary({'status':UtilApplications[_0x230c94(0x256)],'imported':[_0x3f196a,..._0x12c50d][_0x230c94(0x2b3)](_0x245076=>new ImportedDocument({'document':_0x245076,'actor':this[_0x230c94(0x1f6)]}))});}else{if(_0x22a400[_0x230c94(0x237)]){const _0x26d0c7=await this[_0x230c94(0x2c4)](_0x22a400,_0x2b0c8c),_0x3796dc=await(_0x45ef3a[_0x230c94(0x325)]||[])['pSerialAwaitMap'](_0x50554f=>this['_pImportSubclass_pImportToItems'](_0x45ef3a,_0x50554f,_0x231d08));return new ImportSummary({'status':UtilApplications[_0x230c94(0x185)],'imported':[_0x26d0c7,..._0x3796dc][_0x230c94(0x2b3)](_0x269eeb=>new ImportedDocument({'isExisting':!![],'document':_0x269eeb,'actor':this['_actor']}))});}const _0x10828d=await this['_pImportEntry_pGetFolderId'](_0x45ef3a);if(_0x10828d)_0x2b0c8c[_0x230c94(0x341)]=_0x10828d;const _0x3b0408=await Item[_0x230c94(0x2f0)](_0x2b0c8c,{'renderSheet':![],'temporary':![]});await game[_0x230c94(0x192)][_0x230c94(0x26b)](_0x3b0408['id'],_0x3b0408);const _0x11a6c2=await(_0x45ef3a[_0x230c94(0x325)]||[])[_0x230c94(0x144)](_0x5743a9=>this[_0x230c94(0x2dd)](_0x45ef3a,_0x5743a9,_0x231d08,{'folderId':_0x10828d}));return new ImportSummary({'status':UtilApplications[_0x230c94(0x256)],'imported':[_0x3b0408,..._0x11a6c2]['map'](_0x1e79c0=>new ImportedDocument({'document':_0x1e79c0,'actor':this[_0x230c94(0x1f6)]}))});}}}async['pImportSubclass'](_0x567537,_0x2541d2,_0xc92a7){const _0x33169a=_0x74276c;_0xc92a7=_0xc92a7||{},console[_0x33169a(0x1db)](...LGT,_0x33169a(0x30c)+_0x2541d2[_0x33169a(0x19f)]+'\x22\x20(from\x20\x22'+Parser[_0x33169a(0x21a)](_0x2541d2[_0x33169a(0x1af)])+'\x22)');if(DataConverterClass[_0x33169a(0x20a)](_0x567537))return ImportSummary[_0x33169a(0x22a)]();if(DataConverterClass[_0x33169a(0x1a0)](_0x2541d2))return ImportSummary[_0x33169a(0x22a)]();if(_0xc92a7[_0x33169a(0x335)])return this[_0x33169a(0x2dd)](_0x567537,_0x2541d2,_0xc92a7);if(this[_0x33169a(0x1f6)])return this[_0x33169a(0x239)](_0x567537,_0x2541d2,_0xc92a7);return this[_0x33169a(0x2dd)](_0x567537,_0x2541d2,_0xc92a7);}async[_0x74276c(0x239)](_0x202b16,_0x4cdf35,_0x1a0b60){const _0x5dc32b=_0x74276c,_0x4aca70=new ImportListClass[(_0x5dc32b(0x344))]({'isClassImport':![],'isCharactermancer':_0x1a0b60['isCharactermancer']}),_0x42f78a=this[_0x5dc32b(0x1f6)]['items']['filter'](_0x3d5cd0=>_0x3d5cd0['type']===_0x5dc32b(0x2fc));if(!_0x42f78a[_0x5dc32b(0x2e8)]){const _0x257084=await InputUiUtil['pGetUserBoolean']({'title':'Import\x20Class?','htmlDescription':_0x5dc32b(0x173),'textYes':_0x5dc32b(0x1ee),'textNo':_0x5dc32b(0x1e7)});if(_0x257084==null)return _0x4aca70[_0x5dc32b(0x35d)]=!![],ImportSummary[_0x5dc32b(0x278)]();if(_0x257084===!![]){const _0x13936e=MiscUtil[_0x5dc32b(0x1ea)](_0x202b16);return _0x13936e['subclasses']=[_0x4cdf35],this[_0x5dc32b(0x166)](_0x13936e,_0x1a0b60);}}let _0x5925ad=MiscUtil[_0x5dc32b(0x1ea)](_0x4cdf35['subclassFeatures']);return this[_0x5dc32b(0x126)][_0x5dc32b(0x2e1)](_0x202b16,_0x5925ad),_0x5925ad=Charactermancer_Util['getFilteredFeatures'](_0x5925ad,this[_0x5dc32b(0x317)],_0x1a0b60['filterValues']||this[_0x5dc32b(0x317)][_0x5dc32b(0x1cd)][_0x5dc32b(0x2f7)]()),this['_pImportClassSubclass_pImportToActor']({'cls':_0x202b16,'sc':_0x4cdf35,'importOpts':_0x1a0b60,'dataBuilderOpts':_0x4aca70,'allFeatures':_0x5925ad});}async[_0x74276c(0x2dd)](_0x5414d6,_0x2e1ad9,_0x22897b,_0x2c1ae6){const _0x3448c6=_0x74276c;_0x2c1ae6=_0x2c1ae6||{};const _0x50aeb8=await DataConverterClass[_0x3448c6(0x28a)](_0x5414d6,_0x2e1ad9,{'isAddPermission':!![],'filterValues':_0x22897b[_0x3448c6(0x25f)]||this[_0x3448c6(0x317)]['filterBox']['getValues']()}),_0xb64653=this[_0x3448c6(0x116)]({'name':_0x50aeb8[_0x3448c6(0x19f)],'source':_0x50aeb8[_0x3448c6(0x10c)][_0x3448c6(0x1af)],'importOpts':_0x22897b});if(_0xb64653[_0x3448c6(0x11c)])return new ImportSummary({'status':UtilApplications[_0x3448c6(0x165)],'imported':[new ImportedDocument({'isExisting':!![],'document':_0xb64653[_0x3448c6(0x107)]})]});if(_0x22897b[_0x3448c6(0x335)]){const _0x3f4f3a=await Item[_0x3448c6(0x2f0)](_0x50aeb8,{'renderSheet':!![],'temporary':!![]});return new ImportSummary({'status':UtilApplications[_0x3448c6(0x256)],'imported':[new ImportedDocument({'document':_0x3f4f3a})]});}else{if(this['_pack']){if(_0xb64653[_0x3448c6(0x237)])return this[_0x3448c6(0x2c7)](_0xb64653,_0x50aeb8);const _0xfffa30=await Item[_0x3448c6(0x2f0)](_0x50aeb8);return await this[_0x3448c6(0x303)][_0x3448c6(0x283)](_0xfffa30),await this[_0x3448c6(0x203)]([_0xfffa30],_0xb64653),new ImportSummary({'status':UtilApplications[_0x3448c6(0x256)],'imported':[new ImportedDocument({'document':_0xfffa30})]});}else{if(_0xb64653[_0x3448c6(0x237)])return this['_pImportEntry_pDoUpdateExistingDirectoryEntity'](_0xb64653,_0x50aeb8);const _0x2bc8a2=_0x2c1ae6[_0x3448c6(0x29d)]||await this[_0x3448c6(0x2ac)](_0x2e1ad9);if(_0x2bc8a2)_0x50aeb8[_0x3448c6(0x341)]=_0x2bc8a2;const _0x1068be=await Item[_0x3448c6(0x2f0)](_0x50aeb8,{'renderSheet':![],'temporary':![]});return await game['items'][_0x3448c6(0x26b)](_0x1068be['id'],_0x1068be),new ImportSummary({'status':UtilApplications[_0x3448c6(0x256)],'imported':[new ImportedDocument({'document':_0x1068be})]});}}}async['_pImportEntry_pDoUpdateCharacter'](_0xaa349f,_0x17ff47,_0x33d804,_0x43cf31,_0x218381,_0xfe2359,_0x1506e3){const _0x3f84ae=_0x74276c,_0xb337e1=this[_0x3f84ae(0x1f6)][_0x3f84ae(0x192)][_0x3f84ae(0x1a4)](_0x476337=>_0x476337[_0x3f84ae(0x155)]==='class')[_0x3f84ae(0x1a4)](_0x2a944f=>_0x2a944f!==_0x218381),_0x94be69=this['_actor'][_0x3f84ae(0x192)][_0x3f84ae(0x1a4)](_0x76cc68=>_0x76cc68[_0x3f84ae(0x155)]===_0x3f84ae(0x215))['filter'](_0x430c32=>_0x430c32!==_0xfe2359);await this[_0x3f84ae(0x22d)]({'actUpdate':_0xaa349f,'dataBuilderOpts':_0x1506e3,'otherExistingClassItems':_0xb337e1}),await this[_0x3f84ae(0x1be)]({'actUpdate':_0xaa349f,'dataBuilderOpts':_0x1506e3}),await this[_0x3f84ae(0x17c)]({'actUpdate':_0xaa349f,'cls':_0x17ff47,'sc':_0x33d804,'dataBuilderOpts':_0x1506e3,'otherExistingClassItems':_0xb337e1,'otherExistingSubclassItems':_0x94be69}),await this[_0x3f84ae(0x222)]({'actUpdate':_0xaa349f,'cls':_0x17ff47,'sc':_0x33d804,'dataBuilderOpts':_0x1506e3,'otherExistingClassItems':_0xb337e1,'otherExistingSubclassItems':_0x94be69}),await this[_0x3f84ae(0x243)]({'actUpdate':_0xaa349f,'cls':_0x17ff47,'dataBuilderOpts':_0x1506e3}),await this['_pImportEntry_pDoUpdateCharacter_languages']({'actUpdate':_0xaa349f,'cls':_0x17ff47,'dataBuilderOpts':_0x1506e3});if(_0x1506e3[_0x3f84ae(0x35d)])return;if(Object['keys'](_0xaa349f[_0x3f84ae(0x10c)])[_0x3f84ae(0x2e8)])await UtilDocuments[_0x3f84ae(0x274)](this['_actor'],_0xaa349f);}async[_0x74276c(0x22d)]({actUpdate:_0x507303,dataBuilderOpts:_0x29cf12,otherExistingClassItems:_0x1b5cb9}){const _0x970922=_0x74276c;if(Config[_0x970922(0x361)]('importClass',_0x970922(0x338)))return;const _0x509364=_0x1b5cb9[_0x970922(0x2b3)](_0x17f1e1=>_0x17f1e1['data'][_0x970922(0x10c)][_0x970922(0x330)]||0x0)[_0x970922(0x1fb)]((_0x1f4fd9,_0x369ed8)=>_0x1f4fd9+_0x369ed8,0x0)+(_0x29cf12[_0x970922(0x294)]||0x0);if(_0x509364<=0x0)return;const _0x3c5d06=(_0x507303[_0x970922(0x10c)][_0x970922(0x216)]=_0x507303[_0x970922(0x10c)][_0x970922(0x216)]||{})['xp']=_0x507303[_0x970922(0x10c)][_0x970922(0x216)]['xp']||{},_0x16ee74=MiscUtil[_0x970922(0x361)](this[_0x970922(0x1f6)],_0x970922(0x10c),'data',_0x970922(0x216),'xp',_0x970922(0x1eb))||0x0,_0x2eae0e=Parser[_0x970922(0x1fc)][_0x509364-0x1],_0x37447d=Parser[_0x970922(0x1fc)][Math[_0x970922(0x11e)](_0x509364,0x13)];_0x16ee74<_0x2eae0e?(_0x3c5d06['pct']=0x0,_0x3c5d06[_0x970922(0x1eb)]=_0x2eae0e):_0x3c5d06[_0x970922(0x301)]=_0x16ee74/_0x37447d*0x64,_0x3c5d06[_0x970922(0x299)]=_0x37447d;}async['_pImportEntry_pDoUpdateCharacter_profBonus']({actUpdate:_0x21d879,dataBuilderOpts:_0x157e1f}){const _0xb89445=_0x74276c,_0x3dffeb=MiscUtil[_0xb89445(0x361)](this[_0xb89445(0x1f6)],'data',_0xb89445(0x10c),_0xb89445(0x164),_0xb89445(0x32d)),_0x120d7a=Math[_0xb89445(0x19c)]((_0x157e1f[_0xb89445(0x294)]-0x1)/0x4)+0x2;if(_0x3dffeb<_0x120d7a)(_0x21d879[_0xb89445(0x10c)]['attributes']=_0x21d879[_0xb89445(0x10c)][_0xb89445(0x164)]||{})['prof']=_0x120d7a;}async['_pImportEntry_pDoUpdateCharacter_spellcasting']({actUpdate:_0x439a49,cls:_0x26546f,sc:_0x9df166,dataBuilderOpts:_0x19c18b,otherExistingClassItems:_0x3bc608,otherExistingSubclassItems:_0x5783ca}){const _0x50c4c4=_0x74276c,_0x4d0eaa=Charactermancer_Class_Util[_0x50c4c4(0x1b0)](_0x26546f,_0x9df166,{'targetLevel':_0x19c18b[_0x50c4c4(0x294)],'otherExistingClassItems':_0x3bc608,'otherExistingSubclassItems':_0x5783ca}),_0x45a75d=this[_0x50c4c4(0x1e0)]({'actUpdate':_0x439a49,'dataBuilderOpts':_0x19c18b,'progressionMeta':_0x4d0eaa});!_0x45a75d&&(delete _0x439a49[_0x50c4c4(0x10c)]?.['spells'],delete _0x19c18b[_0x50c4c4(0x24c)]?.['data']?.[_0x50c4c4(0x14b)]);const {spellAbility:_0x5b66dd,totalSpellcastingLevels:_0x826598}=_0x4d0eaa;if(_0x5b66dd)(_0x439a49[_0x50c4c4(0x10c)][_0x50c4c4(0x164)]=_0x439a49[_0x50c4c4(0x10c)][_0x50c4c4(0x164)]||{})[_0x50c4c4(0x17b)]=_0x5b66dd;await this['_pImportEntry_pDoUpdateCharacter_spellcasting_spellPoints']({'actUpdate':_0x439a49,'totalSpellcastingLevels':_0x826598});}[_0x74276c(0x1e0)]({actUpdate:_0x2aadef,dataBuilderOpts:_0x3da73f,progressionMeta:_0x1f7470}){const _0x123b0a=_0x74276c,{casterProgression:_0x51c077,totalSpellcastingLevels:_0x347152,maxPactCasterLevel:_0xe74adc}=_0x1f7470;if(!_0x347152&&_0x51c077!=='pact')return;let _0x532296=![];_0x2aadef[_0x123b0a(0x10c)]['spells']=_0x2aadef[_0x123b0a(0x10c)][_0x123b0a(0x14b)]||{};const _0x325fa7=MiscUtil[_0x123b0a(0x190)](_0x3da73f[_0x123b0a(0x24c)],_0x123b0a(0x10c),_0x123b0a(0x14b),{});if(_0x347152){const _0xf3d32e=UtilDataConverter[_0x123b0a(0x1d7)][_0x123b0a(0x32a)];let _0x54f8b9=_0xf3d32e[_0x347152-0x1]||_0xf3d32e[_0x123b0a(0x23d)]();return _0x54f8b9['forEach']((_0x29593e,_0x2735a2)=>{const _0x30ee36=_0x123b0a;if(_0x29593e===0x0)return;const _0x4dff34=_0x30ee36(0x284)+(_0x2735a2+0x1),_0x4460d3=MiscUtil[_0x30ee36(0x361)](this[_0x30ee36(0x1f6)],_0x30ee36(0x10c),_0x30ee36(0x10c),'spells',_0x4dff34,_0x30ee36(0x299)),_0xe50e6=MiscUtil[_0x30ee36(0x361)](this[_0x30ee36(0x1f6)],_0x30ee36(0x10c),_0x30ee36(0x10c),_0x30ee36(0x14b),_0x4dff34,_0x30ee36(0x1eb));if(_0x4460d3!=null){if(_0x4460d3<_0x29593e){_0x532296=!![];const _0x1725b6=_0x29593e-_0x4460d3;_0x2aadef[_0x30ee36(0x10c)][_0x30ee36(0x14b)][_0x4dff34]={'max':_0x29593e,'value':_0xe50e6+_0x1725b6},_0x325fa7[_0x4dff34]={'max':_0x29593e,'value':_0xe50e6+_0x1725b6};}}else _0x532296=!![],_0x2aadef['data'][_0x30ee36(0x14b)][_0x4dff34]={'max':_0x29593e,'value':_0x29593e},_0x325fa7[_0x4dff34]={'max':_0x29593e,'value':_0x29593e};}),_0x532296;}if(_0x51c077===_0x123b0a(0x2d6)){const _0x5f2b10=MiscUtil['get'](this[_0x123b0a(0x1f6)],_0x123b0a(0x10c),_0x123b0a(0x10c),_0x123b0a(0x14b),_0x123b0a(0x2d6),_0x123b0a(0x299)),_0x306d86=MiscUtil['get'](this[_0x123b0a(0x1f6)],_0x123b0a(0x10c),_0x123b0a(0x10c),_0x123b0a(0x14b),'pact',_0x123b0a(0x1eb)),_0xe51eed=UtilDataConverter[_0x123b0a(0x1d7)][_0x123b0a(0x2d6)][_0xe74adc-0x1][_0x123b0a(0x127)](Boolean);if(_0x5f2b10!=null){if(_0x5f2b10<_0xe51eed){_0x532296=!![];const _0x252e8d=_0xe51eed-_0x5f2b10;_0x2aadef[_0x123b0a(0x10c)]['spells'][_0x123b0a(0x2d6)]={'max':_0xe51eed,'value':_0x306d86+_0x252e8d},_0x325fa7[_0x123b0a(0x2d6)]={'max':_0xe51eed,'value':_0x306d86+_0x252e8d};}}else _0x532296=!![],_0x2aadef[_0x123b0a(0x10c)][_0x123b0a(0x14b)][_0x123b0a(0x2d6)]={'max':_0xe51eed,'value':_0xe51eed},_0x325fa7[_0x123b0a(0x2d6)]={'max':_0xe51eed,'value':_0xe51eed};return _0x532296;}return![];}async['_pImportEntry_pDoUpdateCharacter_spellcasting_spellPoints']({actUpdate:_0x209027,totalSpellcastingLevels:_0xa902fc}){const _0x2da481=_0x74276c;if(!_0xa902fc||Config[_0x2da481(0x361)]('importSpell',Config['getSpellPointsKey']({'actorType':this[_0x2da481(0x1f6)]?.[_0x2da481(0x155)]}))===ConfigConsts[_0x2da481(0x1d6)])return;return Config[_0x2da481(0x361)](_0x2da481(0x15b),_0x2da481(0x24d))===ConfigConsts[_0x2da481(0x198)]?UtilActors[_0x2da481(0x2bb)]({'actor':this[_0x2da481(0x1f6)],'totalSpellcastingLevels':_0xa902fc}):this['_pImportEntry_pDoUpdateCharacter_spellcasting_spellPsiPoints_resource']({'actUpdate':_0x209027,'amount':UtilDataConverter[_0x2da481(0x313)]({'totalSpellcastingLevels':_0xa902fc}),'label':_0x2da481(0x220),'resource':Config[_0x2da481(0x142)]()});}async[_0x74276c(0x1a3)]({actUpdate:_0x58f3f2,amount:_0x2be6a7,label:_0x441914,resource:_0x16544d}){const _0x471497=_0x74276c,_0x2f15db=(_0x16544d||'')[_0x471497(0xf6)]()[_0x471497(0x27d)]('.');if(!_0x2f15db[_0x471497(0x2e8)]){const _0x17a152=_0x471497(0x224)+_0x441914+_0x471497(0x2bc)+_0x16544d+_0x471497(0x2bd);console[_0x471497(0x12a)](...LGT,_0x17a152),ui[_0x471497(0x1b4)][_0x471497(0x12a)](_0x17a152);return;}const _0x920735=[..._0x2f15db,_0x471497(0x1eb)],_0x18bcb0=[..._0x2f15db,_0x471497(0x299)],_0x320e5c=this['_actor'][_0x471497(0x10c)]['_source']||this['_actor'][_0x471497(0x10c)],_0x21b938=MiscUtil[_0x471497(0x361)](_0x320e5c,'data',..._0x920735)||0x0,_0x342391=MiscUtil[_0x471497(0x361)](_0x320e5c,_0x471497(0x10c),..._0x18bcb0)||0x0;if(_0x2be6a7>_0x342391){const _0x3abd14=_0x2be6a7-_0x342391;MiscUtil[_0x471497(0x26b)](_0x58f3f2,_0x471497(0x10c),..._0x920735,_0x21b938+_0x3abd14),MiscUtil['set'](_0x58f3f2,_0x471497(0x10c),..._0x18bcb0,_0x2be6a7);const _0x5ecab6=[..._0x2f15db,_0x471497(0x260)];!MiscUtil[_0x471497(0x361)](_0x320e5c,_0x471497(0x10c),..._0x5ecab6)&&MiscUtil[_0x471497(0x26b)](_0x58f3f2,_0x471497(0x10c),..._0x5ecab6,_0x441914);}}async[_0x74276c(0x222)]({actUpdate:_0x263171,cls:_0x2df9a7,sc:_0xa09d5d,dataBuilderOpts:_0x259ac5,otherExistingClassItems:_0x1da571,otherExistingSubclassItems:_0x58a9e9}){const _0x2434b4=_0x74276c,{totalMysticLevels:_0x5ab2d6}=Charactermancer_Class_Util[_0x2434b4(0x2ba)]({'cls':_0x2df9a7,'targetLevel':_0x259ac5[_0x2434b4(0x294)],'otherExistingClassItems':_0x1da571,'otherExistingSubclassItems':_0x58a9e9});await this['_pImportEntry_pDoUpdateCharacter_psionics_psiPoints']({'actUpdate':_0x263171,'totalMysticLevels':_0x5ab2d6});}async['_pImportEntry_pDoUpdateCharacter_psionics_psiPoints']({actUpdate:_0x4cfb19,totalMysticLevels:_0xb734d}){const _0x4b6482=_0x74276c;if(!_0xb734d)return;return Config[_0x4b6482(0x361)](_0x4b6482(0x13d),_0x4b6482(0x319))===ConfigConsts['C_SPELL_POINTS_RESOURCE__SHEET_ITEM']?UtilActors[_0x4b6482(0x34b)]({'actor':this[_0x4b6482(0x1f6)],'totalMysticLevels':_0xb734d}):this[_0x4b6482(0x1a3)]({'actUpdate':_0x4cfb19,'amount':UtilDataConverter[_0x4b6482(0x318)]({'totalMysticLevels':_0xb734d}),'label':_0x4b6482(0x19e),'resource':Config['getPsiPointsResource']()});}async[_0x74276c(0x243)]({actUpdate:_0x167a77,cls:_0x5c2b7d,dataBuilderOpts:_0x49418a}){const _0x5225ea=_0x74276c;if(!_0x49418a[_0x5225ea(0x272)]||!Charactermancer_Class_HpIncreaseModeSelect[_0x5225ea(0x2e2)](_0x5c2b7d))return;const _0x31de3e=Parser[_0x5225ea(0x2dc)](Charactermancer_Util[_0x5225ea(0x141)](this[_0x5225ea(0x1f6)])[_0x5225ea(0x35b)]),_0x1638c3=_0x49418a['isIncludesLevelOne']&&_0x49418a[_0x5225ea(0x1f4)]!==Charactermancer_Class_ProficiencyImportModeSelect[_0x5225ea(0x229)];let _0x1b1d37=_0x1638c3?_0x5c2b7d['hd'][_0x5225ea(0x225)]*_0x5c2b7d['hd'][_0x5225ea(0x28c)]+_0x31de3e:0x0;const _0x59d854=_0x1638c3?_0x49418a[_0x5225ea(0x200)]-0x1:_0x49418a[_0x5225ea(0x200)];switch(_0x49418a[_0x5225ea(0x282)]){case Charactermancer_Class_HpIncreaseModeSelect[_0x5225ea(0x295)]:{const _0xcff6c0=Math[_0x5225ea(0x235)](_0x5c2b7d['hd'][_0x5225ea(0x225)]*((_0x5c2b7d['hd'][_0x5225ea(0x28c)]+0x1)/0x2));_0x1b1d37+=_0x59d854*Math[_0x5225ea(0x299)](_0xcff6c0+_0x31de3e,0x1);break;}case Charactermancer_Class_HpIncreaseModeSelect[_0x5225ea(0x369)]:{for(let _0x4801c7=0x0;_0x4801c7<_0x59d854;++_0x4801c7){const _0x493a32=new Roll(_0x5c2b7d['hd']['number']+'d'+_0x5c2b7d['hd'][_0x5225ea(0x28c)]+'\x20+\x20'+_0x31de3e);await _0x493a32['evaluate'](),_0x1b1d37+=Math[_0x5225ea(0x299)](_0x493a32[_0x5225ea(0x358)],0x1),await _0x493a32[_0x5225ea(0x19a)]({'flavor':_0x5225ea(0x1c8),'speaker':{'actor':this[_0x5225ea(0x1f6)]['id'],'alias':this['_actor'][_0x5225ea(0x19f)],'scene':null,'token':null}});}break;}case Charactermancer_Class_HpIncreaseModeSelect[_0x5225ea(0x262)]:{_0x1b1d37=0x0;break;}default:throw new Error(_0x5225ea(0x106)+_0x49418a['hpIncreaseMode']+'\x22');}if(_0x1b1d37){const {value:_0x24f3c2,max:_0xbfbb43}=Charactermancer_Util[_0x5225ea(0x1ef)](this[_0x5225ea(0x1f6)]);switch(_0x49418a['proficiencyImportMode']){case Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS']:{const _0x5e0305=_0x24f3c2+_0x1b1d37,_0x8c1616=_0xbfbb43+_0x1b1d37;MiscUtil[_0x5225ea(0x26b)](_0x167a77,_0x5225ea(0x10c),_0x5225ea(0x164),'hp',_0x5225ea(0x1eb),_0x5e0305),MiscUtil[_0x5225ea(0x26b)](_0x167a77,_0x5225ea(0x10c),_0x5225ea(0x164),'hp',_0x5225ea(0x299),_0x8c1616);break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x5225ea(0x2c5)]:{const _0x477ca2=(_0x1638c3?0x0:_0x24f3c2)+_0x1b1d37,_0x5de5f2=(_0x1638c3?0x0:_0xbfbb43)+_0x1b1d37;MiscUtil[_0x5225ea(0x26b)](_0x167a77,'data',_0x5225ea(0x164),'hp',_0x5225ea(0x1eb),_0x477ca2),MiscUtil[_0x5225ea(0x26b)](_0x167a77,_0x5225ea(0x10c),_0x5225ea(0x164),'hp',_0x5225ea(0x299),_0x5de5f2);break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x5225ea(0x179)]:break;default:throw new Error(_0x5225ea(0x193)+_0x49418a[_0x5225ea(0x1f4)]+'\x22');}}}async[_0x74276c(0x261)]({actUpdate:_0x480992,cls:_0x2f496a,dataBuilderOpts:_0x1b75aa}){const _0x452d07=_0x74276c;await DataConverter[_0x452d07(0x337)](MiscUtil['get'](this['_actor'],'data',_0x452d07(0x10c),_0x452d07(0x23c),'languages'),_0x2f496a[_0x452d07(0x241)],_0x480992[_0x452d07(0x10c)],_0x1b75aa);}async[_0x74276c(0x232)](_0x475c10,_0x496c96,_0x3ce5f0,_0x9c3057){const _0x24a73a=_0x74276c,_0x130d45={'chosenProficiencies':{}};_0x130d45[_0x24a73a(0x1e4)]=await this['_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom'](_0x475c10,_0x496c96[_0x24a73a(0x2f2)],_0x496c96[_0x24a73a(0x134)],Charactermancer_Class_ProficiencyImportModeSelect[_0x24a73a(0x2c5)],_0x9c3057);if(_0x9c3057[_0x24a73a(0x35d)])return;await this['_pImportEntry_pDoUpdateCharacter_pPopulateEquipment'](_0x496c96,_0x9c3057);if(_0x9c3057['isCancelled'])return;return _0x130d45;}async[_0x74276c(0x11a)](_0x568eff,_0x323c83,_0x33e357,_0x27c5f3,_0x220a9c){const _0x2224e1=_0x74276c,_0x698eee={'skills':{}};if(_0x323c83?.['skills']){const _0x4c0db3=await DataConverter['pFillActorSkillData'](MiscUtil[_0x2224e1(0x361)](this[_0x2224e1(0x1f6)],_0x2224e1(0x10c),'data','skills'),_0x323c83[_0x2224e1(0x156)],_0x568eff['data'],_0x220a9c);if(_0x220a9c[_0x2224e1(0x35d)])return _0x698eee;_0x698eee['skills']=_0x4c0db3;}const _0x10d041=await Charactermancer_Class_StartingProficiencies['pGetUserInput']({'mode':_0x27c5f3,'primaryProficiencies':_0x27c5f3===Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY']?_0x323c83:null,'multiclassProficiencies':_0x27c5f3===Charactermancer_Class_ProficiencyImportModeSelect[_0x2224e1(0x229)]?_0x323c83:null,'savingThrowsProficiencies':_0x33e357,'existingProficienciesFvttArmor':MiscUtil['get'](this[_0x2224e1(0x1f6)],_0x2224e1(0x10c),_0x2224e1(0x10c),'traits',_0x2224e1(0x158)),'existingProficienciesFvttWeapons':MiscUtil['get'](this['_actor'],_0x2224e1(0x10c),_0x2224e1(0x10c),_0x2224e1(0x23c),_0x2224e1(0x218)),'existingProficienciesFvttTools':MiscUtil['get'](this[_0x2224e1(0x1f6)],'data','data',_0x2224e1(0x23c),_0x2224e1(0x1dd)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies[_0x2224e1(0x137)](this[_0x2224e1(0x1f6)])});if(_0x10d041==null)return _0x220a9c[_0x2224e1(0x35d)]=!![];if(_0x10d041===VeCt[_0x2224e1(0x31d)])return;return Charactermancer_Class_StartingProficiencies[_0x2224e1(0x26a)](_0x568eff,_0x10d041),_0x698eee;}async[_0x74276c(0x2ad)](_0x4d870c,_0x3ae75c,_0x130c85,_0x49f58e){const _0x5a57d2=_0x74276c,_0x19e244={'chosenProficiencies':{}};if(_0x3ae75c['multiclassing']&&_0x3ae75c[_0x5a57d2(0x275)]['proficienciesGained']){_0x19e244[_0x5a57d2(0x1e4)]=await this[_0x5a57d2(0x11a)](_0x4d870c,_0x3ae75c[_0x5a57d2(0x275)][_0x5a57d2(0x2af)],null,Charactermancer_Class_ProficiencyImportModeSelect[_0x5a57d2(0x229)],_0x49f58e);if(_0x49f58e[_0x5a57d2(0x35d)])return;}return _0x19e244;}['_getExistingClassItems'](_0x447a85){const _0x314311=_0x74276c;return Charactermancer_Class_Util[_0x314311(0x33f)](this[_0x314311(0x1f6)],_0x447a85);}[_0x74276c(0x14f)](_0x43e9d6,_0x21d057){const _0x33700e=_0x74276c;return Charactermancer_Class_Util[_0x33700e(0x2de)](this[_0x33700e(0x1f6)],_0x43e9d6,_0x21d057);}static ['_CurLevelMeta']=class{constructor({curLevel:curLevel=0x0,existingCLassItem:existingCLassItem=null,existingSubclassItem:existingSubclassItem=null}={}){const _0x3dc9e0=_0x74276c;this[_0x3dc9e0(0x349)]=curLevel,this[_0x3dc9e0(0x328)]=existingCLassItem,this[_0x3dc9e0(0x321)]=existingSubclassItem;}};async[_0x74276c(0x13f)](_0x2ab651,_0x2d8113,_0x333446,_0x2de022,_0x5e88bd){const _0x40dee4=_0x74276c,_0x287aaf=new this[(_0x40dee4(0x126))]['_CurLevelMeta'](),_0xa62b56=await this[_0x40dee4(0x343)]({'actUpdate':_0x2ab651,'cls':_0x2d8113,'sc':_0x333446,'dataBuilderOpts':_0x5e88bd});if(_0x5e88bd[_0x40dee4(0x35d)])return;const {existingClassItem:_0xc82af4,existingSubclassItem:_0x5d1f62}=await this[_0x40dee4(0x201)]({'cls':_0x2d8113,'sc':_0x333446,'dataBuilderOpts':_0x5e88bd});if(_0x5e88bd['isCancelled'])return;return _0x5e88bd[_0x40dee4(0x333)]=_0xc82af4,_0x5e88bd[_0x40dee4(0x1fe)]=_0x5d1f62,_0x287aaf[_0x40dee4(0x328)]=_0xc82af4,_0x287aaf[_0x40dee4(0x321)]=_0x5d1f62,await this[_0x40dee4(0x324)]({'cls':_0x2d8113,'sc':_0x333446,'proficiencyMeta':_0xa62b56,'outCurLevelMeta':_0x287aaf,'importOpts':_0x2de022,'dataBuilderOpts':_0x5e88bd}),await this[_0x40dee4(0x1a9)]({'cls':_0x2d8113,'sc':_0x333446,'proficiencyMeta':_0xa62b56,'outCurLevelMeta':_0x287aaf,'importOpts':_0x2de022,'dataBuilderOpts':_0x5e88bd}),_0x287aaf;}async[_0x74276c(0x343)]({actUpdate:_0x39324d,cls:_0x446f73,sc:_0x525d04,dataBuilderOpts:_0x54a120}){const _0x584c96=_0x74276c;if(!_0x54a120['isClassImport']||!_0x54a120['isIncludesLevelOne'])return{};switch(_0x54a120[_0x584c96(0x1f4)]){case Charactermancer_Class_ProficiencyImportModeSelect[_0x584c96(0x229)]:{return this[_0x584c96(0x2ad)](_0x39324d,_0x446f73,_0x525d04,_0x54a120);}case Charactermancer_Class_ProficiencyImportModeSelect[_0x584c96(0x2c5)]:{return this[_0x584c96(0x232)](_0x39324d,_0x446f73,_0x525d04,_0x54a120);}case Charactermancer_Class_ProficiencyImportModeSelect[_0x584c96(0x179)]:{return{};}default:throw new Error(_0x584c96(0x193)+_0x54a120['proficiencyImportMode']+'\x22');}}async[_0x74276c(0x201)]({cls:_0x53d862,sc:_0x524eb9,dataBuilderOpts:_0x2f30c7}){const _0x5abb3a=_0x74276c,_0x14dcb7=this['_getExistingClassItems'](_0x53d862),_0x35015b=this[_0x5abb3a(0x14f)](_0x53d862,_0x524eb9);if(!_0x14dcb7['length']&&!_0x35015b[_0x5abb3a(0x2e8)])return{};const _0xdae48a=_0x53d862&&_0x14dcb7[_0x5abb3a(0x2e8)]>0x1,_0x44d71b=_0x524eb9&&_0x35015b['length']>0x1;if(_0xdae48a&&_0x44d71b){const [_0x31ecd8,_0x5237d0]=await this[_0x5abb3a(0x2e7)]({'cls':_0x53d862,'sc':_0x524eb9,'existingClassItems':_0x14dcb7,'existingSubclassItems':_0x35015b});if(!_0x31ecd8)return _0x2f30c7[_0x5abb3a(0x35d)]=!![],{};return _0x5237d0;}if(_0xdae48a)return{'existingClassItem':await this[_0x5abb3a(0x348)]({'dataBuilderOpts':_0x2f30c7,'clsOrSc':_0x53d862,'existingItems':_0x14dcb7,'nameUnnamed':_0x5abb3a(0x196)}),'existingSubclassItem':_0x35015b[0x0]};if(_0x44d71b)return{'existingClassItem':_0x14dcb7[0x0],'existingSubclassItem':await this[_0x5abb3a(0x348)]({'dataBuilderOpts':_0x2f30c7,'clsOrSc':_0x524eb9,'existingItems':_0x35015b,'nameUnnamed':_0x5abb3a(0x2b5)})};return{'existingClassItem':_0x14dcb7[0x0],'existingSubclassItem':_0x35015b[0x0]};}async[_0x74276c(0x324)]({cls:_0x1f7549,sc:_0x3708b6,proficiencyMeta:_0x586dec,outCurLevelMeta:_0x54275a,importOpts:_0x2bb96d,dataBuilderOpts:_0x49c0a3}){const _0x1d3c1d=_0x74276c,{existingClassItem:_0x351d95}=_0x54275a,_0x122c15=await DataConverterClass[_0x1d3c1d(0x2c9)](_0x1f7549,{'sc':_0x3708b6,'filterValues':_0x2bb96d[_0x1d3c1d(0x25f)]||this[_0x1d3c1d(0x317)][_0x1d3c1d(0x1cd)]['getValues'](),'startingSkills':_0x586dec['chosenProficiencies']&&_0x586dec[_0x1d3c1d(0x1e4)][_0x1d3c1d(0x156)]?Object[_0x1d3c1d(0x2e0)](_0x586dec[_0x1d3c1d(0x1e4)][_0x1d3c1d(0x156)]):[],'proficiencyImportMode':_0x49c0a3[_0x1d3c1d(0x1f4)],'level':_0x49c0a3[_0x1d3c1d(0x294)],'isClsDereferenced':!![],'actor':this['_actor']});if(_0x351d95){let _0x92867c=![];const _0x18e96a={'_id':_0x351d95['id']},_0x453ded=_0x122c15[_0x1d3c1d(0x10c)][_0x1d3c1d(0x14a)]['value'];_0x453ded&&!(_0x351d95[_0x1d3c1d(0x10c)][_0x1d3c1d(0x10c)][_0x1d3c1d(0x14a)]?.[_0x1d3c1d(0x1eb)]||'')[_0x1d3c1d(0xf6)]()&&(_0x92867c=!![],MiscUtil['set'](_0x18e96a,_0x1d3c1d(0x10c),_0x1d3c1d(0x14a),_0x1d3c1d(0x1eb),_0x453ded));let _0x4d93c9=_0x351d95[_0x1d3c1d(0x10c)]['data']['levels'];_0x4d93c9&&(_0x49c0a3[_0x1d3c1d(0x294)]>_0x4d93c9&&(_0x92867c=!![],MiscUtil['set'](_0x18e96a,'data',_0x1d3c1d(0x330),_0x49c0a3[_0x1d3c1d(0x294)])));_0x49c0a3[_0x1d3c1d(0x334)]=_0x18e96a,_0x49c0a3[_0x1d3c1d(0x35a)]=_0x49c0a3[_0x1d3c1d(0x35a)]||_0x92867c,_0x54275a[_0x1d3c1d(0x349)]=_0x4d93c9||0x0,_0x54275a[_0x1d3c1d(0x328)]=_0x351d95;return;}_0x49c0a3[_0x1d3c1d(0x2e9)]=_0x122c15;}async[_0x74276c(0x1a9)]({cls:_0x198337,sc:_0x5e514b,proficiencyMeta:_0x42ec7b,outCurLevelMeta:_0xb22f03,importOpts:_0x4b71d9,dataBuilderOpts:_0x258c79}){const _0x46502d=_0x74276c;if(!_0x5e514b)return;const {existingSubclassItem:_0x1d491f}=_0xb22f03,_0x23d74d=await DataConverterClass[_0x46502d(0x28a)](_0x198337,_0x5e514b,{'filterValues':_0x4b71d9[_0x46502d(0x25f)]||this[_0x46502d(0x317)][_0x46502d(0x1cd)][_0x46502d(0x2f7)](),'proficiencyImportMode':_0x258c79['proficiencyImportMode'],'isScDereferenced':!![],'actor':this['_actor']});if(_0x1d491f){let _0x301fa7=![];const _0x2a9bfb={'_id':_0x1d491f['id']},_0x4556ed=_0x23d74d[_0x46502d(0x10c)]['description'][_0x46502d(0x1eb)];_0x4556ed&&!(_0x1d491f[_0x46502d(0x10c)][_0x46502d(0x10c)][_0x46502d(0x14a)]?.[_0x46502d(0x1eb)]||'')[_0x46502d(0xf6)]()&&(_0x301fa7=!![],MiscUtil[_0x46502d(0x26b)](_0x2a9bfb,_0x46502d(0x10c),_0x46502d(0x14a),_0x46502d(0x1eb),_0x4556ed));_0x258c79['subclassItemUpdate']=_0x2a9bfb,_0x258c79['isPersistSubclassItemUpdate']=_0x258c79['isPersistSubclassItemUpdate']||_0x301fa7;return;}_0x258c79[_0x46502d(0x108)]=_0x23d74d;}async['_pGetUserClassSubclassItem']({dataBuilderOpts:_0x4e3e41,clsOrSc:_0x3089ac,existingItems:_0x3827db,nameUnnamed:_0x43ca2d}){const _0x469529=_0x74276c,_0x3fd1b1=_0x3089ac[_0x469529(0x19f)]||_0x43ca2d,_0x4df37d=await InputUiUtil[_0x469529(0xff)]({'values':_0x3827db,'placeholder':'Select\x20Existing\x20Item...','title':_0x469529(0x1c2)+_0x3fd1b1+_0x469529(0xfe),'fnDisplay':_0x4af3c7=>{const _0x1c01a3=_0x469529;if(_0x4af3c7==null)return _0x1c01a3(0x28f);return _0x4af3c7[_0x1c01a3(0x19f)]||_0x43ca2d;},'isAllowNull':!![]});if(_0x4df37d==null)return _0x4e3e41['isCancelled']=!![],null;return _0x3827db[_0x4df37d];}async['_pGetUserClassSubclassItems']({cls:_0x500b8a,sc:_0x3ea89f,existingClassItems:_0x2a760b,existingSubclassItems:_0x3fa867}){const _0x100b48=_0x74276c,_0x394b9d=(_0x500b8a[_0x100b48(0x19f)]||_0x100b48(0x15a))+'\x20('+(_0x3ea89f[_0x100b48(0x19f)]||_0x100b48(0x29a))+')',{$modalInner:_0x2f7192,doClose:_0x44dfff,pGetResolved:_0x7fd602,doAutoResize:_0x2de4da}=await UtilApplications['pGetShowApplicationModal']({'title':_0x100b48(0x353)+_0x394b9d+'\x20Levels\x20To'}),_0x32abd7=BaseComponent[_0x100b48(0x132)]({'ixItemClass':null,'ixItemSubclass':null},'*'),_0x2243ca=$('<button\x20class=\x22btn\x20btn-primary\x20mr-2\x22>OK</button>')[_0x100b48(0x350)](async()=>{const _0x5b5ddd=_0x100b48,_0x8beb01={'existingClassItem':_0x2a760b[_0x32abd7['_state'][_0x5b5ddd(0x1bc)]],'existingSubclassItem':_0x3fa867[_0x32abd7[_0x5b5ddd(0x172)][_0x5b5ddd(0x1bc)]]};return _0x44dfff(!![],_0x8beb01);}),_0x51d8a8=$(_0x100b48(0x170))['click'](()=>_0x44dfff(![])),_0x5ce77a=ComponentUiUtil[_0x100b48(0x20f)](_0x32abd7,_0x100b48(0x2ca),{'values':_0x2a760b,'fnDisplay':_0x3bd75c=>_0x3bd75c==null?_0x100b48(0x28f):_0x3bd75c[_0x100b48(0x19f)]||'(Unnamed\x20class)','displayNullAs':_0x100b48(0x28f),'isAllowNull':!![],'isSetIndexes':!![]}),_0xe46bea=ComponentUiUtil[_0x100b48(0x20f)](_0x32abd7,_0x100b48(0x1bc),{'values':_0x3fa867,'fnDisplay':_0x82d0f2=>_0x82d0f2==null?_0x100b48(0x28f):_0x82d0f2[_0x100b48(0x19f)]||_0x100b48(0x29a),'displayNullAs':_0x100b48(0x28f),'isAllowNull':!![],'isSetIndexes':!![]});return $$(_0x2f7192)`<div class="ve-flex-col">
			<label class="split-v-center mb-2"><div class="no-shrink mr-2 w-100p text-right">Class item</div>${_0x5ce77a}</label>
			<label class="split-v-center"><div class="no-shrink mr-2 w-100p text-right">Subclass item</div>${_0xe46bea}</label>
		</div>`,$$`<div class="ve-flex-v-center ve-flex-h-right no-shrink pb-1 pt-1 px-1">${_0x2243ca}${_0x51d8a8}</div>`[_0x100b48(0x2c8)](_0x2f7192),_0x5ce77a[_0x100b48(0x114)](),_0x2de4da(),_0x7fd602();}async['_pImportCasterCantrips'](_0x359954,_0x43523d,_0x404ba5,_0x5e2f6e,_0x84c1a9){const _0xba3fc4=_0x74276c;if(_0x359954['_foundryIsSkipImportCantrips'])return;const _0x2331f3=Charactermancer_Spell_Util[_0xba3fc4(0x281)]({'cls':_0x359954,'sc':_0x43523d,'curLevel':_0x404ba5,'targetLevel':_0x84c1a9[_0xba3fc4(0x294)]});if(!_0x2331f3)return;const {maxCantripsHigh:_0x1c027f,deltaMaxCantrips:_0x18398d}=_0x2331f3;if(!_0x18398d||!_0x1c027f)return;const _0x48b888=await Charactermancer_Spell_Modal[_0xba3fc4(0x2e4)]({'actor':this[_0xba3fc4(0x1f6)],'existingClass':_0x84c1a9[_0xba3fc4(0x334)]?_0x359954:null,'existingCasterMeta':Charactermancer_Spell_Util['getExistingCasterMeta']({'cls':_0x359954,'sc':_0x43523d,'actor':this[_0xba3fc4(0x1f6)],'targetLevel':_0x84c1a9[_0xba3fc4(0x294)]}),'spellDatas':(await Vetools[_0xba3fc4(0x1fa)]({'isIncludeLoadedBrew':!![],'isApplyBlacklist':!![]}))[_0xba3fc4(0x284)],'className':_0x359954[_0xba3fc4(0x19f)],'classSource':_0x359954[_0xba3fc4(0x1af)],'brewClassSpells':_0x359954[_0xba3fc4(0x1b8)],'subclassName':_0x43523d?.[_0xba3fc4(0x19f)],'subclassSource':_0x43523d?.['source'],'brewSubclassSpells':_0x43523d?.['subclassSpells'],'brewSubSubclassSpells':_0x43523d?.[_0xba3fc4(0x2ae)],'maxLevel':0x0,'maxLearnedCantrips':_0x1c027f});if(!_0x48b888)return _0x5e2f6e['isCancelled']=!![];if(_0x48b888===VeCt[_0xba3fc4(0x31d)])return;await Charactermancer_Spell['pApplyFormDataToActor'](this[_0xba3fc4(0x1f6)],_0x48b888,{'cls':_0x359954,'sc':_0x43523d});}async[_0x74276c(0x151)](_0x1ae0a3,_0x1ef1a6,_0xb2ef16,_0x315b22){const _0x20be0e=_0x74276c,_0x4dd0e3=Charactermancer_Spell_Util[_0x20be0e(0x174)]({'cls':_0x1ae0a3,'sc':_0x1ef1a6});if(!_0x4dd0e3)return;const _0x5f292e=this[_0x20be0e(0x1f6)][_0x20be0e(0x279)][_0x20be0e(0x213)]['find'](_0x1bbdd6=>(_0x1bbdd6['data']?.['label']||'')[_0x20be0e(0x322)]()['trim']()==='prepared\x20spells');if(_0x5f292e)return;_0x315b22[_0x20be0e(0x279)][_0x20be0e(0x226)](UtilActiveEffects[_0x20be0e(0x1c4)]({'key':_0x20be0e(0x20c),'value':_0x4dd0e3,'mode':CONST[_0x20be0e(0x1bb)][_0x20be0e(0x2e5)],'label':_0x20be0e(0xf8),'icon':await Vetools['pOptionallySaveImageToServerAndGetUrl'](await DataConverterClass[_0x20be0e(0x195)](_0x1ae0a3)),'disabled':![],'priority':UtilActiveEffects[_0x20be0e(0x2fb)],'originActor':this[_0x20be0e(0x1f6)],'originActorItem':_0x315b22[_0x20be0e(0x333)]}));}async['_pImportPreparedCasterSpells'](_0x876a54,_0x3d808a,_0x18ccbb,_0x523638){const _0x2a32e3=_0x74276c;if(_0x876a54[_0x2a32e3(0x121)])return;const _0x145550=Charactermancer_Spell_Util[_0x2a32e3(0x25e)]({'casterProgression':DataConverter[_0x2a32e3(0x1d0)](_0x876a54[_0x2a32e3(0x1ec)],_0x3d808a?.[_0x2a32e3(0x1ec)]),'curLevel':_0x18ccbb,'targetLevel':_0x523638[_0x2a32e3(0x294)],'isBreakpointsOnly':!![]});if(!_0x145550)return;const {spellLevelLow:_0x47ce99,spellLevelHigh:_0x882f22,deltaLevels:_0x46b039}=_0x145550,_0x5b3c50=await InputUiUtil[_0x2a32e3(0x148)]({'title':_0x2a32e3(0x1e2),'htmlDescription':_0x2a32e3(0x14c)+(_0x46b039===0x1?'':'s')+'\x20'+(_0x46b039===0x1?_0x523638['targetLevel']:_0x18ccbb+0x1+'-'+_0x523638[_0x2a32e3(0x294)])+')?</p>','textYes':_0x2a32e3(0x236),'textNo':'No'});if(!_0x5b3c50)return;const _0x532106=_0x3d808a?BrewUtil2[_0x2a32e3(0x18e)](_0x3d808a['source']):BrewUtil2[_0x2a32e3(0x18e)](_0x876a54[_0x2a32e3(0x1af)]),_0x1ce1ad=!_0x532106&&(_0x3d808a?SourceUtil[_0x2a32e3(0x362)](_0x3d808a[_0x2a32e3(0x1af)]):SourceUtil[_0x2a32e3(0x362)](_0x876a54['source'])),_0x7b8e02=(await Vetools[_0x2a32e3(0x1fa)]({'isFilterNonStandard':!_0x1ce1ad,'additionalSourcesBrew':_0x532106?this[_0x2a32e3(0x11f)](_0x876a54,_0x3d808a):null,'isApplyBlacklist':!![]}))[_0x2a32e3(0x284)],_0x1df3ab=await Charactermancer_Class_Util['pGetPreparableSpells'](_0x7b8e02,_0x876a54,_0x47ce99,_0x882f22);if(!_0x1df3ab[_0x2a32e3(0x2e8)])return;const {ImportListSpell:_0x230ca1}=await import('./ImportListSpell.js'),_0x33f3d6=new _0x230ca1({'actor':this[_0x2a32e3(0x1f6)]});await _0x33f3d6[_0x2a32e3(0x103)]();for(const _0x4dad4c of _0x1df3ab){const _0xe7612a=DataConverterSpell[_0x2a32e3(0x30e)](this['_actor'],_0x4dad4c['name'],_0x4dad4c[_0x2a32e3(0x1af)]);if(_0xe7612a)continue;await _0x33f3d6['pImportEntry'](_0x4dad4c,{'opts_pGetSpellItem':{...await UtilActors[_0x2a32e3(0x23b)](),'ability':_0x523638[_0x2a32e3(0x307)]}});}}['_getBrewSpellSources'](_0x1fc88e,_0x468f58){const _0x22ac15=_0x74276c,_0x38c47d=new Set();if(!Parser[_0x22ac15(0x1f2)][_0x1fc88e[_0x22ac15(0x1af)]])_0x38c47d['add'](_0x1fc88e[_0x22ac15(0x1af)]);if(_0x468f58&&!Parser['SOURCE_JSON_TO_ABV'][_0x468f58['source']])_0x38c47d[_0x22ac15(0x29b)](_0x468f58[_0x22ac15(0x1af)]);return _0x1fc88e[_0x22ac15(0x1b8)]&&_0x1fc88e[_0x22ac15(0x1b8)][_0x22ac15(0x1a4)](_0x190a5a=>_0x190a5a[_0x22ac15(0x1af)]&&!Parser[_0x22ac15(0x1f2)][_0x190a5a['source']])['forEach'](({source:_0x191660})=>_0x38c47d[_0x22ac15(0x29b)](_0x191660)),_0x468f58&&_0x468f58[_0x22ac15(0x1bf)]&&_0x468f58[_0x22ac15(0x1bf)][_0x22ac15(0x1a4)](_0x3386be=>_0x3386be[_0x22ac15(0x1af)]&&!Parser['SOURCE_JSON_TO_ABV'][_0x3386be[_0x22ac15(0x1af)]])[_0x22ac15(0x163)](({source:_0x3d0b6c})=>_0x38c47d[_0x22ac15(0x29b)](_0x3d0b6c)),[..._0x38c47d];}async['_pImportEntry_pFillItemArrayAdditionalSpells'](_0x536d79,_0x582dd0,_0x3d99e0,_0x5a90e2){const _0x1a41ba=_0x74276c,_0x1513ae=Charactermancer_Spell_Util[_0x1a41ba(0x25e)]({'casterProgression':_0x536d79[_0x1a41ba(0x1ec)],'curLevel':_0x3d99e0,'targetLevel':_0x5a90e2[_0x1a41ba(0x294)]}),_0x3296b8=await Charactermancer_AdditionalSpellsSelect[_0x1a41ba(0x2e4)]({'additionalSpells':_0x536d79[_0x1a41ba(0x18c)],'sourceHintText':_0x536d79[_0x1a41ba(0x19f)],'curLevel':_0x3d99e0,'targetLevel':_0x5a90e2['targetLevel'],'spellLevelLow':_0x1513ae?_0x1513ae['spellLevelLow']:null,'spellLevelHigh':_0x1513ae?_0x1513ae[_0x1a41ba(0x1f1)]:null,'isStandalone':!![]});if(_0x3296b8==null)return _0x5a90e2[_0x1a41ba(0x35d)]=!![];_0x3296b8!==VeCt['SYM_UI_SKIP']&&await Charactermancer_AdditionalSpellsSelect[_0x1a41ba(0x286)](this['_actor'],_0x3296b8,{'abilityAbv':_0x536d79['spellcastingAbility']});for(const _0x435dbb of _0x582dd0){const _0x3b0aa8=Charactermancer_Spell_Util[_0x1a41ba(0x25e)]({'casterProgression':_0x435dbb?.[_0x1a41ba(0x1ec)]||_0x536d79[_0x1a41ba(0x1ec)],'curLevel':_0x3d99e0,'targetLevel':_0x5a90e2[_0x1a41ba(0x294)]}),_0x406691=await Charactermancer_AdditionalSpellsSelect[_0x1a41ba(0x2e4)]({'additionalSpells':_0x435dbb['additionalSpells'],'sourceHintText':_0x435dbb[_0x1a41ba(0x19f)],'curLevel':_0x3d99e0,'targetLevel':_0x5a90e2[_0x1a41ba(0x294)],'spellLevelLow':_0x3b0aa8?_0x3b0aa8[_0x1a41ba(0x21b)]:null,'spellLevelHigh':_0x3b0aa8?_0x3b0aa8[_0x1a41ba(0x1f1)]:null,'isStandalone':!![]});if(_0x406691==null)return _0x5a90e2[_0x1a41ba(0x35d)]=!![];if(_0x406691===VeCt[_0x1a41ba(0x31d)])continue;await Charactermancer_AdditionalSpellsSelect[_0x1a41ba(0x286)](this[_0x1a41ba(0x1f6)],_0x406691,{'abilityAbv':_0x435dbb[_0x1a41ba(0x307)]});}}async[_0x74276c(0x123)](_0x41a7fc,_0x4ccf14,_0x21e4fb,_0x582e17,_0x1a632e,_0x399e32){const _0x2e2e89=_0x74276c;if(_0x41a7fc[_0x2e2e89(0x1aa)]){await this['_pImportEntry_pFillItemArrayPredefinedFeatures']({'allPreloadedFeatures':_0x41a7fc[_0x2e2e89(0x1aa)],'cls':_0x41a7fc,'sc':_0x4ccf14,'importOpts':_0x1a632e,'dataBuilderOpts':_0x399e32}),this[_0x2e2e89(0x136)]({'conInitial':_0x41a7fc['_foundryConInitial'],'conFinal':_0x41a7fc[_0x2e2e89(0x143)],'isConPreApplied':!![],'dataBuilderOpts':_0x399e32});return;}const _0x410a29=_0x21e4fb[_0x2e2e89(0x1a4)](_0x22601b=>_0x582e17[_0x2e2e89(0x100)](_0x22601b['level']-0x1)),_0x310ebc=await this[_0x2e2e89(0x249)](_0x410a29,_0x1a632e,_0x399e32);if(_0x399e32[_0x2e2e89(0x35d)])return;this[_0x2e2e89(0x136)]({'conInitial':_0x310ebc[_0x2e2e89(0x221)],'conFinal':_0x310ebc[_0x2e2e89(0x1ab)],'dataBuilderOpts':_0x399e32});}async[_0x74276c(0x1d3)]({allPreloadedFeatures:_0x451eb5,cls:_0x53e790,sc:_0x40c14b,importOpts:_0x575824,dataBuilderOpts:_0x4ed856}){const _0x1706a8=_0x74276c,{ImportListClassFeature:_0x44d212}=await import('./ImportListClassFeature.js'),{ImportListOptionalFeature:_0x18385b}=await import(_0x1706a8(0x264)),_0x3ea328=new _0x44d212({'actor':this[_0x1706a8(0x1f6)]});await _0x3ea328[_0x1706a8(0x103)]();const _0x8eea80=new _0x18385b({'actor':this[_0x1706a8(0x1f6)]});await _0x8eea80[_0x1706a8(0x103)]();for(const _0xc0196f of _0x451eb5){if(_0xc0196f['_foundryIsIgnoreFeature'])continue;switch(_0xc0196f[_0x1706a8(0x155)]){case'optionalfeature':{const _0x500292=await _0x8eea80[_0x1706a8(0x258)](_0xc0196f['entity'],{'isCharactermancer':!![],'isLeaf':!![]}),_0x2a7ebb=this[_0x1706a8(0x126)][_0x1706a8(0x2f1)]({'importSummary':_0x500292,'level':_0xc0196f[_0x1706a8(0x2fa)][_0x1706a8(0x233)]}),_0x43aca2=_0xc0196f['entity']?.[_0x1706a8(0x306)]?_0x4ed856[_0x1706a8(0x2a0)]:_0x4ed856['importedClassFeatureLevelledEmbeddedDocuments'];_0x43aca2['push'](..._0x2a7ebb);break;}case _0x1706a8(0x265):{const _0x4e57ec=await _0x3ea328[_0x1706a8(0x258)](_0xc0196f['entity'],{'isCharactermancer':!![],'isLeaf':!![],'spellcastingAbilityAbv':_0x53e790[_0x1706a8(0x307)]});_0x4ed856[_0x1706a8(0x34d)]['push'](...this[_0x1706a8(0x126)]['_getLevelledEmbeddedDocuments']({'importSummary':_0x4e57ec,'level':_0xc0196f[_0x1706a8(0x2fa)][_0x1706a8(0x233)]}));break;}case _0x1706a8(0x169):{const _0x47f215=await _0x3ea328[_0x1706a8(0x258)](_0xc0196f['entity'],{'isCharactermancer':!![],'isLeaf':!![],'spellcastingAbilityAbv':_0x40c14b?.[_0x1706a8(0x307)]});_0x4ed856[_0x1706a8(0x2a0)][_0x1706a8(0x226)](...this[_0x1706a8(0x126)]['_getLevelledEmbeddedDocuments']({'importSummary':_0x47f215,'level':_0xc0196f[_0x1706a8(0x2fa)][_0x1706a8(0x233)]}));break;}default:throw new Error(_0x1706a8(0x1da)+_0xc0196f[_0x1706a8(0x155)]+'\x22');}}}async['_pImportEntry_pFillItemArrayFeatures'](_0x401e88,_0x1d3f91,_0x539557){const _0x588525=_0x74276c,_0x540a23=Charactermancer_Util['getCurrentAbilityScores'](this[_0x588525(0x1f6)])[_0x588525(0x35b)],_0x304ead=new Charactermancer_Class_Util[(_0x588525(0x16b))](this[_0x588525(0x1f6)]),{ImportListClassFeature:_0x5c6c31}=await import(_0x588525(0x273)),_0x359213=new _0x5c6c31({'actor':this[_0x588525(0x1f6)]});await _0x359213['pInit']();for(const _0x14f4ff of _0x401e88){const _0x7669a4=(_0x14f4ff[_0x588525(0x19f)]||'')[_0x588525(0x322)]()[_0x588525(0xf6)]();if(_0x7669a4==='ability\x20score\x20improvement'){const _0xd9079a=new ImportListClass[(_0x588525(0x254))](this[_0x588525(0x1f6)],_0x14f4ff[_0x588525(0x233)],_0x539557);_0xd9079a['render'](!![]);const _0x2a150c=await _0xd9079a[_0x588525(0x2d9)]();if(_0x2a150c){const _0x370f64=new ImportListFeat({'actor':this['_actor']});await _0x370f64['pImportEntry'](_0x2a150c,{'isCharactermancer':_0x1d3f91[_0x588525(0x23f)]});}continue;}if(_0x14f4ff[_0x588525(0x15f)]?.[_0x588525(0x2e8)]){_0x14f4ff[_0x588525(0x15f)]=_0x14f4ff[_0x588525(0x15f)][_0x588525(0x1a4)](_0x50c454=>!_0x50c454?.[_0x588525(0x26e)]);if(!_0x14f4ff[_0x588525(0x15f)][_0x588525(0x2e8)])continue;}const _0x331985=await _0x359213['pImportEntry'](_0x14f4ff,{'isCharactermancer':_0x1d3f91[_0x588525(0x23f)],'isPreLoadedFeature':!![],'featureEntriesPageFilter':this[_0x588525(0x317)],'featureEntriesPageFilterValues':_0x1d3f91[_0x588525(0x25f)]||this[_0x588525(0x317)][_0x588525(0x1cd)][_0x588525(0x2f7)](),'existingFeatureChecker':_0x304ead,'spellcastingAbilityAbv':_0x539557[_0x588525(0x307)]}),_0x4bbd74=this['constructor'][_0x588525(0x2f1)]({'importSummary':_0x331985,'level':_0x14f4ff['level']});if(_0x14f4ff[_0x588525(0x265)])_0x539557[_0x588525(0x34d)][_0x588525(0x226)](..._0x4bbd74);else _0x14f4ff['subclassFeature']?_0x539557['importedSubclassFeatureLevelledEmbeddedDocuments']['push'](..._0x4bbd74):console[_0x588525(0x12a)](...LGT,_0x588525(0x2d5));}if(_0x539557[_0x588525(0x35d)])return;const _0x3e1955=Charactermancer_Util['getCurrentAbilityScores'](this[_0x588525(0x1f6)])[_0x588525(0x35b)];return{'conInitial':_0x540a23,'conFinal':_0x3e1955};}static[_0x74276c(0x2f1)]({importSummary:_0x4e75fd,level:_0x3bccf9}){const _0x22d0ef=_0x74276c;return _0x4e75fd[_0x22d0ef(0x2be)][_0x22d0ef(0x1a4)](_0x3c6477=>_0x3c6477[_0x22d0ef(0x186)])[_0x22d0ef(0x2b3)](_0x5152c2=>new UtilAdvancements[(_0x22d0ef(0x2a7))]({'embeddedDocument':_0x5152c2['embeddedDocument'],'level':_0x3bccf9}));}[_0x74276c(0x136)]({conInitial:_0xc36a77,conFinal:_0x55002b,dataBuilderOpts:_0x27d697,isConPreApplied:_0x3aa01b}){const _0x43de3e=_0x74276c;if(_0xc36a77==null||_0x55002b==null||_0x55002b===_0xc36a77)return;const _0x591f23=Parser[_0x43de3e(0x2dc)](_0xc36a77),_0x5c1819=Parser[_0x43de3e(0x2dc)](_0x55002b),_0x33ba79=(_0x27d697['numLevelsPrev']+(_0x3aa01b?0x0:_0x27d697['numLevels']))*(_0x5c1819-_0x591f23),{value:_0x433122,max:_0x1b363f}=Charactermancer_Util[_0x43de3e(0x1ef)](this[_0x43de3e(0x1f6)]),_0x2921a8=_0x433122+_0x33ba79,_0xc4057d=_0x1b363f+_0x33ba79;MiscUtil[_0x43de3e(0x26b)](_0x27d697[_0x43de3e(0x1d1)],_0x43de3e(0x10c),_0x43de3e(0x164),'hp','value',_0x2921a8),MiscUtil[_0x43de3e(0x26b)](_0x27d697[_0x43de3e(0x1d1)],'data',_0x43de3e(0x164),'hp',_0x43de3e(0x299),_0xc4057d);}async[_0x74276c(0x122)](_0x5dadac,_0x12fde7,_0x2c5bbd){const _0x4eb75f=_0x74276c;for(const {dataBuilderProp:_0x10a462,dataBuilderPropOut:_0x5263cd,pFnHasSideLoadedEffects:_0x50c178,pFnGetSideLoadedEffects:_0x24fab9}of[{'dataBuilderProp':'classItemToCreate','dataBuilderPropOut':_0x4eb75f(0x333),'pFnHasSideLoadedEffects':DataConverterClass[_0x4eb75f(0x327)]['bind'](DataConverterClass),'pFnGetSideLoadedEffects':DataConverterClass[_0x4eb75f(0x1b6)][_0x4eb75f(0x33e)](DataConverterClass)},{'dataBuilderProp':_0x4eb75f(0x108),'dataBuilderPropOut':'subclassItem','pFnHasSideLoadedEffects':DataConverterClass['pHasSubclassSideLoadedEffects']['bind'](DataConverterClass),'pFnGetSideLoadedEffects':DataConverterClass[_0x4eb75f(0x26f)][_0x4eb75f(0x33e)](DataConverterClass)}]){if(!_0x2c5bbd[_0x10a462])continue;const _0x2997dd=await UtilActors[_0x4eb75f(0xfc)](this[_0x4eb75f(0x1f6)],[_0x2c5bbd[_0x10a462]]);_0x2c5bbd[_0x5263cd]=DataConverter[_0x4eb75f(0x342)](_0x2997dd,_0x2c5bbd[_0x10a462])?.[_0x4eb75f(0x1c3)];if(await _0x50c178({'actor':this['_actor'],'cls':_0x5dadac,'sc':_0x12fde7})&&_0x2c5bbd[_0x5263cd]){const _0x2eb01e=await _0x24fab9({'actor':this[_0x4eb75f(0x1f6)],'cls':_0x5dadac,'sc':_0x12fde7,'sheetItem':_0x2c5bbd[_0x5263cd]});await UtilActors[_0x4eb75f(0x336)](this[_0x4eb75f(0x1f6)],_0x2eb01e);}}const _0x2fd280=[_0x2c5bbd[_0x4eb75f(0x35a)]?_0x2c5bbd[_0x4eb75f(0x334)]:null,_0x2c5bbd['isPersistSubclassItemUpdate']?_0x2c5bbd[_0x4eb75f(0x211)]:null]['filter'](Boolean);_0x2fd280[_0x4eb75f(0x2e8)]&&await UtilDocuments[_0x4eb75f(0x1cb)](this['_actor'],_0x2fd280,{'propData':_0x4eb75f(0x192),'ClsEmbed':Item});}async[_0x74276c(0x1f5)](){const _0x360fdd=_0x74276c;if(!Config[_0x360fdd(0x361)](this[_0x360fdd(0x21d)],_0x360fdd(0x2e6)))return;const _0x574c1e=MiscUtil[_0x360fdd(0x361)](this['_actor'],_0x360fdd(0x10c),'items')||[],_0x2ef351=_0x574c1e[_0x360fdd(0x357)](_0x285b94=>_0x285b94[_0x360fdd(0x19f)][_0x360fdd(0x27d)]('(')[0x0][_0x360fdd(0xf6)]()[_0x360fdd(0x322)]()===ImportListClass[_0x360fdd(0x12c)][_0x360fdd(0x322)]());if(_0x2ef351)return;const _0x3d41c1={'name':'Unarmed\x20Strike','source':SRC_PHB,'page':0x95,'srd':!![],'type':'M','rarity':_0x360fdd(0xee),'weaponCategory':_0x360fdd(0x310),'foundryData':{'equipped':!![],'damage.parts':[[_0x360fdd(0x34c),_0x360fdd(0x1ad)]],'ability':_0x360fdd(0x2df)}},{ChooseImporter:_0x4dfa3a}=await import(_0x360fdd(0x135)),_0x4e9c96=_0x4dfa3a['getImporter'](_0x360fdd(0x2bf),this['_actor']);await _0x4e9c96[_0x360fdd(0x103)](),await _0x4e9c96['pImportEntry'](_0x3d41c1);}async['_pImportEntry_pAddAdvancements'](_0xb5bd1e){const _0x4c1875=_0x74276c;_0xb5bd1e['importedClassFeatureLevelledEmbeddedDocuments'][_0x4c1875(0x2e8)]&&await UtilAdvancements['pAddAdvancementLinks']({'actor':this[_0x4c1875(0x1f6)],'parentEmbeddedDocument':_0xb5bd1e[_0x4c1875(0x333)],'childLevelledEmbeddedDocuments':_0xb5bd1e[_0x4c1875(0x34d)]}),_0xb5bd1e[_0x4c1875(0x2a0)][_0x4c1875(0x2e8)]&&await UtilAdvancements['pAddAdvancementLinks']({'actor':this[_0x4c1875(0x1f6)],'parentEmbeddedDocument':_0xb5bd1e[_0x4c1875(0x1fe)],'childLevelledEmbeddedDocuments':_0xb5bd1e[_0x4c1875(0x2a0)]});}async[_0x74276c(0x323)](_0x3e2c4f){const _0x143702=_0x74276c;if(_0x3e2c4f['formDataEquipment']?.[_0x143702(0x10c)]?.[_0x143702(0x363)])MiscUtil[_0x143702(0x26b)](_0x3e2c4f[_0x143702(0x1d1)],_0x143702(0x10c),_0x143702(0x363),_0x3e2c4f['formDataEquipment'][_0x143702(0x10c)]['currency']);await this['_pDoMergeAndApplyActorUpdate'](_0x3e2c4f[_0x143702(0x1d1)]),await Charactermancer_StartingEquipment[_0x143702(0x10e)](this[_0x143702(0x1f6)],_0x3e2c4f[_0x143702(0x292)]);_0x3e2c4f['effects']['length']&&await UtilActors['pAddActorEffects'](this['_actor'],_0x3e2c4f['effects']);Config['get'](_0x143702(0x15b),Config[_0x143702(0x242)]({'actorType':this[_0x143702(0x1f6)]?.[_0x143702(0x155)]}))===ConfigConsts[_0x143702(0x29f)]&&(!UtilActors[_0x143702(0x149)]({'actor':this[_0x143702(0x1f6)]})&&await UtilActors[_0x143702(0x336)](this[_0x143702(0x1f6)],UtilActors['getActorSpellPointsSlotsEffectData']({'actor':this[_0x143702(0x1f6)],'sheetIem':_0x3e2c4f[_0x143702(0x333)]})),Object[_0x143702(0x18d)](_0x3e2c4f[_0x143702(0x24c)],foundry[_0x143702(0x331)]['flattenObject'](UtilActors['getActorSpellPointsSlotsUpdateData']())));Util[_0x143702(0x31a)](_0x3e2c4f[_0x143702(0x24c)]);if(Object[_0x143702(0x2e0)](_0x3e2c4f['postItemActorUpdate'])[_0x143702(0x2e8)])await UtilDocuments[_0x143702(0x274)](this['_actor'],_0x3e2c4f['postItemActorUpdate']);}async['_pValidateUserLevelIndices'](_0x676394,_0x48a5c9){const _0x398e78=_0x74276c;if(_0x676394[_0x398e78(0x2e8)]>0x1)return;if(_0x676394[0x0]===0x0)return;const _0x28cdbb=this['_actor'][_0x398e78(0x192)][_0x398e78(0x1a4)](_0x2236b2=>_0x2236b2['type']==='class');if(_0x28cdbb['length'])return;const _0x4dbab5=_0x676394[0x0]+0x1,_0x122064=await InputUiUtil[_0x398e78(0x148)]({'title':'Import\x20Lower\x20Levels?','htmlDescription':_0x398e78(0x14e)+_0x4dbab5+').\x20Would\x20you\x20like\x20to\x20import\x20level'+(_0x4dbab5===0x2?'':'s')+'\x20'+(_0x4dbab5===0x2?'1':'1-'+(_0x4dbab5-0x1))+_0x398e78(0x244),'textYes':'Import\x20Levels\x201-'+_0x4dbab5,'textNo':_0x398e78(0x138)+_0x4dbab5});if(_0x122064==null){_0x48a5c9[_0x398e78(0x35d)]=!![];return;}if(_0x122064){const _0x33f841=_0x676394[0x0];for(let _0x4f1d42=0x0;_0x4f1d42<=_0x33f841;++_0x4f1d42){_0x676394[_0x4f1d42]=_0x4f1d42;}}}async['_pImportEntry_pDoUpdateCharacter_pPopulateEquipment'](_0x2ab272,_0x4386b0){const _0x156852=_0x74276c;if(!_0x2ab272[_0x156852(0x31e)])return;const _0x38965f=new Charactermancer_StartingEquipment({'actor':this[_0x156852(0x1f6)],'startingEquipment':_0x2ab272[_0x156852(0x31e)],'appSubTitle':_0x2ab272[_0x156852(0x19f)],'equiSpecialSource':_0x2ab272[_0x156852(0x1af)],'equiSpecialPage':_0x2ab272[_0x156852(0x150)]}),_0x20e6ca=await _0x38965f['pWaitForUserInput']();if(_0x20e6ca==null)return _0x4386b0[_0x156852(0x35d)]=!![];if(_0x20e6ca===VeCt[_0x156852(0x31d)])return;_0x4386b0['formDataEquipment']=_0x20e6ca;}static async[_0x74276c(0xf3)](){const _0x2739b8=_0x74276c,_0x9843b3=new ModalFilterClasses({'namespace':ModalFilterClasses[_0x2739b8(0x19f)]+'.default'});return await _0x9843b3[_0x2739b8(0x289)](),_0x9843b3[_0x2739b8(0x214)][_0x2739b8(0x1cd)][_0x2739b8(0x2f7)]();}[_0x74276c(0x111)](_0x1816d4){const _0x76591=_0x74276c,_0x25bef3=this[_0x76591(0x2ef)][_0x1816d4[_0x76591(0x10c)]['ixClass']],_0x2c7b52=_0x25bef3[_0x76591(0x325)][_0x1816d4[_0x76591(0x10c)][_0x76591(0x30a)]],_0x5d41de=DataUtil[_0x76591(0x184)][_0x76591(0x34e)](_0x25bef3,'class');return _0x76591(0x22c)+_0x5d41de+']';}}ImportListClass[_0x74276c(0x308)]=_0x74276c(0x10a),ImportListClass[_0x74276c(0x12c)]='Unarmed\x20Strike',ImportListClass[_0x74276c(0x344)]=class extends ImportListCharacter[_0x74276c(0x344)]{constructor(_0x4cca66){const _0x395f6c=_0x74276c;super(_0x4cca66),_0x4cca66=_0x4cca66||{},this[_0x395f6c(0x272)]=!!_0x4cca66['isClassImport'],this[_0x395f6c(0x1d1)]={},this[_0x395f6c(0x24c)]={},this['classItemToCreate']=null,this[_0x395f6c(0x334)]=null,this[_0x395f6c(0x35a)]=![],this[_0x395f6c(0x108)]=null,this['subclassItemUpdate']=null,this[_0x395f6c(0x161)]=![],this[_0x395f6c(0x333)]=null,this[_0x395f6c(0x1fe)]=null,this[_0x395f6c(0x292)]=null,this[_0x395f6c(0x294)]=null,this[_0x395f6c(0x200)]=null,this[_0x395f6c(0x207)]=null,this['isIncludesLevelOne']=null,this[_0x395f6c(0x1f4)]=null,this[_0x395f6c(0x282)]=null,this[_0x395f6c(0x34d)]=[],this[_0x395f6c(0x2a0)]=[];}},ImportListClass[_0x74276c(0x33d)]=class{static[_0x74276c(0x1a8)]({allContentFlat:_0x465f37}){const _0x21d46b=_0x74276c;_0x465f37=MiscUtil[_0x21d46b(0x1ea)](_0x465f37);const _0x166ba6=[],_0x5f38de=new Set();return _0x465f37[_0x21d46b(0x163)](_0x2d618f=>{const _0x2ebf38=_0x21d46b,_0x1852da=UrlUtil[_0x2ebf38(0x293)][UrlUtil[_0x2ebf38(0xf7)]](_0x2d618f);if(_0x5f38de[_0x2ebf38(0x1a6)](_0x1852da)){if(_0x2d618f['subclasses']?.['length']){const _0x37d898=_0x166ba6[_0x2ebf38(0x127)](_0x4a27c9=>UrlUtil[_0x2ebf38(0x293)][UrlUtil['PG_CLASSES']](_0x4a27c9)===_0x1852da);(_0x37d898[_0x2ebf38(0x325)]=_0x37d898[_0x2ebf38(0x325)]||[])[_0x2ebf38(0x226)](..._0x2d618f['subclasses']);}return;}_0x5f38de['add'](_0x1852da),_0x166ba6[_0x2ebf38(0x226)](_0x2d618f);}),_0x166ba6;}static[_0x74276c(0x2a5)]({dedupedAllContentFlat:_0x30f3b8}){const _0x3fbba2=_0x74276c,_0x3c731f=_0x30f3b8[_0x3fbba2(0x1a4)](_0x35d388=>{const _0x51f642=_0x3fbba2;if(_0x35d388[_0x51f642(0x1af)]===VeCt[_0x51f642(0x1de)])return![];return!ExcludeUtil['isExcluded'](UrlUtil[_0x51f642(0x293)][_0x51f642(0x2fc)](_0x35d388),_0x51f642(0x2fc),_0x35d388[_0x51f642(0x1af)],{'isNoCount':!![]});});return _0x3c731f['forEach'](_0x31f15b=>{const _0x349d27=_0x3fbba2;if(!_0x31f15b['subclasses'])return;_0x31f15b['subclasses']=_0x31f15b[_0x349d27(0x325)][_0x349d27(0x1a4)](_0x584826=>{const _0x59d603=_0x349d27;if(_0x584826[_0x59d603(0x1af)]===VeCt[_0x59d603(0x1de)])return![];return!ExcludeUtil['isExcluded'](UrlUtil[_0x59d603(0x293)][_0x59d603(0x215)](_0x584826),_0x59d603(0x215),_0x584826[_0x59d603(0x1af)],{'isNoCount':!![]});});}),_0x3c731f;}},ImportListClass[_0x74276c(0x254)]=class extends Application{constructor(_0xa64eb,_0x37cacf,_0x1f9fcc){const _0x1476b0=_0x74276c;super({'title':_0x1476b0(0x113)+_0x37cacf,'template':SharedConsts[_0x1476b0(0x205)]+_0x1476b0(0x2ec),'width':0x280,'resizable':!![]}),this[_0x1476b0(0x230)]=_0x1f9fcc,this['_resolve']=null,this[_0x1476b0(0x263)]=null,this[_0x1476b0(0x25a)]=new Promise((_0x16a977,_0x33bee8)=>{const _0x4c7821=_0x1476b0;this[_0x4c7821(0x25d)]=_0x16a977,this[_0x4c7821(0x263)]=_0x33bee8;}),this[_0x1476b0(0x364)]=new ImportListClass[(_0x1476b0(0x254))]['Component'](_0xa64eb,_0x1f9fcc,this[_0x1476b0(0x118)][_0x1476b0(0x33e)](this));}[_0x74276c(0x2b9)](_0x144b8c){const _0x980c48=_0x74276c;this[_0x980c48(0x364)][_0x980c48(0x24e)](_0x144b8c);}async[_0x74276c(0x118)](){const _0x3aeb04=_0x74276c;await super['close']();if(!this['_comp'][_0x3aeb04(0x1df)])this[_0x3aeb04(0x230)][_0x3aeb04(0x35d)]=!![];this[_0x3aeb04(0x25d)](this[_0x3aeb04(0x364)][_0x3aeb04(0x12f)]());}['pWaitForUserInput'](){return this['_pUserInput'];}},ImportListClass[_0x74276c(0x254)][_0x74276c(0x131)]=class extends BaseComponent{constructor(_0x80d8ea,_0x3c89c5,_0x1b1a90){const _0x20e945=_0x74276c;super(),this[_0x20e945(0x1f6)]=_0x80d8ea,this[_0x20e945(0x230)]=_0x3c89c5,this[_0x20e945(0x2f4)]=_0x1b1a90,this[_0x20e945(0x110)]=![],Object[_0x20e945(0x18d)](this[_0x20e945(0x315)],Charactermancer_Util[_0x20e945(0x13e)](this[_0x20e945(0x1f6)]));}get['isDataEntered'](){const _0x159ab0=_0x74276c;return this[_0x159ab0(0x110)];}[_0x74276c(0x24e)](_0xa982f4){const _0x2acf67=_0x74276c,_0x1eeaab=$(_0x2acf67(0x320))[_0x2acf67(0x350)](()=>this[_0x2acf67(0x172)][_0x2acf67(0x339)]='ability'),_0x577c7c=$(_0x2acf67(0x18f))['click'](()=>this[_0x2acf67(0x172)]['mode']=_0x2acf67(0x2a9)),_0x2707fc=$(_0x2acf67(0x2f3)),_0x206cac=$(_0x2acf67(0x2f3)),_0x549703=()=>{const _0x4626c8=_0x2acf67,_0x256b43=this['_state']['mode']==='ability';_0x1eeaab[_0x4626c8(0x1bd)](_0x4626c8(0x1ba),_0x256b43),_0x577c7c[_0x4626c8(0x1bd)](_0x4626c8(0x1ba),!_0x256b43),_0x2707fc[_0x4626c8(0x146)](_0x256b43),_0x206cac['toggleVe'](!_0x256b43);};_0x549703(),this[_0x2acf67(0x2e3)](_0x2acf67(0x339),_0x549703),this[_0x2acf67(0x22b)](_0x2707fc),this[_0x2acf67(0x29c)](_0x206cac),$$(_0xa982f4)`<div class="ve-flex-col w-100 h-100">
			<div class="ve-flex no-shrink btn-group mb-1">${_0x1eeaab}${_0x577c7c}</div>
			${_0x2707fc}
			${_0x206cac}
		</div>`;}[_0x74276c(0x22b)](_0x492cf6){const _0x4c2bf9=_0x74276c,_0x49b02b=[_0x4c2bf9(0x2df),_0x4c2bf9(0x120),_0x4c2bf9(0x35b),_0x4c2bf9(0x1d5),_0x4c2bf9(0x13c),_0x4c2bf9(0x124)][_0x4c2bf9(0x2b3)](_0x351327=>{const _0x4ac270=_0x4c2bf9,_0x305666=$(_0x4ac270(0x1a5)),_0x2af93e=$('<div\x20class=\x22col-2\x20text-center\x22></div>'),_0x832e30=()=>{const _0x3ba39f=_0x4ac270;_0x305666[_0x3ba39f(0x367)](this[_0x3ba39f(0x172)][_0x351327]),_0x2af93e[_0x3ba39f(0x367)](Parser[_0x3ba39f(0x1e8)](this[_0x3ba39f(0x172)][_0x351327]));};this['_addHookBase'](_0x351327,_0x832e30),_0x832e30();const _0x3f8117=_0x351327+_0x4ac270(0x10f),{$wrp:_0x580438,$ipt:_0x261292}=ComponentUiUtil[_0x4ac270(0x175)](this,_0x3f8117,0x0,{'min':0x0,'fallbackOnNaN':0x0,'html':_0x4ac270(0x234),'asMeta':!![],'decorationRight':_0x4ac270(0x180),'decorationLeft':_0x4ac270(0x238)});_0x261292[_0x4ac270(0x350)](()=>_0x261292[_0x4ac270(0x17d)]());const _0x22bc70=$(_0x4ac270(0x1a5)),_0xfb1e2a=$(_0x4ac270(0x1a5)),_0x2d064c=()=>{const _0x9c29d7=_0x4ac270,_0x20f6d4=this[_0x9c29d7(0x172)][_0x351327]+this[_0x9c29d7(0x172)][_0x3f8117];_0x22bc70['text'](_0x20f6d4),_0xfb1e2a[_0x9c29d7(0x367)](Parser[_0x9c29d7(0x1e8)](_0x20f6d4)),_0x22bc70['toggleClass'](_0x9c29d7(0x1e5),_0x20f6d4>0x14)[_0x9c29d7(0x340)](_0x20f6d4>0x14?_0x9c29d7(0x2b2):'');};this[_0x4ac270(0x2e3)](_0x3f8117,_0x2d064c),_0x2d064c();const _0x4b7923=$$`<div class="ve-flex w-100 my-1">
				<div class="col-1 text-right bold">${_0x351327[_0x4ac270(0x189)]()}</div>
				${_0x305666}
				${_0x2af93e}
				<div class="col-2">${_0x580438}</div>
				<div class="col-1 text-center">=</div>
				${_0x22bc70}
				${_0xfb1e2a}
			</div>`;return{'$row':_0x4b7923,'$iptBonus':_0x261292};}),_0x41e649=$(_0x4c2bf9(0x32e)),_0x48f8b9=()=>{const _0x20dc40=_0x4c2bf9,_0x468971=[_0x20dc40(0x102),_0x20dc40(0x20e),_0x20dc40(0x248),_0x20dc40(0x1f7),_0x20dc40(0x210),_0x20dc40(0x28d)][_0x20dc40(0x2b3)](_0x5bdebd=>this[_0x20dc40(0x172)][_0x5bdebd])[_0x20dc40(0x1fb)]((_0x9a1dc6,_0x5ccf42)=>_0x9a1dc6+_0x5ccf42,0x0),_0x172dd6=_0x468971>0x2;_0x41e649[_0x20dc40(0x367)]('Remaining:\x20'+(0x2-_0x468971))[_0x20dc40(0x1bd)](_0x20dc40(0x1e5),_0x172dd6),_0x49b02b[_0x20dc40(0x163)](_0x373a13=>_0x373a13[_0x20dc40(0xf1)]['toggleClass']('form-control--error',_0x172dd6));};['strBonus',_0x4c2bf9(0x20e),_0x4c2bf9(0x248),_0x4c2bf9(0x1f7),_0x4c2bf9(0x210),_0x4c2bf9(0x28d)]['forEach'](_0x25dd36=>this[_0x4c2bf9(0x2e3)](_0x25dd36,_0x48f8b9)),_0x48f8b9();const _0x46002c=$(_0x4c2bf9(0x112))[_0x4c2bf9(0x350)](async()=>{const _0x372f4a=_0x4c2bf9,_0x383318=[this[_0x372f4a(0x172)][_0x372f4a(0x102)],this['_state'][_0x372f4a(0x20e)],this[_0x372f4a(0x172)]['conBonus'],this['_state']['intBonus'],this['_state'][_0x372f4a(0x210)],this[_0x372f4a(0x172)]['chaBonus']]['reduce']((_0x3814dc,_0x58bcc4)=>_0x3814dc+_0x58bcc4,0x0);if(_0x383318!==0x2)return ui[_0x372f4a(0x1b4)][_0x372f4a(0x1cf)](_0x372f4a(0x1d2));await this['_pDoResolve'](!![]);}),_0x453aa8=$(_0x4c2bf9(0x2c0))[_0x4c2bf9(0x350)](()=>this[_0x4c2bf9(0x15e)](VeCt[_0x4c2bf9(0x31d)]));$$(_0x492cf6)`
		<div class="ve-flex w-100 my-1 bold">
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Current</div>
			<div class="text-center col-2 ve-muted">Mod</div>
			<div class="text-center col-2 text-center">${_0x41e649}</div>
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Result</div>
			<div class="text-center col-2 ve-muted">Mod</div>
		</div>
		<div class="ve-flex-col w-100 h-100">
			${_0x49b02b[_0x4c2bf9(0x2b3)](_0x54644a=>_0x54644a[_0x4c2bf9(0x312)])}
		</div>
		<div class="ve-flex-v-center ve-flex-h-right w-100">${_0x46002c}${_0x453aa8}</div>
		`;}[_0x74276c(0x29c)](_0x328233){const _0x367974=_0x74276c,_0x2127c4=$('<button\x20class=\x22btn\x20btn-default\x20btn-5et\x20w-100\x20mr-2\x22>Choose\x20Feat</button>')[_0x367974(0x350)](async()=>{const _0x10c6d8=_0x367974,_0x1b96c1=await ImportListFeat[_0x10c6d8(0x11b)][_0x10c6d8(0x2a2)]({'id':_0x10c6d8(0x2eb),'name':_0x10c6d8(0x257),'singleName':_0x10c6d8(0x31b),'wizardTitleWindow':_0x10c6d8(0x21f),'wizardTitlePanel3':_0x10c6d8(0x2b7),'wizardTitleButtonOpenImporter':_0x10c6d8(0x2c2)},_0x10c6d8(0x14d));if(!_0x1b96c1)return;const {page:_0x493fb9,source:_0x4c7631,hash:_0x122023}=MiscUtil[_0x10c6d8(0x361)](_0x1b96c1,'flags',SharedConsts[_0x10c6d8(0x28b)])||{};if(!_0x493fb9||!_0x4c7631||!_0x122023)return;this['_state'][_0x10c6d8(0x2a9)]=await Renderer['hover']['pCacheAndGet'](_0x493fb9,_0x4c7631,_0x122023);}),_0xd5c368=$('<div></div>'),_0x85aac7=()=>{const _0x4ed158=_0x367974;_0xd5c368[_0x4ed158(0x2f6)]();if(!this['_state'][_0x4ed158(0x2a9)])return;_0xd5c368['html'](_0x4ed158(0x101)+this[_0x4ed158(0x172)][_0x4ed158(0x2a9)][_0x4ed158(0x19f)]+_0x4ed158(0x34f)),_0xd5c368[_0x4ed158(0x2f6)](),$$(_0xd5c368)`<hr class="hr-1">
			${Vetools[_0x4ed158(0x288)](()=>Renderer[_0x4ed158(0x352)][_0x4ed158(0x1ff)](UrlUtil[_0x4ed158(0x178)],MiscUtil[_0x4ed158(0x1ea)](this[_0x4ed158(0x172)][_0x4ed158(0x2a9)])))}`;};_0x85aac7(),this[_0x367974(0x2e3)](_0x367974(0x2a9),_0x85aac7);const _0x2e91b7=$(_0x367974(0x1c0))[_0x367974(0x350)](async()=>{const _0x26b94b=_0x367974;if(!this[_0x26b94b(0x172)][_0x26b94b(0x2a9)])return ui[_0x26b94b(0x1b4)]['error'](_0x26b94b(0x1b7));await this[_0x26b94b(0x15e)](!![]);}),_0x2cbf70=$(_0x367974(0x2a8))[_0x367974(0x350)](()=>this[_0x367974(0x15e)](VeCt[_0x367974(0x31d)]));$$(_0x328233)`
		<div class="ve-flex-col h-100">
			<div class="ve-flex-v-center mb-1">
				${_0x2127c4}
				<div class="ve-flex-v-center btn-group">${_0x2e91b7}${_0x2cbf70}</div>
			</div>
			${_0xd5c368}
		</div>
		`;}async[_0x74276c(0x15e)](_0x51568e){const _0x338c28=_0x74276c;if(!_0x51568e)return this['_fnClose']();if(_0x51568e===VeCt[_0x338c28(0x31d)])return this[_0x338c28(0x110)]=!![],this[_0x338c28(0x2f4)]();const _0x5b9b5d=this[_0x338c28(0x326)]();_0x5b9b5d&&(this[_0x338c28(0x110)]=!![],await UtilDocuments[_0x338c28(0x274)](this['_actor'],_0x5b9b5d)),this[_0x338c28(0x12f)]()&&(this['_isDataEntered']=!![]),this[_0x338c28(0x2f4)]();}[_0x74276c(0x326)](){const _0x428258=_0x74276c;if(this[_0x428258(0x172)][_0x428258(0x339)]!==_0x428258(0x251))return null;return{'data':{'abilities':{'str':{'value':this['_state'][_0x428258(0x2df)]+this[_0x428258(0x172)]['strBonus']},'dex':{'value':this[_0x428258(0x172)][_0x428258(0x120)]+this['_state'][_0x428258(0x20e)]},'con':{'value':this[_0x428258(0x172)][_0x428258(0x35b)]+this[_0x428258(0x172)][_0x428258(0x248)]},'int':{'value':this[_0x428258(0x172)][_0x428258(0x1d5)]+this[_0x428258(0x172)][_0x428258(0x1f7)]},'wis':{'value':this[_0x428258(0x172)][_0x428258(0x13c)]+this[_0x428258(0x172)][_0x428258(0x210)]},'cha':{'value':this[_0x428258(0x172)][_0x428258(0x124)]+this[_0x428258(0x172)]['chaBonus']}}}};}[_0x74276c(0x12f)](){const _0x1f4b27=_0x74276c;if(this[_0x1f4b27(0x172)][_0x1f4b27(0x339)]!==_0x1f4b27(0x2a9))return null;return MiscUtil[_0x1f4b27(0x1ea)](this[_0x1f4b27(0x172)][_0x1f4b27(0x2a9)]);}[_0x74276c(0x1ce)](){const _0x4f478d=_0x74276c;return{'mode':_0x4f478d(0x251),'str':0x0,'dex':0x0,'con':0x0,'int':0x0,'wis':0x0,'cha':0x0,'strBonus':0x0,'dexBonus':0x0,'conBonus':0x0,'intBonus':0x0,'wisBonus':0x0,'chaBonus':0x0,'feat':null};}},ImportListClass[_0x74276c(0x2b8)]=class{static[_0x74276c(0x1ed)](){Hooks['on']('renderActorSheet',(_0x4e9b88,_0x760d6,_0x35d4bb)=>{const _0x3a16c4=_0x48c1;this[_0x3a16c4(0x2f5)](_0x4e9b88,_0x760d6,_0x35d4bb)[_0x3a16c4(0x1a7)](null);});}static async['_pHandleRenderSheet'](_0x2c08a6,_0x18bde0,_0x111457){const _0x3db2ba=_0x74276c;if(!Config[_0x3db2ba(0x361)]('importClass',_0x3db2ba(0x12b)))return;if(!_0x111457[_0x3db2ba(0x20b)])return;if(!_0x111457[_0x3db2ba(0xfb)])return;const _0x2d9a00=ImportListClass['SheetLevelUpButtonAdapter']['_SUPPORTED_SHEETS'][_0x2c08a6['constructor'][_0x3db2ba(0x19f)]];if(!_0x2d9a00)return;const _0x3a0faf=Config[_0x3db2ba(0x361)](_0x3db2ba(0x10d),_0x3db2ba(0x1e1));if(game['user'][_0x3db2ba(0x27b)]<_0x3a0faf)return;const _0x1ca615=_0x2c08a6[_0x3db2ba(0x16d)][_0x3db2ba(0x192)][_0x3db2ba(0x1a4)](_0x251935=>_0x251935['type']==='class');if(!_0x1ca615['length'])return;const _0x385f94=_0x2c08a6[_0x3db2ba(0x16d)]['items'][_0x3db2ba(0x1a4)](_0x4e9823=>_0x4e9823[_0x3db2ba(0x155)]===_0x3db2ba(0x215)),_0xfaa8e8=Charactermancer_Class_Util[_0x3db2ba(0x26c)]({'classItems':_0x1ca615,'subclassItems':_0x385f94}),_0x4e96f6=await _0xfaa8e8[_0x3db2ba(0x144)](_0x38949b=>this[_0x3db2ba(0x194)](_0x38949b)),_0xb14677=!_0x4e96f6[_0x3db2ba(0x357)](_0x266206=>!_0x266206['errors'])?this['_$getBtnLevelUp_errors']({'availableClassesMetas':_0x4e96f6}):this[_0x3db2ba(0x332)]({'app':_0x2c08a6,'availableClassesMetas':_0x4e96f6});_0x2d9a00[_0x3db2ba(0x2ce)](_0x2c08a6[_0x3db2ba(0x219)],_0xb14677);}static['_$getBtn'](){const _0x288849=_0x74276c;return $(_0x288849(0x1a2));}static[_0x74276c(0x223)]({availableClassesMetas:_0x3b5568}){const _0xbb1bb2=_0x74276c,_0x4c319=_0x3b5568['map'](_0x16e28b=>_0x16e28b[_0xbb1bb2(0x2d2)])['filter'](Boolean)[_0xbb1bb2(0x1e3)]()[_0xbb1bb2(0x35f)](';\x20');return this[_0xbb1bb2(0x1b3)]()[_0xbb1bb2(0x2db)](_0xbb1bb2(0x366),!![])['title'](_0xbb1bb2(0x290)+(_0x3b5568[_0xbb1bb2(0x2e8)]?'\x20Errors\x20were:\x20'+_0x4c319+'.':''));}static[_0x74276c(0x332)]({app:_0x5a519f,availableClassesMetas:_0x236cf0}){const _0x4c04fa=_0x74276c,_0x477dcc=!UtilGameSettings[_0x4c04fa(0x287)](game['system']['id'],_0x4c04fa(0x187))&&UtilActors[_0x4c04fa(0x231)](_0x5a519f[_0x4c04fa(0x16d)]);return this[_0x4c04fa(0x1b3)]()[_0x4c04fa(0x1bd)](_0x4c04fa(0x204),!!_0x477dcc)[_0x4c04fa(0x340)]('Level\x20Up')['click'](async()=>{const _0x4bd1d3=_0x4c04fa,{$modalInner:_0x4a6cc6,doClose:_0x1d6296,doAutoResize:_0x4e1cdf}=await UtilApplications['pGetShowApplicationModal']({'title':_0x4bd1d3(0x365),'isMaxWidth640p':!![],'isMinHeight0':!![]}),_0x172664=_0x236cf0[_0x4bd1d3(0x2b3)](({errors:_0x45b875,existingClassItem:_0x42b0b8,existingSubclassItem:_0x427c30,cls:_0x1cf441,sc:_0x4e4598,filterValues:_0x52e4cd})=>{const _0x4466a0=_0x4bd1d3;if(_0x45b875)return $$`<div class="ve-flex-col stripe-even py-1 ve-muted">
							<p>${(_0x42b0b8[_0x4466a0(0x19f)]||'')['qq']()}${_0x427c30[_0x4466a0(0x19f)]?'\x20('+_0x427c30[_0x4466a0(0x19f)]['qq']()+')':''} was not available for level up:</p>${_0x45b875['map'](_0x39749b=>_0x4466a0(0x19b)+_0x39749b['qq']()+'</i></p>')[_0x4466a0(0x35f)]('')}
						</div>`;const _0x14b19b=$(_0x4466a0(0x12d)+_0x42b0b8[_0x4466a0(0x10c)]['data']['levels']+_0x4466a0(0x24a)+(_0x42b0b8['data'][_0x4466a0(0x10c)][_0x4466a0(0x330)]+0x1)+'</button>')[_0x4466a0(0x350)](async()=>{const _0x6f6686=_0x4466a0;_0x1d6296();const _0xb933c4=Number(_0x42b0b8[_0x6f6686(0x10c)][_0x6f6686(0x10c)][_0x6f6686(0x330)])+0x1;if(!_0x4e4598){const _0x8a7772=Math[_0x6f6686(0x11e)](..._0x1cf441['classFeatures'][_0x6f6686(0x1a4)](_0x399dab=>_0x399dab[_0x6f6686(0x1d4)]&&_0x399dab[_0x6f6686(0x265)])[_0x6f6686(0x2b3)](_0x870641=>DataUtil[_0x6f6686(0x2fc)][_0x6f6686(0x2b0)](_0x870641['classFeature'])['level']));if(_0xb933c4>=_0x8a7772){const _0x22c105=await InputUiUtil[_0x6f6686(0x148)]({'title':_0x6f6686(0x1b9),'htmlDescription':'Would\x20you\x20like\x20to\x20choose\x20a\x20subclass\x20to\x20include\x20in\x20the\x20level\x20up?','textYes':_0x6f6686(0x236),'textNo':'No'});if(_0x22c105){const _0x1d440e=new ModalFilterClasses({'namespace':ModalFilterClasses['name']+_0x6f6686(0x34a)}),_0x206cee=await _0x1d440e[_0x6f6686(0x2a6)]({'selectedClass':_0x1cf441,'isClassDisabled':!![]});if(_0x206cee)_0x4e4598=_0x206cee[_0x6f6686(0x215)];}}}const _0xd7f404=new ImportListClass({'actor':_0x5a519f[_0x6f6686(0x16d)]});await _0xd7f404['pInit'](),_0x1cf441=MiscUtil[_0x6f6686(0x1ea)](_0x1cf441),delete _0x1cf441[_0x6f6686(0x325)];const _0x25ca08=await ImportListClass[_0x6f6686(0x1f8)]({'class':[_0x1cf441],'subclass':[_0x4e4598][_0x6f6686(0x1a4)](Boolean)},{'actor':_0x5a519f[_0x6f6686(0x16d)]});await _0xd7f404[_0x6f6686(0x166)](_0x25ca08[0x0],{'levels':[_0xb933c4],'filterValues':_0x52e4cd}),ui[_0x6f6686(0x1b4)][_0x6f6686(0x314)](_0x6f6686(0x33c));});return $$`<div class="ve-flex-v-center stripe-even py-1">
						<div class="w-100 mr-2">${_0x42b0b8['name']}${_0x4e4598&&_0x427c30?'\x20('+_0x427c30[_0x4466a0(0x19f)]+')':''}</div>
						<div>${_0x14b19b}</div>
					</div>`;}),_0x51e5a5=$(_0x4bd1d3(0x351))[_0x4bd1d3(0x350)](async()=>{const _0x245e3e=_0x4bd1d3;_0x1d6296();const _0xd68645=await new ImportListClass()[_0x245e3e(0x12e)](),_0x50369c=new AppSourceSelectorMulti({'title':_0x245e3e(0x2fd),'filterNamespace':'ImportListClass_SheetLevelUpButtonAdapter_filter','savedSelectionKey':_0x245e3e(0x33a),'sourcesToDisplay':_0xd68645,'fnGetDedupedData':ImportListClass[_0x245e3e(0x33d)][_0x245e3e(0x1a8)][_0x245e3e(0x33e)](ImportListClass[_0x245e3e(0x33d)]),'fnGetBlacklistFilteredData':ImportListClass[_0x245e3e(0x33d)][_0x245e3e(0x2a5)][_0x245e3e(0x33e)](ImportListClass[_0x245e3e(0x33d)])}),_0x4a60d5=await _0x50369c[_0x245e3e(0x2d9)]();if(_0x4a60d5==null)return;const _0x2f92d1=new ModalFilterClassesFvtt({'namespace':ModalFilterClasses[_0x245e3e(0x19f)]+_0x245e3e(0x34a),'allData':_0x4a60d5}),_0x25d483=await _0x2f92d1['pGetUserSelection']({});if(!_0x25d483?.[_0x245e3e(0x2fc)])return;const _0x134290=new ImportListClass({'actor':_0x5a519f[_0x245e3e(0x16d)]});await _0x134290['pInit']();const _0x1b9aad=await Renderer['hover'][_0x245e3e(0x30d)]('raw_class',_0x25d483[_0x245e3e(0x2fc)][_0x245e3e(0x1af)],UrlUtil[_0x245e3e(0x293)][UrlUtil[_0x245e3e(0xf7)]]({'name':_0x25d483['class'][_0x245e3e(0x19f)],'source':_0x25d483[_0x245e3e(0x2fc)][_0x245e3e(0x1af)]}),{'isCopy':!![]}),_0x537b9e=_0x25d483[_0x245e3e(0x215)]?await Renderer[_0x245e3e(0x352)]['pCacheAndGet'](_0x245e3e(0x1f3),_0x25d483[_0x245e3e(0x215)][_0x245e3e(0x1af)],UrlUtil[_0x245e3e(0x293)][_0x245e3e(0x215)]({'name':_0x25d483[_0x245e3e(0x215)]['name'],'shortName':_0x25d483['subclass'][_0x245e3e(0x1fd)],'source':_0x25d483[_0x245e3e(0x215)]['source'],'className':_0x25d483[_0x245e3e(0x215)][_0x245e3e(0x2ee)],'classSource':_0x25d483['subclass'][_0x245e3e(0x2a1)]}),{'isCopy':!![]}):null;delete _0x1b9aad[_0x245e3e(0x325)];const _0x6687ef=await ImportListClass[_0x245e3e(0x1f8)]({'class':[_0x1b9aad],'subclass':[_0x537b9e][_0x245e3e(0x1a4)](Boolean)},{'actor':_0x5a519f[_0x245e3e(0x16d)]}),_0x552116=_0x6687ef[0x0];_0x552116[_0x245e3e(0x259)]=Charactermancer_Class_ProficiencyImportModeSelect[_0x245e3e(0x229)],await _0x134290[_0x245e3e(0x166)](_0x6687ef[0x0],{'levels':[0x1],'filterValues':await ImportListClass[_0x245e3e(0xf3)]()}),ui[_0x245e3e(0x1b4)][_0x245e3e(0x314)](_0x245e3e(0x33c));});$$`<div class="ve-flex-col h-100 w-100 mt-2">
						<div class="mb-1">Your current classes are listed below.</div>
						<div class="mb-1">If you level a class which does not have a subclass, and is eligible for one, you will be prompted to choose a subclass.</div>
						<div>${Renderer['get']()['render'](_0x4bd1d3(0x15d))}</div>
						<hr class="hr-2">
						<div class="w-100">
							${_0x172664}
						</div>
						<hr class="hr-1 hr--dotted">
						<div class="mt-1 mb-2 ve-flex-h-right">${_0x51e5a5}</div>
					</div>`[_0x4bd1d3(0x2c8)](_0x4a6cc6),_0x4e1cdf();});}static async[_0x74276c(0x28e)](){const _0x2efc13=_0x74276c;ImportListClass[_0x2efc13(0x2b8)]['_P_LOADING_CLASS_DATA']=ImportListClass[_0x2efc13(0x2b8)][_0x2efc13(0x2aa)]||((async()=>{const _0x3164f4=_0x2efc13;ImportListClass[_0x3164f4(0x2b8)][_0x3164f4(0x1dc)]=await DataUtil[_0x3164f4(0x2fc)]['loadRawJSON']();})()),await ImportListClass[_0x2efc13(0x2b8)][_0x2efc13(0x2aa)];}static async[_0x74276c(0x194)](_0x2e7d3a){const _0x4cfbd3=_0x74276c,{classItem:_0x3cd19c,existingSubclassItem:_0x2c33df}=_0x2e7d3a,_0x52f2a0=Number(_0x3cd19c[_0x4cfbd3(0x10c)]['data']['levels']);if(isNaN(_0x52f2a0))return{'existingClassItem':_0x3cd19c,'existingSubclassItem':_0x2c33df,'errors':[_0x4cfbd3(0x32c)+_0x3cd19c[_0x4cfbd3(0x19f)]+'\x22\x20('+_0x3cd19c['id']+_0x4cfbd3(0x171)]};const _0x2affda=_0x3cd19c?.[_0x4cfbd3(0x10c)]?.['flags']?.[SharedConsts['MODULE_NAME_FAKE']],_0x28b235=await this[_0x4cfbd3(0x23a)](_0x2affda),_0x495a31=_0x2affda&&_0x2affda[_0x4cfbd3(0x150)]&&_0x2affda[_0x4cfbd3(0x1af)]&&_0x2affda[_0x4cfbd3(0x2cc)];if(!_0x495a31)return this[_0x4cfbd3(0x33b)](_0x2e7d3a,_0x28b235);const _0x3fd605=await Renderer['hover'][_0x4cfbd3(0x30d)](_0x4cfbd3(0x2ab),_0x2affda[_0x4cfbd3(0x1af)],_0x2affda[_0x4cfbd3(0x2cc)],{'isCopy':!![]}),_0x4c4f72=_0x2affda[_0x4cfbd3(0x199)]&&_0x2affda[_0x4cfbd3(0x181)]?await Renderer['hover'][_0x4cfbd3(0x30d)]('raw_subclass',_0x2affda['sourceSubclass'],_0x2affda[_0x4cfbd3(0x181)],{'isCopy':!![]}):null;if(_0x2affda[_0x4cfbd3(0x199)]&&_0x2affda[_0x4cfbd3(0x181)]&&!_0x4c4f72)return{'existingClassItem':_0x3cd19c,'existingSubclassItem':_0x2c33df,'errors':[_0x4cfbd3(0x2c3)+_0x2affda[_0x4cfbd3(0x181)]+_0x4cfbd3(0x285)+_0x2affda[_0x4cfbd3(0x199)]+_0x4cfbd3(0x1ca)]};if(_0x3fd605)return{'existingClassItem':_0x3cd19c,'existingSubclassItem':_0x2c33df,'cls':_0x3fd605,'sc':_0x4c4f72,'filterValues':_0x28b235};if(_0x495a31)return{'existingClassItem':_0x3cd19c,'existingSubclassItem':_0x2c33df,'errors':[_0x4cfbd3(0x26d)+_0x2affda[_0x4cfbd3(0x2cc)]+_0x4cfbd3(0x285)+_0x2affda['source']+')\x20from\x20flags']};return this[_0x4cfbd3(0x33b)](_0x3cd19c,_0x28b235);}static async[_0x74276c(0x33b)](_0xd318d3,_0x3ecb0e){const _0x458509=_0x74276c,{classItem:_0x3bfb67,subclassItem:_0x231e06}=_0xd318d3;await this[_0x458509(0x28e)]();const _0x20cf11=Charactermancer_Class_Util[_0x458509(0xfd)](_0x3bfb67,ImportListClass['SheetLevelUpButtonAdapter'][_0x458509(0x1dc)][_0x458509(0x2fc)]);if(!_0x20cf11)return{'existingClassItem':_0x3bfb67,'errors':[_0x458509(0x26d)+_0x3bfb67[_0x458509(0x19f)]+_0x458509(0x285)+UtilDataConverter['getItemSource'](_0x3bfb67)[_0x458509(0x1af)]+_0x458509(0x266)]};const _0x3f7533=_0x231e06?Charactermancer_Class_Util['getSubclassFromExistingSubclassItem'](_0x231e06,_0x20cf11,ImportListClass[_0x458509(0x2b8)][_0x458509(0x1dc)]['subclass']):null;if(_0x231e06&&_0x3f7533==null)return{'existingClassItem':_0x3bfb67,'errors':[_0x458509(0x2c3)+_0x231e06['name']+_0x458509(0x157)]};return{'existingClassItem':_0x3bfb67,'existingSubclassItem':_0x231e06,'cls':_0x20cf11,'sc':_0x3f7533,'filterValues':_0x3ecb0e};}static async[_0x74276c(0x23a)](_0x538a15){const _0x480ac2=_0x74276c;if(_0x538a15?.['filterValues'])return _0x538a15[_0x480ac2(0x25f)];return ImportListClass[_0x480ac2(0xf3)]();}static['registerSupportedSheet'](_0x206994,_0x44c43f){const _0x5506d1=_0x74276c;ImportListClass[_0x5506d1(0x2b8)][_0x5506d1(0x177)][_0x206994]=_0x44c43f;}},ImportListClass['SheetLevelUpButtonAdapter']['_P_LOADING_CLASS_DATA']=null,ImportListClass['SheetLevelUpButtonAdapter']['_CACHE_CLASS_DATA']=null,ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x177)]={},ImportListClass['SheetLevelUpButtonAdapter'][_0x74276c(0x1ae)]=class{static[_0x74276c(0x2ce)](_0x56c5d8,_0x3900bd){const _0x14a030=_0x74276c;throw new Error(_0x14a030(0x276));}static['_removeExistingButton'](_0x212825){const _0x238276=_0x74276c;$(_0x212825)[_0x238276(0x127)](_0x238276(0x368))[_0x238276(0x1c1)]();}},ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x302)]=class extends ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x1ae)]{static['addButton'](_0x8832ed,_0x11d4fb){const _0x50e2e1=_0x74276c;if(!this[_0x50e2e1(0xf4)]){const _0x295395=$(_0x8832ed)[_0x50e2e1(0x127)](_0x50e2e1(0x269));this[_0x50e2e1(0xf4)]=ElementUtil[_0x50e2e1(0x354)](_0x8832ed,_0x295395[0x0]);}const _0x3dad53=ElementUtil[_0x50e2e1(0xef)](_0x8832ed,this[_0x50e2e1(0xf4)]);_0x11d4fb['css']({'fontSize':10.5}),this[_0x50e2e1(0x105)](_0x3dad53),$(_0x3dad53)[_0x50e2e1(0x202)](_0x11d4fb);}},ImportListClass[_0x74276c(0x2b8)]['SheetAdapterActorSheet5eCharacter'][_0x74276c(0xf4)]=null,ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x2d8)]('ActorSheet5eCharacter',ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x302)]),ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x2ed)]=class extends ImportListClass['SheetLevelUpButtonAdapter'][_0x74276c(0x1ae)]{static['addButton'](_0x3012c8,_0x3bd062){const _0x40343c=_0x74276c;if(!this[_0x40343c(0xf4)]){const _0x30593c=$(_0x3012c8)[_0x40343c(0x127)]('.level-information');this[_0x40343c(0xf4)]=ElementUtil[_0x40343c(0x354)](_0x3012c8,_0x30593c[0x0]);}const _0x2a0e5a=ElementUtil[_0x40343c(0xef)](_0x3012c8,this[_0x40343c(0xf4)]);_0x3bd062[_0x40343c(0x159)](_0x40343c(0x35e)),this[_0x40343c(0x105)](_0x2a0e5a),$(_0x2a0e5a)[_0x40343c(0x1c7)](_0x3bd062);}},ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x2ed)]['_INDEX_PATH']=null,ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x2d8)](_0x74276c(0x2ed),ImportListClass[_0x74276c(0x2b8)][_0x74276c(0x2ed)]);function _0x48c1(_0x56499f,_0x2f5a9d){const _0x2b94bd=_0x2b94();return _0x48c1=function(_0x48c168,_0x30d2b4){_0x48c168=_0x48c168-0xee;let _0x4c36c2=_0x2b94bd[_0x48c168];return _0x4c36c2;},_0x48c1(_0x56499f,_0x2f5a9d);}export{ImportListClass};