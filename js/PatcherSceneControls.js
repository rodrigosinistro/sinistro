const _0x5cf58c=_0xfef7;(function(_0x33c061,_0x5707ef){const _0x1b8d88=_0xfef7,_0x502abd=_0x33c061();while(!![]){try{const _0x2db8de=-parseInt(_0x1b8d88(0x1b1))/0x1+parseInt(_0x1b8d88(0x1bb))/0x2+parseInt(_0x1b8d88(0x1c5))/0x3+-parseInt(_0x1b8d88(0x1ac))/0x4+parseInt(_0x1b8d88(0x1c8))/0x5+parseInt(_0x1b8d88(0x1a7))/0x6*(parseInt(_0x1b8d88(0x197))/0x7)+parseInt(_0x1b8d88(0x1af))/0x8;if(_0x2db8de===_0x5707ef)break;else _0x502abd['push'](_0x502abd['shift']());}catch(_0xbb5d4f){_0x502abd['push'](_0x502abd['shift']());}}}(_0x3fb6,0x33fb8));import{UtilLibWrapper}from'./PatcherLibWrapper.js';function _0xfef7(_0x3020db,_0x35e474){const _0x3fb60d=_0x3fb6();return _0xfef7=function(_0xfef723,_0x14ef24){_0xfef723=_0xfef723-0x196;let _0x4d3ce0=_0x3fb60d[_0xfef723];return _0x4d3ce0;},_0xfef7(_0x3020db,_0x35e474);}function _0x3fb6(){const _0x2c65f6=['delete','Note.prototype.refresh','hud','1452752osfduK','_lw_Note_prototype_refresh','canUserModify','173224JptPNP','tools','235153zNmWqi','AmbientSound.prototype.refreshControl','groupName','_controlled','CONTROLS.LightSelect','_lw_SoundsLayer_prototype__onDeleteKey','_placeablesLayer_onDeleteKey_controlledOrHover','_lw_NotesLayer_prototype__onDeleteKey','length','visible','239304UoCpTc','select','sounds','TemplateLayer.prototype._onDeleteKey','addPatch','_lw_SoundsLayer_layerOptions','LIBWRAPPER_MODE_OVERRIDE','_addBoxSelectSupport_notes','SoundsLayer.prototype._onDeleteKey','icon','262191zZVOUJ','_addMissingBoxSelectControls','LIBWRAPPER_MODE_WRAPPER','1476525MXsQlV','isGM','controllableObjects','forEach','CONTROLS.MeasureSelect','data','user','_lw_LightingLayer_layerOptions','preInit','documentName','_lw_NotesLayer_layerOptions','_addBoxSelectSupport_measure','fas\x20fa-expand','reduce','scene','constructor','border','_BOX_SELECT_TOOL_METAS','AmbientLight.prototype.refreshControl','document','deleteEmbeddedDocuments','unshift','find','SoundsLayer.layerOptions','_addBoxSelectSupport_sounds','16618cFTkpb','some','_addBoxSelectSupport_lighting','options','_lw_AmbientLight_prototype_refreshControl','measure','TemplateLayer.layerOptions','LightingLayer.prototype._onDeleteKey','_hover','bind','_lw_MeasuredTemplate_prototype_refresh','controlIcon','_lw_AmbientSound_prototype_refreshControl','MeasuredTemplate.prototype.refresh','_lw_TemplateLayer_layerOptions','controlled','726mBupbz','_lw_LightingLayer_prototype__onDeleteKey'];_0x3fb6=function(){return _0x2c65f6;};return _0x3fb6();}class Patcher_SceneControls{static[_0x5cf58c(0x1d0)](){const _0x7f1d34=_0x5cf58c;this[_0x7f1d34(0x1c6)](),this[_0x7f1d34(0x1d3)](),this['_addBoxSelectSupport_lighting'](),this[_0x7f1d34(0x196)](),this['_addBoxSelectSupport_notes']();}static [_0x5cf58c(0x1d9)]=[{'groupName':_0x5cf58c(0x19c),'title':_0x5cf58c(0x1cc)},{'groupName':'lighting','title':_0x5cf58c(0x1b5)},{'groupName':_0x5cf58c(0x1bd),'title':'CONTROLS.SoundSelect'}];static[_0x5cf58c(0x1c6)](){Hooks['on']('getSceneControlButtons',_0x25aa0c=>{const _0x14187b=_0xfef7;if(!game[_0x14187b(0x1ce)][_0x14187b(0x1c9)])return;this[_0x14187b(0x1d9)][_0x14187b(0x1cb)](_0x57e42d=>{const _0x4a8027=_0x14187b,_0x3e18dd=_0x25aa0c[_0x4a8027(0x1de)](_0x3ecfe2=>_0x3ecfe2['name']===_0x57e42d[_0x4a8027(0x1b3)]),_0x364cf0=_0x3e18dd[_0x4a8027(0x1b0)][_0x4a8027(0x198)](_0x14de76=>_0x14de76['name']==='select');if(_0x364cf0)return;_0x3e18dd[_0x4a8027(0x1b0)][_0x4a8027(0x1dd)]({'name':_0x4a8027(0x1bc),'title':_0x57e42d['title'],'icon':_0x4a8027(0x1d4)});});});}static[_0x5cf58c(0x1d3)](){const _0x34319b=_0x5cf58c;UtilLibWrapper[_0x34319b(0x1bf)](_0x34319b(0x19d),this['_lw_TemplateLayer_layerOptions'],UtilLibWrapper[_0x34319b(0x1c7)]),UtilLibWrapper[_0x34319b(0x1bf)](_0x34319b(0x1be),this['_lw_TemplateLayer_prototype__onDeleteKey'],UtilLibWrapper[_0x34319b(0x1c1)]),UtilLibWrapper[_0x34319b(0x1bf)](_0x34319b(0x1a4),this[_0x34319b(0x1a1)],UtilLibWrapper['LIBWRAPPER_MODE_WRAPPER']);}static[_0x5cf58c(0x1a5)](_0x50390a,..._0xebb0f8){const _0x159c75=_0x5cf58c,_0x1dd64c=_0x50390a(..._0xebb0f8);return _0x1dd64c[_0x159c75(0x1ca)]=!![],_0x1dd64c;}static['_lw_TemplateLayer_prototype__onDeleteKey'](_0x565ae2,..._0x3295a7){const _0x2c06f1=_0x5cf58c;return Patcher_SceneControls[_0x2c06f1(0x1b7)]['bind'](this)(..._0x3295a7);}static[_0x5cf58c(0x1a1)](_0x159720,..._0x2ef531){const _0x3a2c82=_0x5cf58c,_0x257783=_0x159720(..._0x2ef531);return this[_0x3a2c82(0x1ab)][_0x3a2c82(0x1c4)][_0x3a2c82(0x1d8)][_0x3a2c82(0x1ba)]=this[_0x3a2c82(0x19f)]||this[_0x3a2c82(0x1b4)],_0x257783;}static[_0x5cf58c(0x199)](){const _0x339c07=_0x5cf58c;UtilLibWrapper[_0x339c07(0x1bf)]('LightingLayer.layerOptions',this['_lw_LightingLayer_layerOptions'],UtilLibWrapper['LIBWRAPPER_MODE_WRAPPER']),UtilLibWrapper[_0x339c07(0x1bf)](_0x339c07(0x19e),this[_0x339c07(0x1a8)],UtilLibWrapper['LIBWRAPPER_MODE_OVERRIDE']),UtilLibWrapper[_0x339c07(0x1bf)](_0x339c07(0x1da),this[_0x339c07(0x19b)],UtilLibWrapper[_0x339c07(0x1c7)]);}static[_0x5cf58c(0x1cf)](_0x9286cd,..._0x193647){const _0x2175fb=_0x5cf58c,_0x414cc3=_0x9286cd(..._0x193647);return _0x414cc3[_0x2175fb(0x1ca)]=!![],_0x414cc3;}static[_0x5cf58c(0x1a8)](..._0x367181){const _0x3ff9ba=_0x5cf58c;return Patcher_SceneControls['_placeablesLayer_onDeleteKey_controlledOrHover'][_0x3ff9ba(0x1a0)](this)(..._0x367181);}static['_lw_AmbientLight_prototype_refreshControl'](_0x124f97,..._0x2fde0d){const _0x4caf9d=_0x5cf58c,_0x449f68=_0x124f97(..._0x2fde0d);return this[_0x4caf9d(0x1a2)]['border']['visible']=this[_0x4caf9d(0x19f)]||this['_controlled'],_0x449f68;}static[_0x5cf58c(0x196)](){const _0x563655=_0x5cf58c;UtilLibWrapper['addPatch'](_0x563655(0x1df),this[_0x563655(0x1c0)],UtilLibWrapper[_0x563655(0x1c7)]),UtilLibWrapper['addPatch'](_0x563655(0x1c3),this[_0x563655(0x1b6)],UtilLibWrapper[_0x563655(0x1c1)]),UtilLibWrapper[_0x563655(0x1bf)](_0x563655(0x1b2),this[_0x563655(0x1a3)],UtilLibWrapper[_0x563655(0x1c7)]);}static['_lw_SoundsLayer_layerOptions'](_0x5182fe,..._0x2f057c){const _0x42f408=_0x5cf58c,_0x216218=_0x5182fe(..._0x2f057c);return _0x216218[_0x42f408(0x1ca)]=!![],_0x216218;}static[_0x5cf58c(0x1b6)](..._0x3e087a){const _0x10d08c=_0x5cf58c;return Patcher_SceneControls[_0x10d08c(0x1b7)]['bind'](this)(..._0x3e087a);}static['_lw_AmbientSound_prototype_refreshControl'](_0x38e0a3,..._0x1cfa8f){const _0xdc83a=_0x5cf58c,_0x5d076e=_0x38e0a3(..._0x1cfa8f);return this['controlIcon'][_0xdc83a(0x1d8)][_0xdc83a(0x1ba)]=this[_0xdc83a(0x19f)]||this['_controlled'],_0x5d076e;}static[_0x5cf58c(0x1c2)](){const _0x11e4a0=_0x5cf58c;UtilLibWrapper[_0x11e4a0(0x1bf)]('NotesLayer.layerOptions',this[_0x11e4a0(0x1d2)],UtilLibWrapper['LIBWRAPPER_MODE_WRAPPER']),UtilLibWrapper[_0x11e4a0(0x1bf)]('NotesLayer.prototype._onDeleteKey',this[_0x11e4a0(0x1b8)],UtilLibWrapper[_0x11e4a0(0x1c1)]),UtilLibWrapper[_0x11e4a0(0x1bf)](_0x11e4a0(0x1aa),this['_lw_Note_prototype_refresh'],UtilLibWrapper[_0x11e4a0(0x1c7)]);}static[_0x5cf58c(0x1d2)](_0x49ddfa,..._0x55c94a){const _0x58c432=_0x5cf58c,_0x50509f=_0x49ddfa(..._0x55c94a);return _0x50509f[_0x58c432(0x1ca)]=!![],_0x50509f;}static['_lw_NotesLayer_prototype__onDeleteKey'](..._0xd17998){const _0x1c8ee8=_0x5cf58c;return Patcher_SceneControls[_0x1c8ee8(0x1b7)][_0x1c8ee8(0x1a0)](this)(..._0xd17998);}static[_0x5cf58c(0x1ad)](_0x59731c,..._0x5e4d08){const _0x4e2ad7=_0x5cf58c,_0x241bb6=_0x59731c(..._0x5e4d08);return this[_0x4e2ad7(0x1a2)][_0x4e2ad7(0x1d8)]['visible']=this[_0x4e2ad7(0x19f)]||this[_0x4e2ad7(0x1b4)],_0x241bb6;}static ['_placeablesLayer_onDeleteKey_controlledOrHover']=async function(_0x59a2e4){const _0x4142c5=_0x5cf58c,_0x9c6bbe=this[_0x4142c5(0x19a)][_0x4142c5(0x1ca)]&&this[_0x4142c5(0x1a6)]?.['length']?this[_0x4142c5(0x1a6)]:this[_0x4142c5(0x19f)]?[this[_0x4142c5(0x19f)]]:[];if(!_0x9c6bbe[_0x4142c5(0x1b9)])return;const _0x3977cc=_0x9c6bbe[_0x4142c5(0x1d5)]((_0x412ce9,_0x36d009)=>{const _0x396198=_0x4142c5;if(_0x36d009[_0x396198(0x1cd)]['locked']||!_0x36d009[_0x396198(0x1db)][_0x396198(0x1ae)](game['user'],_0x396198(0x1a9)))return _0x412ce9;return _0x412ce9['push'](_0x36d009['id']),_0x412ce9;},[]);if(_0x3977cc[_0x4142c5(0x1b9)])return canvas[_0x4142c5(0x1d6)][_0x4142c5(0x1dc)](this[_0x4142c5(0x1d7)][_0x4142c5(0x1d1)],_0x3977cc);};}export{Patcher_SceneControls};