const _0x10584c=_0x4628;(function(_0x10eaef,_0x5513ba){const _0x5cce5b=_0x4628,_0x2a3cde=_0x10eaef();while(!![]){try{const _0xee641a=parseInt(_0x5cce5b(0x1c6))/0x1*(-parseInt(_0x5cce5b(0x1ce))/0x2)+-parseInt(_0x5cce5b(0x1e1))/0x3*(parseInt(_0x5cce5b(0x1b4))/0x4)+-parseInt(_0x5cce5b(0x1bd))/0x5+-parseInt(_0x5cce5b(0x1d6))/0x6*(-parseInt(_0x5cce5b(0x1cd))/0x7)+-parseInt(_0x5cce5b(0x1b6))/0x8+-parseInt(_0x5cce5b(0x1d4))/0x9+-parseInt(_0x5cce5b(0x1a6))/0xa*(-parseInt(_0x5cce5b(0x1cb))/0xb);if(_0xee641a===_0x5513ba)break;else _0x2a3cde['push'](_0x2a3cde['shift']());}catch(_0x547551){_0x2a3cde['push'](_0x2a3cde['shift']());}}}(_0x3c37,0x50dd3));import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';function _0x3c37(){const _0x39e6b7=['feat','requirements','2607kFfDQC','pGetWithDescriptionPlugins','161GYRZnP','5618zLjkhS','pGetInitVehicleUpgradeFeatureLoadeds','setFirstSection','_pGetVehicleUpgradeEffects','entries','filterValues','4248522WJnBJT','pGetVehicleUpgradeItemEffects','4362oivJfN','length','_pGetEffectsRawSideLoaded_','importVehicleUpgrade','source','vehicleUpgrade','_pGetVehicleUpgradeItem_other','getExpandedEffects','_pGetFlagsSideLoaded','modules/','MODULE_NAME','3TNmTYC','pInitVehicleUpgradeLoadeds','pGetSideLoadedMatch','pCacheAndGet','hover','permissions','_IMG_FALLBACK','_SIDE_DATA','_SIDE_LOAD_OPTS','mutActorUpdate','95690ztghTr','URL_TO_HASH_BUILDER','init','\x0a\x09\x09\x09</div>','pGetDereferencedVehicleUpgradeFeatureItem','_pGetDataSideLoaded','</i></div></p>\x0a\x09\x09\x09\x09','render','getNameWithSourcePart','pHasVehicleUpgradeSideLoadedEffects','isAddDataFlags','name','getCleanEntityName','propDroppable','1961156ywatpm','reward','3820864qIhSom','isActorItem','getUpgradeSummary','defaultPermission','<div>\x0a\x09\x09\x09\x09<p><i>','vehicle','/media/icon/gears.svg','1092275NomWCJ','MODULE_NAME_FAKE','_getVehicleUpgradeFlags','get','_pGetSaveImagePath','_pGetPreloadSideData','getSourceWithPagePart','PG_VEHICLES','isAddPermission','105buyWIG','_pGetDescriptionValue','setImplSideData'];_0x3c37=function(){return _0x39e6b7;};return _0x3c37();}import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{DataConverterFeature}from'./DataConverterFeature.js';class DataConverterVehicleUpgrade extends DataConverterFeature{static [_0x10584c(0x1a4)]={'propBrew':'foundryVehicleUpgrade','fnLoadJson':async()=>this['_pGetPreloadSideData'](),'propJson':_0x10584c(0x1db)};static [_0x10584c(0x1e7)]=_0x10584c(0x1df)+SharedConsts[_0x10584c(0x1e0)]+_0x10584c(0x1bc);static[_0x10584c(0x1a8)](){const _0x2c08ea=_0x10584c;PageFilterClassesFoundry[_0x2c08ea(0x1c8)](_0x2c08ea(0x1b5),this);}static async[_0x10584c(0x1aa)](_0x3c268f){const _0x3d3146=_0x10584c;if(_0x3c268f[_0x3d3146(0x1d2)])return MiscUtil['copy'](_0x3c268f);const _0x37a317=UrlUtil[_0x3d3146(0x1a7)][UrlUtil[_0x3d3146(0x1c4)]](_0x3c268f);return Renderer[_0x3d3146(0x1e5)][_0x3d3146(0x1e4)](UrlUtil[_0x3d3146(0x1c4)],_0x3c268f[_0x3d3146(0x1da)],_0x37a317,{'isCopy':!![]});}static async[_0x10584c(0x1cf)](_0x1a2ae2,{actor:actor=null}={}){const _0xb9d62e=_0x10584c,_0x565e3c={'vehicleUpgrade':_0x1a2ae2['name']+'|'+_0x1a2ae2[_0xb9d62e(0x1da)]};return await PageFilterClassesFoundry[_0xb9d62e(0x1e2)]({'vehicleUpgrade':_0x565e3c,'raw':_0x1a2ae2,'actor':actor}),_0x565e3c;}static async['pGetVehicleUpgradeItem'](_0x246274,_0x1c0be2){const _0x952d0e=_0x10584c;_0x1c0be2=_0x1c0be2||{};if(_0x1c0be2['actor'])_0x1c0be2[_0x952d0e(0x1b7)]=!![];return this[_0x952d0e(0x1dc)](_0x246274,_0x1c0be2);}static async['_pGetVehicleUpgradeItem_other'](_0x1226e6,_0x23076a){const _0x150439=_0x10584c,_0x536606=await this[_0x150439(0x1c7)](_0x1226e6),_0x39ff9b=_0x1226e6['_foundryData']||{},_0x381e70=await this[_0x150439(0x1ab)](_0x1226e6),_0x52abde=await this[_0x150439(0x1de)](_0x1226e6),_0x42eff2=await this[_0x150439(0x1c1)](_0x1226e6),_0xcdebdd=await this['_pGetVehicleUpgradeEffects'](_0x1226e6,_0x42eff2,_0x23076a)||[],_0x149b3e={'name':UtilApplications[_0x150439(0x1b2)](UtilDataConverter[_0x150439(0x1ae)](_0x1226e6,{'isActorItem':_0x23076a[_0x150439(0x1b7)]})),'data':{'source':UtilDataConverter[_0x150439(0x1c3)](_0x1226e6),'description':{'value':_0x536606,'chat':'','unidentified':''},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':0x0,'units':''},'target':{'value':0x0,'units':'','type':''},'range':{'value':0x0,'long':0x0,'units':null},'uses':{'value':0x0,'max':0x0,'per':''},'ability':'','actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null},'requirements':_0x39ff9b[_0x150439(0x1ca)]||'','recharge':{'value':0x0,'charged':!![]},..._0x381e70},'permission':{'default':0x0},'type':_0x150439(0x1c9),'img':_0x42eff2,'flags':{...this['_getVehicleUpgradeFlags'](_0x1226e6,_0x23076a),..._0x52abde},'effects':_0xcdebdd};if(_0x23076a[_0x150439(0x1b9)]!=null)_0x149b3e['permission']={'default':_0x23076a['defaultPermission']};else{if(_0x23076a[_0x150439(0x1c5)])_0x149b3e['permission']={'default':Config['get'](_0x150439(0x1d9),_0x150439(0x1e6))};}return _0x149b3e;}static['_pGetDescriptionValue'](_0x160c39){const _0x2bd350=_0x10584c;if(!Config[_0x2bd350(0x1c0)](_0x2bd350(0x1d9),'isImportDescription'))return'';return UtilDataConverter[_0x2bd350(0x1cc)](()=>{const _0x42cb16=_0x2bd350;return _0x42cb16(0x1ba)+Renderer[_0x42cb16(0x1bb)][_0x42cb16(0x1b8)](_0x160c39)+_0x42cb16(0x1ac)+Renderer[_0x42cb16(0x1c0)]()[_0x42cb16(0x1d0)](!![])[_0x42cb16(0x1ad)]({'entries':_0x160c39[_0x42cb16(0x1d2)]},0x1)+_0x42cb16(0x1a9);});}static async['pMutActorUpdateVehicleUpgrade'](_0x1c6041,_0x599fa5,_0x49d82f,_0x36cdd3){const _0x1abfed=_0x10584c,_0x226dbb=await this[_0x1abfed(0x1e3)](_0x49d82f);this[_0x1abfed(0x1a5)](_0x1c6041,_0x599fa5,_0x49d82f,{'sideData':_0x226dbb});}static[_0x10584c(0x1bf)](_0x30c34f,_0x3f5926){const _0x1f4161=_0x10584c;_0x3f5926=_0x3f5926||{};const _0x59a16d={[SharedConsts[_0x1f4161(0x1be)]]:{'page':UrlUtil[_0x1f4161(0x1c4)],'source':_0x30c34f[_0x1f4161(0x1da)],'hash':UrlUtil[_0x1f4161(0x1a7)][UrlUtil['PG_VEHICLES']](_0x30c34f)}};return _0x3f5926[_0x1f4161(0x1b0)]&&(_0x59a16d[SharedConsts[_0x1f4161(0x1be)]][_0x1f4161(0x1b3)]=_0x1f4161(0x1db),_0x59a16d[SharedConsts['MODULE_NAME_FAKE']][_0x1f4161(0x1d3)]=_0x3f5926['filterValues']),_0x59a16d;}static async[_0x10584c(0x1e3)](_0xb5fe1){const _0x56e760=_0x10584c;return this['_pGetSideLoadedMatch'](_0xb5fe1,this[_0x56e760(0x1a4)]);}static async[_0x10584c(0x1d1)](_0x2e486a,_0x229c61,{isActorItem:_0x1ce097}={}){const _0x10907e=_0x10584c;if(_0x1ce097)return[];if(await this[_0x10907e(0x1af)](null,_0x2e486a))return this[_0x10907e(0x1d5)](null,_0x2e486a,null,{'img':_0x229c61});return[];}static async[_0x10584c(0x1af)](_0x44cb0d,_0x5c9cdd){const _0x5c7167=_0x10584c;return(await DataConverter[_0x5c7167(0x1d8)](_0x5c9cdd,this['_SIDE_LOAD_OPTS']))?.[_0x5c7167(0x1d7)]>0x0;}static async['pGetVehicleUpgradeItemEffects'](_0x507b8b,_0x54965b,_0xf5cf94,{additionalData:_0x1d026d,img:_0x2de6d8}={}){const _0x5f05c3=_0x10584c,_0x29adb1=await DataConverter[_0x5f05c3(0x1d8)](_0x54965b,this['_SIDE_LOAD_OPTS']);return UtilActiveEffects[_0x5f05c3(0x1dd)](_0x29adb1||[],{'actor':_0x507b8b,'sheetItem':_0xf5cf94,'parentName':_0x54965b[_0x5f05c3(0x1b1)],'additionalData':_0x1d026d,'img':_0x2de6d8});}static async[_0x10584c(0x1c2)](){const _0x1149a9=_0x10584c;if(!this[_0x1149a9(0x1e8)])this[_0x1149a9(0x1e8)]=await Vetools['pGetVehicleUpgradeSideData']();return this[_0x1149a9(0x1e8)];}}function _0x4628(_0x176a82,_0x325f70){const _0x3c37ab=_0x3c37();return _0x4628=function(_0x46284d,_0x3d586a){_0x46284d=_0x46284d-0x1a4;let _0x178265=_0x3c37ab[_0x46284d];return _0x178265;},_0x4628(_0x176a82,_0x325f70);}export{DataConverterVehicleUpgrade};