const _0x280e1e=_0x17ca;(function(_0x12e387,_0x4b3c82){const _0x3a1d27=_0x17ca,_0x30ede6=_0x12e387();while(!![]){try{const _0x23c169=-parseInt(_0x3a1d27(0x169))/0x1*(parseInt(_0x3a1d27(0x150))/0x2)+-parseInt(_0x3a1d27(0x12c))/0x3+-parseInt(_0x3a1d27(0x16e))/0x4*(parseInt(_0x3a1d27(0x140))/0x5)+parseInt(_0x3a1d27(0x13c))/0x6+-parseInt(_0x3a1d27(0x167))/0x7*(parseInt(_0x3a1d27(0x145))/0x8)+parseInt(_0x3a1d27(0x130))/0x9+-parseInt(_0x3a1d27(0x12f))/0xa*(-parseInt(_0x3a1d27(0x137))/0xb);if(_0x23c169===_0x4b3c82)break;else _0x30ede6['push'](_0x30ede6['shift']());}catch(_0x1b9ca2){_0x30ede6['push'](_0x30ede6['shift']());}}}(_0xc7a4,0x508c2));import{DataConverter}from'./DataConverter.js';import{UtilActors}from'./UtilActors.js';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilCompendium}from'./UtilCompendium.js';import{DataConverterActor}from'./DataConverterActor.js';import{Vetools}from'./Vetools.js';function _0x17ca(_0x95491c,_0xf66252){const _0xc7a4e7=_0xc7a4();return _0x17ca=function(_0x17cab7,_0x5c7817){_0x17cab7=_0x17cab7-0x126;let _0x1a6dd4=_0xc7a4e7[_0x17cab7];return _0x1a6dd4;},_0x17ca(_0x95491c,_0xf66252);}class DataConverterCreature extends DataConverter{static [_0x280e1e(0x16a)]={'propBrew':_0x280e1e(0x166),'fnLoadJson':Vetools[_0x280e1e(0x151)][_0x280e1e(0x154)](Vetools),'propJson':'monster'};static async['pGetParsedAction'](_0x2db5e9,_0x2068f2,_0x54f707){const _0x438a17=_0x280e1e,{damageTuples:_0x12369c,formula:_0x46101c,offensiveAbility:_0x1c26b3,isAttack:_0x210a64,rangeShort:_0x113274,rangeLong:_0x2af384,actionType:_0x21150f,isProficient:_0x5e3140,attackBonus:_0x5ee2fe}=DataConverterActor[_0x438a17(0x134)](_0x2db5e9,_0x2068f2,_0x54f707,{'mode':_0x438a17(0x14e),'summonSpellLevel':_0x2db5e9[_0x438a17(0x14f)]??_0x2db5e9[_0x438a17(0x14c)]}),_0x19a865=await this[_0x438a17(0x16b)](_0x2db5e9,_0x2068f2,_0x54f707,{'isAttack':_0x210a64});return{'damageTuples':_0x12369c,'formula':_0x46101c,'offensiveAbility':_0x1c26b3,'isAttack':_0x210a64,'rangeShort':_0x113274,'rangeLong':_0x2af384,'actionType':_0x21150f,'isProficient':_0x5e3140,'attackBonus':_0x5ee2fe,'_foundryData':_0x2068f2[_0x438a17(0x159)],'foundryData':_0x2068f2[_0x438a17(0x146)],'_foundryFlags':_0x2068f2[_0x438a17(0x160)],'foundryFlags':_0x2068f2['foundryFlags'],'img':_0x19a865};}static async[_0x280e1e(0x16b)](_0x4db9d9,_0x2159c,_0x371e92,_0x59ce96){const _0x3ce7a5=_0x280e1e;_0x59ce96=_0x59ce96||{};const _0x2da1cd=await this[_0x3ce7a5(0x143)](_0x4db9d9,_0x2159c,_0x371e92,_0x59ce96);if(_0x2da1cd)return _0x2da1cd;if(_0x2159c[_0x3ce7a5(0x12e)]){if(_0x2159c[_0x3ce7a5(0x12e)][_0x3ce7a5(0x148)]()[_0x3ce7a5(0x15d)](_0x3ce7a5(0x139)))return _0x3ce7a5(0x156);if(/^eye ray/i[_0x3ce7a5(0x12b)](_0x2159c[_0x3ce7a5(0x12e)]))return'icons/commodities/biological/eye-tentacle-green-yellow.webp';}return'modules/'+SharedConsts[_0x3ce7a5(0x162)]+_0x3ce7a5(0x14a);}static async[_0x280e1e(0x143)](_0x440203,_0x33de8e,_0x5dc625,_0x12b2d8){const _0x26b4b2=_0x280e1e;_0x12b2d8=_0x12b2d8||{};const _0x3e4c9b=await DataConverter[_0x26b4b2(0x141)](_0x26b4b2(0x14d),_0x33de8e);if(_0x3e4c9b)return _0x3e4c9b;const _0x1dbbdb=await UtilCompendium[_0x26b4b2(0x157)](_0x26b4b2(0x14d),_0x33de8e,{'fnGetAliases':this[_0x26b4b2(0x155)]['bind'](this,{'isAttack':_0x12b2d8['isAttack'],'isLegendary':_0x12b2d8[_0x26b4b2(0x138)]}),'isIgnoreSrd':!![]});if(_0x1dbbdb)return _0x1dbbdb;const _0x5c1bab=await UtilCompendium[_0x26b4b2(0x158)](_0x26b4b2(0x14d),_0x33de8e,{'fnGetAliases':this[_0x26b4b2(0x155)][_0x26b4b2(0x154)](this,{'isAttack':_0x12b2d8[_0x26b4b2(0x127)],'isLegendary':_0x12b2d8[_0x26b4b2(0x138)]})});if(_0x5c1bab)return _0x5c1bab;return null;}static async['pGetTraitReactionLegendaryImage'](_0x5a9f2b,_0x1656b8,_0x55f30d,_0xe8b17d){const _0x256b2c=_0x280e1e;_0xe8b17d=_0xe8b17d||{};const _0x558b63=await this[_0x256b2c(0x143)](_0x5a9f2b,_0x1656b8,_0x55f30d,_0xe8b17d);if(_0x558b63)return _0x558b63;return'modules/'+SharedConsts[_0x256b2c(0x162)]+_0x256b2c(0x15f);}static async[_0x280e1e(0x12a)](_0xcfa72f,_0xc71b7,_0x407401){const _0x1ec297=_0x280e1e,_0x3fb65f=await this[_0x1ec297(0x143)](_0xcfa72f,_0xc71b7,_0x407401);if(_0x3fb65f)return _0x3fb65f;return _0x1ec297(0x152)+SharedConsts[_0x1ec297(0x162)]+'/media/icon/mountain-cave.svg';}static async[_0x280e1e(0x164)](_0x324e62,_0x2feff0,_0x4f8551){const _0x745e9=_0x280e1e,_0x5e4812=await this[_0x745e9(0x143)](_0x324e62,_0x2feff0,_0x4f8551);if(_0x5e4812)return _0x5e4812;return'modules/'+SharedConsts['MODULE_NAME']+_0x745e9(0x16c);}static async[_0x280e1e(0x126)](_0x3f6bc5,_0x2a5209,_0x310dfe){const _0x47f8f2=_0x280e1e,_0x189bf3=await this[_0x47f8f2(0x143)](_0x3f6bc5,_0x2a5209,_0x310dfe);if(_0x189bf3)return _0x189bf3;return _0x47f8f2(0x152)+SharedConsts['MODULE_NAME']+_0x47f8f2(0x132);}static[_0x280e1e(0x155)](_0x49f773,_0x3c6578){const _0x10b5fb=_0x280e1e;if(!_0x3c6578[_0x10b5fb(0x12e)])return[];const _0x538bee=[],_0xa81a4f=_0x3c6578[_0x10b5fb(0x12e)][_0x10b5fb(0x12d)](/\([^)]+\)/g,'')[_0x10b5fb(0x12d)](/\s+/g,'\x20')[_0x10b5fb(0x16d)]();if(_0xa81a4f!==_0x3c6578['name'])_0x538bee[_0x10b5fb(0x149)](_0xa81a4f);const _0x37942b=_0x3c6578[_0x10b5fb(0x12e)][_0x10b5fb(0x12d)](/{@[^}]+}/g,'')['replace'](/\s+/g,'\x20')[_0x10b5fb(0x16d)]();if(_0x37942b!==_0x3c6578[_0x10b5fb(0x12e)])_0x538bee[_0x10b5fb(0x149)](_0x37942b);if(_0x49f773[_0x10b5fb(0x138)])_0x538bee['push'](_0x3c6578['name']+_0x10b5fb(0x15a));if(_0x49f773[_0x10b5fb(0x127)])_0x538bee[_0x10b5fb(0x149)](_0x3c6578[_0x10b5fb(0x12e)]+'\x20Attack');const _0x2cc9c1=_0x3c6578[_0x10b5fb(0x12e)][_0x10b5fb(0x12d)](/ Attack$/,'');if(_0x2cc9c1!==_0x3c6578['name'])_0x538bee[_0x10b5fb(0x149)](_0x2cc9c1);return _0x538bee;}static[_0x280e1e(0x142)](_0x1a77fd,_0x12799c,_0xb63e98){const _0x5d3297=_0x280e1e,_0x50bee8={};return Object[_0x5d3297(0x133)](UtilActors[_0x5d3297(0x13a)])[_0x5d3297(0x153)](([_0x5d0375,_0x3e5e16])=>{const _0x291076=_0x5d3297,_0x19b69a=Parser[_0x291076(0x147)](_0x3e5e16),{profType:_0xb7772a,bonusCheck:_0x254085}=this[_0x291076(0x13d)]({'mon':_0x1a77fd,'dataBuilderOpts':_0xb63e98,'full':_0x3e5e16,'ab':_0x19b69a});_0x50bee8[_0x5d0375]={'value':_0xb7772a,'ability':_0x19b69a,'bonuses':{'check':_0x254085,'passive':''}};}),_0x50bee8;}static[_0x280e1e(0x13d)]({mon:_0x255b9b,dataBuilderOpts:_0x253be5,full:_0x5054a3,ab:_0x330a7f}){const _0x123cc3=_0x280e1e;if(!_0x255b9b['skill']?.[_0x5054a3])return{'profType':0x0,'bonusCheck':0x0};const _0x81961f=/^\s*(?<number>[-+]?\s*\d+)\s*(?:[-+]|$)/[_0x123cc3(0x136)](''+_0x255b9b[_0x123cc3(0x144)][_0x5054a3]);if(!_0x81961f)return{'profType':0x0,'bonusCheck':0x0};const _0x3b2074=Number(_0x81961f[_0x123cc3(0x13f)]['number']['replace'](/\s+/g,'')),_0x503d3b=Parser[_0x123cc3(0x129)](_0x255b9b[_0x330a7f]||0x0);if(_0x3b2074===_0x503d3b)return{'profType':0x0,'bonusCheck':0x0};const _0x3ab1bc=_0x503d3b+_0x253be5[_0x123cc3(0x161)],_0x8ad568=_0x503d3b+0x2*_0x253be5[_0x123cc3(0x161)];if(_0x3ab1bc===_0x3b2074)return{'profType':0x1,'bonusCheck':0x0};if(_0x8ad568===_0x3b2074)return{'profType':0x2,'bonusCheck':0x0};const _0x527b91=_0x3b2074>=_0x8ad568?0x2:_0x3b2074>=_0x3ab1bc?0x1:0x0;return{'profType':_0x527b91,'bonusCheck':_0x527b91===0x0?_0x3b2074:_0x527b91===0x1?_0x3b2074-_0x3ab1bc:_0x3b2074-_0x8ad568};}static['isSlotSpellcaster'](_0x32846f){const _0x4e01a4=_0x280e1e;return _0x32846f[_0x4e01a4(0x15b)]&&_0x32846f[_0x4e01a4(0x15b)][_0x4e01a4(0x13e)](_0x4979e8=>_0x4979e8[_0x4e01a4(0x135)]);}static[_0x280e1e(0x15e)](_0x498153,_0x4ba47d,_0x583c85){const _0x207a84=_0x280e1e,_0xc7aed7={};_0xc7aed7[_0x207a84(0x13b)]={'value':0x0,'max':0x0};if(this[_0x207a84(0x128)](_0x498153))for(let _0x1710cc=0x1;_0x1710cc<0xa;++_0x1710cc){const _0x841315=_0x207a84(0x163)+_0x1710cc;_0xc7aed7[_0x841315]=_0xc7aed7[_0x841315]||{'value':0x0,'max':0x0,'override':null},_0x498153[_0x207a84(0x15b)][_0x207a84(0x168)](_0x3a9975=>_0x3a9975['spells']&&_0x3a9975['spells'][_0x1710cc]&&_0x3a9975[_0x207a84(0x135)][_0x1710cc]['slots'])[_0x207a84(0x153)](_0x465c5a=>{const _0x28ab75=_0x207a84,_0x506b31=_0x465c5a[_0x28ab75(0x135)][_0x1710cc];if(_0x506b31['lower']){_0xc7aed7['pact']=_0xc7aed7['pact']||{'value':0x0,'max':0x0,'level':_0x583c85[_0x28ab75(0x15c)],'override':0x0},_0xc7aed7[_0x28ab75(0x14b)][_0x28ab75(0x131)]+=_0x506b31['slots'],_0xc7aed7[_0x28ab75(0x14b)]['max']+=_0x506b31[_0x28ab75(0x165)],_0xc7aed7[_0x28ab75(0x14b)]['override']+=_0x506b31[_0x28ab75(0x165)];return;}_0xc7aed7[_0x841315][_0x28ab75(0x131)]+=_0x506b31[_0x28ab75(0x165)],_0xc7aed7[_0x841315]['max']+=_0x506b31[_0x28ab75(0x165)];});}else for(let _0x47f9e2=0x1;_0x47f9e2<0xa;++_0x47f9e2){_0xc7aed7['spell'+_0x47f9e2]={'value':0x0,'max':0x0,'override':null};}return _0xc7aed7;}}export{DataConverterCreature};function _0xc7a4(){const _0x22e01=['foundryData','skillToAbilityAbv','toLowerCase','push','/media/icon/mailed-fist.svg','pact','summonedBySpellLevel','monsterFeature','creature','_summonedBySpell_level','21994bpajtG','pGetCreatureSideData','modules/','forEach','bind','_getFeatureSrdAliases','icons/magic/fire/blast-jet-stream-embers-yellow.webp','pGetCompendiumImage','pGetActorItemCompendiumImage','_foundryData','\x20(Legendary)','spellcasting','spellLevel','startsWith','getDataSpells','/media/icon/mighty-force.svg','_foundryFlags','assumedPb','MODULE_NAME','spell','pGetSpellcastingImage','slots','foundryMonster','1871583rCRajk','filter','26smLKvO','_SIDE_LOAD_OPTS','_pGetParsedAction_getImg','/media/icon/spell-book.svg','trim','308SnMDfH','pGetVariantImage','isAttack','isSlotSpellcaster','getAbilityModNumber','pGetLairActionImage','test','471582WSXviN','replace','name','140eScZKz','5781960URRiFj','value','/media/icon/archive-research.svg','entries','getParsedActionEntryData','spells','exec','175769FFCeuW','isLegendary','breath\x20weapons','SKILL_ABV_TO_FULL','spell0','1585182edVZYg','_getDataSkills_getSkillMeta','some','groups','5840NiNHkD','pGetIconImage','getDataSkills','_getFeatureImage','skill','8HOUthY'];_0xc7a4=function(){return _0x22e01;};return _0xc7a4();}